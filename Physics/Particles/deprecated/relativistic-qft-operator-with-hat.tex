\documentclass[hyperref, UTF8, a4paper]{ctexart}

\usepackage{geometry}
\usepackage{titling}
\usepackage{titlesec}
\usepackage{paralist}
\usepackage{footnote}
\usepackage{enumerate}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{simplewick}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{physics}
\usepackage{centernot}
\usepackage{tikz}
\usepackage[colorlinks, linkcolor=black, anchorcolor=black, citecolor=black]{hyperref}
\usepackage{prettyref}

\geometry{left=3.18cm,right=3.18cm,top=2.54cm,bottom=2.54cm}
\titlespacing{\paragraph}{0pt}{1pt}{10pt}[20pt]
\setlength{\droptitle}{-5em}
\preauthor{\vspace{-10pt}\begin{center}}
\postauthor{\par\end{center}}

\DeclareMathOperator{\timeorder}{T}
\DeclareMathOperator{\diag}{diag}
\newcommand*{\ii}{\mathrm{i}}
\newcommand*{\ee}{\mathrm{e}}
\newcommand*{\const}{\mathrm{const}}
\newcommand*{\comment}{\paragraph{注记}}
\newcommand{\fsl}[1]{{\centernot{#1}}}
\newcommand*{\reals}{\mathbb{R}}
\newcommand*{\complexes}{\mathbb{C}}

\newrefformat{sec}{第\ref{#1}节}
\newrefformat{note}{注\ref{#1}}
\renewcommand{\autoref}{\prettyref}

\newenvironment{bigcase}{\left\{\quad\begin{aligned}}{\end{aligned}\right.}

\newcommand{\concept}[1]{\underline{\textbf{#1}}}
\renewcommand{\emph}{\textbf}

\allowdisplaybreaks[4]

\title{相对论性量子场论}
\author{吴晋渊}

\begin{document}

\maketitle

\vspace{2em}

如无特殊说明，本文所谓的本征态指的都是归一化。
希腊字母的指标跑遍所有时空维度，而拉丁字母的指标仅仅跑遍空间维度，也就是$\mu, \nu, \ldots = 0, 1, 2, 3$而$i, j, \ldots = 1, 2, 3$。
常规斜体字母$x, y, p$等若经说明为多分量对象，默认为四维矢量，相应的，$\vb*{x}, \vb*{y}, \vb*{p}$等为它们的空间部分。
指标$a,b,\ldots$也有可能指各种多分量对象的指标，未必正好取$1, 2, 3$。
$T$表示编时算符，$N$表示正规序算符。

\section{相对论和量子理论}

物理实验表明存在一个时间轴，且存在\concept{粒子}，它的自由度在不考虑引力导致的空间翘曲时包括一个三维欧氏空间，可能还有一些内禀自由度。
狭义相对论还告诉我们，移动参考系，时间和空间的变换是洛伦兹变换，这对应一个$3+1$维闵可夫斯基时空，即度规可以化为
\begin{equation}
    \eta_{\mu\nu} = \diag (1, -1, -1, -1)
\end{equation}
的四维几何。通常使用$t, x, y, z$或者$x^0, x^1, x^2, x^3$来依次标记这4个坐标。
容易看出$x, y, z$或者说$x^1, x^2, x^3$就构成一个三维欧氏几何，它们是\concept{空间维}。
$x^0$则是\concept{时间维}。

在狭义相对论中难以使用哈密顿动力学，因为此时“时间”的概念是不清楚的：应该使用固有时还是坐标时？
因此，简单地将单粒子量子力学移植到相对论时空中不是好的选择。
另一方面，我们还面临另一个问题：将已知在相对论情况下运作良好的场论移植到量子力学中。

进一步的分析展示出，实际上场算符的线性叠加自然给出了一组产生湮灭算符，它们作用在理论的基态上可以覆盖整个希尔伯特空间，而这些产生湮灭算符的标签——如动量、自旋等——正好也是单粒子的标签。
也即，场的希尔伯特空间实际上是多粒子态的Fock空间。这就是\concept{量子场论}的思想。
“量子场论”这个说法实际上会引起一些可能的误解。最广泛地说，它指的是场的量子力学，但是实际上这个术语一般表示“认为场的哈密顿量是谐振子哈密顿量加上相互作用项之后得到的，场是粒子的产生湮灭算符，从而多粒子态可以看成场的激发态”的理论框架。
经典场论中谐振子可以连续变化，而量子的谐振子的能级则是分立的；当有无限多个自由度时，这些分立的能级实际上就给出了多粒子态。
实际上，通常所说的“量子场论”的意义更加局限，指的是满足相对论协变性的量子场论，即高能物理的量子场论；物理中如果需要分析非相对论协变性的量子场论，一般都是在分析凝聚态系统，此时基本的场就是电子场而相互作用是库仑相互作用，称为\concept{凝聚态场论}。

凝聚态场论实际上已经足够复杂；在高能物理的量子场论中我们通常只分析少数几个粒子的散射过程，基态为真空态，而凝聚态场论中讨论含有大量粒子的基态、讨论束缚态问题都是非常常见的。
另一方面，凝聚态场论不受到相对论协变性约束，因此其中有更多可能性。
很多时候高能物理的量子场论实际上反而更加简单，虽然凝聚态场论背后的基本物理机制实际上只有库仑相互作用。

\section{洛伦兹群及其表示}\label{sec:symmetry}

粒子物理中底流形是给定的：四维闵可夫斯基时空，因此讨论时空的拓扑没有什么意义；我们将直接开始讨论闵可夫斯基时空的对称性。
对称性可以大致分为两类：一类来自时空坐标变换，可能是平移，也可能是旋转或者推动，此时$\var{x}$不为零，且常常$\bar{\var}{\phi}$也不为零（注意即使平移时$\bar{\var}{\phi}$也不为零，这是为了保持$\var{\phi}$始终为零）；
另一类为\concept{内禀对称性}，它指的是$\var{x}$为零而$\bar{\var}{\phi}$不为零的变换。
无论是时空坐标变换还是内禀对称性实际上都是某些对称群——在本文中通常是一些李群——的表示。
李群的连通分支可以完全用它的李代数加上指数映射
\[
    g = \exp(\ii \theta^i \sigma_i)
\]
描述，其中$g$是任意的李群群元而$\theta^i$为群参数，而不同分支之间的切换则对应某个离散的群，因此我们只需要讨论离散群的表示和李代数的表示就可以。

李代数的表示可以分成有限维表示，即矩阵表示，和无限维表示，通常是把李代数中的生成元写成一些导数算符。
从李代数的有限维表示可以导出其无限维表示以及\concept{场表示}，设$\phi(x)$是一个场，$R(\Lambda)$是李群成员$\Lambda$在坐标上的有限维表示，$M(\Lambda)$是$\Lambda$在$\phi(x)$的场值上的有限维表示，则将$\Lambda$作用在$\phi(x)$上，就有
\[
    \phi'(R(\Lambda) x) = M(\Lambda) \phi(x),
\]
现在让$\Lambda$为无穷小操作，$\theta$为很小的群参数取值，$\sigma$是全体生成元，就得到
\begin{equation}
    \var{\phi} = \underbrace{\theta^i M(\sigma_i) \phi}_{\var{\bar{\phi}}} - (\theta^i R(\sigma_i))^\mu \partial_\mu \phi,
\end{equation}
第一项就是李代数的有限维表示作用在了$\phi$的场值上，第二项是有限维表示作用在坐标上而诱导出的无限维表示，两者共同组成了所谓的场表示。

我们通常要求李群的有限维表示是幺正的，因为如前所述场经过量子化后被提升为场算符，而场算符作用在真空态上得到多粒子态，既然多粒子态的变换是幺正的，场算符的变换也必须是幺正的。
这里还有一个对应关系：设$M_\text{state}$是某个群在态空间上的表示（而与此同时不改变与之配套的算符），而$M_\text{field}$是某个群在算符上的场表示（而与此同时不改变量子态），则
\begin{equation}
    \comm*{M_\text{state}}{\psi} = M_\text{field} \psi,
    \label{eq:field-and-state-corr}
\end{equation}
其中$\psi$为任意的场。

\subsection{平移}\label{sec:translation}

平移可能是我们能想到的最简单的变换，但实际上它相当特殊——在实际的物理问题中平移群通常不使用矩阵群表示，因为它无疑不是线性的。%
\footnote{可以在仿射空间中使用矩阵表示平移，但是这对本文没有太大意义。}

生成元$P^\mu$

\begin{equation}
    \comm*{P_\mu}{P_\nu} = 0.
    \label{eq:comm-of-trans}
\end{equation}

接下来讨论平移群的线性表示。非Cartan元素的缺乏意味着平移群的有限维表示中不能够构造其Cartan元素（也就是全体平移生成元）的升降算符，因此平移群的有限维表示一定是平凡的。
因此转而观察其无限维表示。我们考虑
\[
    \phi'(x) = \phi(x - a) = \phi(x) - a^\mu \partial_\mu \phi,
\]
其中$a$是一个小量。于是，平移群的李代数的无穷维表示形如
\[
    P_\mu \propto - \partial_\mu.
\]
不失一般性地我们取幺正表示，并适当选取群参数，那么就有
\begin{equation}
    P_0 = \ii \partial_0, \quad P_i = - \ii \partial_i.
    \label{eq:transition-inf-rep}
\end{equation}
我们特意让时间平移变换的方向和空间平移的方向反过来了。
这是为了和物理中通常的时间演化方程的形式匹配。

\subsection{旋转}\label{sec:rotation}

\subsubsection{三维欧氏空间的旋转矩阵}

本节讨论$\reals^3$中的旋转。所谓旋转，指的是一个可微的（从而可以通过一个物理上的微分方程实现的）等距同构变换。
显然，$\reals^3$中的等距同构变换的全体就是$O(3)$，其中任何一个矩阵的行列式都是$\pm 1$。
另一方面，变换可微意味着，可以找到形如下式的无穷小变换：
\[
    \vb*{r} \longrightarrow \vb*{r}' = \vb*{r} + \dd{\vb*{r}}, \quad \dd{\vb*{r}} = \dd{t} \vb*{A} \cdot \vb*{r},
\]
从而
\[
    \dv{\vb*{r}'}{\vb*{r}} = \vb*{I} + \dd{t} \vb*{A},
\]
\[
    \det \left( \dv{\vb*{r}'}{\vb*{r}} \right) = 1 + \dd{t} \trace \vb*{A} \approx 1.
\]
因此$\reals^3$中的旋转变换的全体就是$SO(3)$，也就是行列式为1的全体$3\times 3$矩阵。

我们来分析$SO(3)$的结构。矩阵$A$在$SO(3)$中，当且仅当
\begin{equation}
    A A^\top = I, \quad \det A = 1.
    \label{eq:def-so3}
\end{equation}
矩阵$A$含有9个分量；$A A^\top = I$是对称的，因此它等价于6个独立的纯数量方程；
$\det A = \pm 1$可以直接从$A A^\top=I$推出，则$\det A = 1$的要求仅仅是去掉了其中的一支，因此对维数没有影响。
这样，$SO(3)$就是$9-6=3$维的，因此它有三个彼此独立的生成元。
注意到绕$x$轴旋转、绕$y$轴旋转、绕$z$轴旋转都是$SO(3)$的子群，这三者的表达式分别为
\begin{equation}
    R_x = \pmqty{1 & 0 & 0 \\ 0 & \cos \theta & -\sin \theta \\ 0 & \sin \theta & \cos \theta}, 
    R_y = \pmqty{\cos \theta & 0 & \sin \theta \\ 0 & 1 & 0 \\ - \sin \theta & 0 & \cos \theta}, 
    R_z = \pmqty{\cos \theta & - \sin \theta & 0 \\ \sin \theta & \cos \theta & 0 \\ 0 & 0 & 1}.
    \label{eq:rotation-with-axis}
\end{equation}
\eqref{eq:rotation-with-axis}自然导出三个生成元：
\begin{equation}
    J_1 = \ii \pmqty{0 & 0 & 0 \\ 0 & 0 & -1 \\ 0 & 1 & 0}, 
    J_2 = \ii \pmqty{0 & 0 & 1 \\ 0 & 0 & 0 \\ -1 & 0 & 0}, \\
    J_3 = \ii \pmqty{0 & -1 & 0 \\ 1 & 0 & 0 \\ 0 & 0 & 0}.
    \label{eq:generators-of-so3}
\end{equation}
注意到各个生成元都是厄米的，因为$SO(3)$在此处的矩阵表示是幺正的。
\eqref{eq:generators-of-so3}也可以直接通过分析$SO(3)$的抽象性质得到。
对无穷小变换$A = I + \theta J$（$\theta$是小量），\eqref{eq:def-so3}中的两个方程分别代表
\[
    (I+\theta J) (I + \theta J^\top) = I, \quad \det (1 + \theta J) = 1 + \theta \trace J = 1,
\]
也就是
\[
    J + J^\top = 0, \quad \trace J = 0.
\]
上式描述了一个三阶方阵构成的向量空间，容易看出\eqref{eq:generators-of-so3}正是它的一组基。
通过显式表达式\eqref{eq:generators-of-so3}可以导出
\begin{equation}
    [J_i, J_j] = \ii \epsilon_{ijk} J_k.
    \label{eq:lie-algebra-so3}
\end{equation}
% TODO：这里好像正负号有问题？
这就得到了旋转群的李代数的对易关系，从而我们刻画了$SO(3)$的李代数的结构。

\subsubsection{$SU(2)$群}

然而，能够实施空间旋转的并不只有$SO(3)$。实际上，$SU(2)$也能做到这件事。
下面我们引入$SU(2)$群。$SU(2)$是由二阶复方阵组成的矩阵群，由
\begin{equation}
    A^\dagger A = I, \quad \det A = 1
    \label{eq:def-su2}
\end{equation}
定义。
二阶复数方阵一共有$4 \times 2 = 8$个自由度。矩阵方程$A^\dagger A = I$含有4个复数方程，
但是因为它是厄米的，因此它只含有2个独立的复数方程，从而它含有4个独立的实数方程，也即它将总自由度降到了4。
从$A^\dagger A = I$只能够推出$\abs{\det A} = 1$，$\det A$仍然可以连续变化；
$\det A = 1$则将$\det A$确定到一个点上面，因此它将总自由度降到了3。
因此$SU(2)$的维度为3。
可以证明，$SU(2)$中的每一个元素均形如
\begin{equation}
    A = a \mathbf{1} + b \mathbf{i} + c \mathbf{j} + d \mathbf{k}, \quad a^2 + b^2 + c^2 + d^2 = 1,
    \label{eq:su2-expression}
\end{equation}
其中
\begin{equation}
    \mathbf{1} = \pmqty{1 & 0 \\ 0 & 1}, \; \mathbf{i} = \pmqty{0 & -1 \\ 1 & 0}, \; 
    \mathbf{j} = \pmqty{0 & \ii \\ \ii & 0}, \; \mathbf{k} = \pmqty{\ii & 0 \\ 0 & -\ii},
    \label{eq:quad-basis}
\end{equation}
它们实际上就是四元数。
可以直接使用以上两式计算出$SU(2)$的生成元，但是这样比较繁琐。
使用$SU(2)$的一般定义\eqref{eq:def-su2}，套用到无穷小变换
\[
    A = I + \ii \epsilon \sigma
\]
上，可以发现$\sigma$是幺正、无迹的矩阵；幺正、无迹的矩阵的一组基（通常称为\concept{泡利矩阵}）为
\begin{equation}
    \sigma_1 = \pmqty{0 & 1 \\ 1 & 0}, \; \sigma_2 = \pmqty{0 & -\ii \\ \ii & 0}, \; \sigma_3 = \pmqty{1 & 0 \\ 0 & -1}.
    \label{eq:sigma-matrix}
\end{equation}
它们也是厄米的。这正好是三个线性独立的矩阵，从而它们就是$SU(2)$的一组彼此独立的生成元。
我们有
\begin{equation}
    \comm{\frac{\sigma_i}{2}}{\frac{\sigma_j}{2}} = \ii \epsilon_{ijk} \frac{\sigma_k}{2},
\end{equation}
这表明$SU(2)$和$SO(3)$的李代数是一致的。

然而，$SU(2)$和$SO(3)$是两个不同的群。%
\footnote{当我们说两个群相同时我们是指它们在群论中同构，也就是说，我们所谓的“群”指的是抽象的群结构而不是具体的矩阵集合。
如果$SU(2)$和$SO(3)$中的元素可以一一对应，且在这个对应下相应的乘法关系不变，
那么这两个群——虽然使用了不同阶数的矩阵来表述——还是相同的。
然而正如我们马上要看到的那样，$SO(3)$中的一个元素可以和$SU(2)$中的两个元素相对应，且这种对应保持相应的乘法关系不变。
因此这两个群不同。}%
要看出这是为什么，考虑$SU(2)$在由\eqref{eq:quad-basis}的所有线性组合形成的空间上的表示。
记
\[
    q = a \mathbf{1} + b \mathbf{i} + c \mathbf{j} + d \mathbf{k}, \quad a^2 + b^2 + c^2 + d^2 = 1,
\]
显然它是$SU(2)$在二维复数空间上的矩阵表示。
可以验证
\[
    q^{-1} = a \mathbf{1} - b \mathbf{i} - c \mathbf{j} - d \mathbf{k},
\]
则$SU(2)$在\eqref{eq:quad-basis}的所有线性组合形成的空间上的作用可写成
\begin{equation}
    x \longrightarrow q x q^{-1}.
    \label{eq:su2-rotation}
\end{equation}
注意我们把$x$当成了算符来看待。
$\reals^3$中的向量$\vb*{v}$与
\begin{equation}
    x = v_1 \mathbf{i} + v_2 \mathbf{j} + v_3 \mathbf{k}
    \label{eq:trans-vec-quad}
\end{equation}
一一对应，且容易证明
\[
    \det x = \abs{\vb*{v}}.
\]
我们注意到
\[
    \det (q x q^{-1}) = (\det q) (\det x) (\det q^{-1}) = \det x,
\]
因此\eqref{eq:su2-rotation}是等距同构。由于$SU(2)$是李群，其表示\eqref{eq:su2-rotation}也必然是可微的。
这表明变换（这是将\eqref{eq:su2-rotation}和\eqref{eq:trans-vec-quad}写在一起的结果）
\[
    \vb*{v} \longrightarrow x \longrightarrow x' = q x q^{-1} \longrightarrow \vb*{v}'
\]
给出了$SO(3)$中全部的成员，而且也仅仅给出这么多成员。
然而，同一个变换\eqref{eq:su2-rotation}实际上对应着两个$q$。
% TODO:证明，不过多半鸽了
这表明$SU(2)$实际上是$SO(3)$的双覆盖。
\eqref{eq:su2-expression}意味着$SU(2)$实际上就是四维球面$S^4$，因此它是单连通群，
因此它是李代数$\mathfrak{so}(3)$——也就是$\mathfrak{su}(2)$——的覆盖群。
所有以$\mathfrak{so}(3)$为李代数的李群中$SU(2)$是最大的。

顺带提一句：以上的推导也表明，一个群在一个特定空间上的表示有时并不能完整地展现这个群的结构。
$\mathfrak{su}(2)$在$\reals^3$上的表示，也就是$\mathfrak{so}(3)$在$\reals^3$上的表示，就是\eqref{eq:generators-of-so3}，
把它放进指数映射中得到的就是$SO(3)$的三阶方阵形式。
因此$SU(2)$和$SO(3)$在$\reals^3$上的表示完全一样。
换而言之，$SU(2)$在$\reals^3$上的表示不是忠实的。
我们需要\eqref{eq:quad-basis}这样更大的空间才能完全展示$SU(2)$的结构。%
\footnote{严格来说本节中我们使用了两种$SU(2)$的表示。
其一是$q$，也就是$\complexes^2$上的表示，其二是\eqref{eq:su2-rotation}，也就是$GL(\complexes^2)$上的表示。
后者和$SO(3)$在$GL(\complexes^2)$上的表示完全一样，但后者中的每一个都对应两个$q$，
两者间的对应就是
\[
    \hat{B} \longrightarrow \hat{A} \hat{B} \hat{A}^{-1},
\]
它并非一一对应。}

\subsubsection{有限维不可约表示}

本节分析$SU(2)$的有限维不可约表示。注意到，$J_1, J_2, J_3$互不对易。因此$J_3$就是$\mathfrak{su}(2)$的一个Cartan子代数。
使用本征值标记这些本征矢为$\ket*{J_3^{(1)}}$, $\ket*{J_3^{(2)}}$, \dots。由于我们仅仅讨论有限维不可约表示，
本征值序列一定有上下限。记最大的本征值为$j$。
现在寻找升降算符。我们将使用寻找李代数中升降算符的一般方法，设升算符形如
\[
    \hat{a}^\dagger = \lambda^j J_j, \quad \comm*{\hat{a}^\dagger}{J_i} = c \hat{a}^\dagger,
\]
并设$f_{ij}^k$为李代数的结构常数，则方程
\[
    (f_{ji}^k - c \delta_j^k) \lambda^j = 0
\]
的非零解给出了全部$c$和$\lambda$。求解得到$c = \pm 1$，$c=1$对应着$\lambda^2 = \ii \lambda^1$，$\lambda^3 = 0$；$c=-1$对应着$\lambda^2 = - \ii \lambda^1$。
这表明有限维表示中仅有的升降算符为
\[
    J_+ \propto \lambda^1 J_1 + \ii \lambda^1 J_2, \quad J- \propto \lambda^1 J_1 - \ii \lambda^1 J_2. 
\]
习惯上我们取
\begin{equation}
    J_+ = \frac{1}{\sqrt{2}} (J_1 + \ii J_2), \quad J_- = \frac{1}{\sqrt{2}} (J_1 - \ii J_2).
\end{equation}
$J_+$让本征值加一，$J_-$让本征值减一。两个算符采取同样的系数是为了让$J_1,J_2,J_3$厄米时，$J_+$和$J_-$互为共轭转置。
容易得到下面的对易关系：
\begin{equation}
    \comm*{J_3}{J_{\pm}} = \pm J_3, \quad \comm*{J_+}{J_-} = J_3.
\end{equation}

从升降算符的定义可以得到
\[
    J_+ \ket{k} = \alpha_k \ket{k+1}, \quad J_- \ket{k+1} = \alpha_k^* \ket{k},
\]
由于$\ket{j}$是本征值最大的本征态，
\[
    J_+ \ket{j} = 0,
\]
从而
\[
    \bra{j} J_- = 0.
\]
我们有
\[
    J_- \ket{j} = \alpha_{j-1}^* \ket{j-1},
\]
两边求模长，
\[
    \begin{aligned}
        \abs{\alpha_{j-1}}^2 &= \abs{J_- \ket{j}}^2 = \mel{j}{J_+ J_-}{j} \\
        &= \mel{j}{J_+ J_-}{j} - \mel{j}{J_- J_+}{j} \\
        &= \mel{j}{[J_+, J_-]}{j} \\
        &= \mel{j}{J_3}{j} = \mel{j}{j}{j} = j.
    \end{aligned}
\]
没有其它条件能够确定$\alpha_{j-1}$具体应该取什么值。这是因为仅仅靠对易关系并不能够确定$J_1$和$J_2$（从而$J_+$和$J_-$）作用在$\ket{k}$上面会得到什么样的结果。
然而，注意到只要是同维度的非奇异有限维表示之间可以通过相似变换相互转换，%TODO真的吗
不失一般性地我们可以认为所有的$\alpha$都是正实数。于是
\[
    \alpha_{j-1} = \sqrt{j}.
\]
另一方面，
\[
    \begin{aligned}
        \abs{\alpha_k}^2 &= \abs{J_- \ket{k+1}}^2 = \mel{k+1}{J_+ J_-}{k+1} \\
        &= \mel{k+1}{[J_+, J_-]}{k+1} + \mel{k+1}{J_- J_+}{k+1} \\
        &= \mel{k+1}{J_3}{k+1} + \abs{J_+ \ket{k+1}} \\
        &= k+1 + \abs{\alpha_{k+1}}^2,
    \end{aligned} 
\]
于是可以递推得到
\[
    \abs{a_k} = \frac{(j+k+1)(j-k)}{2},
\]
得到显式表达式
\begin{equation}
    J_+ \ket{k} = \sqrt{\frac{(j+k+1)(j-k)}{2}} \ket{k+1}, \quad J_- \ket{k} = \sqrt{\frac{(j+k)(j-k+1)}{2}} \ket{k-1}.
    \label{eq:ladder-operators-of-su2}
\end{equation}
由于是有限维表示，反复作用$J_-$在$\ket{j}$上最后一定会得到$0$。由\eqref{eq:ladder-operators-of-su2}，得到零的唯一一种可能就是$k=-j$。这表明从$\ket{j}$出发不断作用$J_-$能够得到的全部非零本征向量为
\[
    \ket{j}, \; \ket{j-1}, \; , \ldots, \; \ket{-j+1}, \; \ket{-j},
\]
而由于$J_+$和$J_-$是仅有的升降算符，它们就是$J_3$仅有的本征向量。
这等价于$j$是半整数，且整个向量空间的维度为$2j+1$。
于是我们找到了$SU(2)$的所有不可约有限维表示。

作为最简单的两个例子：$j=0$时向量空间维数为1，所有李代数中的生成元都是0，而李群中的元素的表示为恒等运算；而在$j=1/2$时向量空间维度为2，相应的表示，使用$\ket{\frac{1}{2}}$和$\ket{-\frac{1}{2}}$为基底，就是$\sigma_1 / 2$，$\sigma_2 / 2$和$\sigma_3 / 2$。

舒尔引理说明，在这种有限维不可约表示中卡西米尔算符的表示一定是单位矩阵的某个倍数，因此可以使用这个倍数来标记有限维不可约表示。
就旋转群而言，
\begin{equation}
    J^2 = (J_1)^2 + (J_2)^2 + (J_3)^2
\end{equation}
足够起到这个作用了。容易验证这的确是一个卡西米尔算符，且
\begin{equation}
    J^2 \ket{k} = j (j+1) \ket{k}.
\end{equation}

$\mathfrak{su}(2)$的任何一个可约表示是若干不可约表示的直和。
我们使用$j$来标记各不可约表示，则$\mathfrak{su}(2)$的任何一个可约表示的基矢量均可以写成$\{\ket{jm}\}$，其中对于标记同一个矢量的$j$和$m$，有
\[
    m = -j, -j+1, \ldots, 0, \ldots, j,
\]
且$j$是半整数。

\subsubsection{无限维表示}

旋转群的李代数的无穷维表示为
\[
    (J_i)_\text{inf} = - ((J_i)_\text{fin} x) \cdot \grad.
\]
由于旋转群和时间维无关，梯度算符也可以看成是仅仅作用在空间维上的。
代入具体的值就得到
\begin{equation}
    J_1 = \ii (x^3 \partial_2 - x^2 \partial_3), \quad J_2 = \ii (x^1 \partial_3 - x^3 \partial_1), \quad
    J_3 = \ii (x^2 \partial_1 - x^1 \partial_2).
    \label{eq:rotation-inf-rep}
\end{equation}
很容易验证，以上三个算符确实满足李代数\eqref{eq:lie-algebra-so3}。

\subsection{洛伦兹群}

\subsubsection{四维闵可夫斯基时空中的洛伦兹矩阵}

首先讨论洛伦兹群在四维闵可夫斯基空间$\reals^{3, 1}$上的表示，也就是保持闵可夫斯基度规%
\footnote{当然，正如我们在欧氏空间的张量分析当中能够看到的那样，如果基矢量彼此不正交，那么度规就不能够写成对角形式。
这里我们实际上已经做了一个不失一般性的设定，要求度规一定是对角的。
这总是可以做到，因为不对角的度规可以通过一个合同变换（这个变换对应着一个坐标变换）变成对角的。}%
\begin{equation}
    \eta \equiv [\eta_{\mu \nu}]_{\mu \nu} = \diag (1, -1, -1, -1)
\end{equation}
不变的全体坐标变换矩阵$O(1,3)$。记这些矩阵中的一个为$\Lambda$，容易看出保持度规不变等价于
\begin{equation}
    \Lambda_\sigma^\mu \Lambda_\rho^\nu \eta_{\mu \nu} = \eta_{\sigma \rho},
\end{equation}
或者如果将$\Lambda$的矩阵形式看成是$[\Lambda^\mu_\nu]_{\mu \nu}$，%
\footnote{更加规范的写法是$\Lambda^\mu_{\ \nu}$，利用“第一个指标是行号、第二个指标是列号”的习惯。相应的也有$\Lambda_{\nu}^{\ \mu}$。
使用这种记号，
\[
    \Lambda_\sigma^\mu \Lambda_\rho^\nu \eta_{\mu \nu} = \Lambda_{\ \sigma}^\mu \eta_{\mu \nu} \Lambda_{\ \rho}^\nu = (\Lambda^T)_\sigma^{\ \mu} \eta_{\mu \nu} \Lambda_{\ \rho}^\nu = \Lambda^T \eta \Lambda.
\]
}%
那么就是
\begin{equation}
    \Lambda^\top \eta \Lambda = \eta.
    \label{eq:lorentz-matrix}
\end{equation}
从\eqref{eq:lorentz-matrix}可以看出
\begin{equation}
    \det \Lambda = \pm 1. 
    \label{eq:det-lorentz}
\end{equation}

\eqref{eq:lorentz-matrix}意味着
\[
    (\Lambda_0^0)^2 - (\Lambda_0^1)^2 - (\Lambda_0^2)^2 - (\Lambda_0^3)^2 = 1,
\]
从而
\begin{equation}
    \Lambda_0^0 = \pm \sqrt{1 + (\Lambda_0^1)^2 + (\Lambda_0^2)^2 + (\Lambda_0^3)^2}.
\end{equation}

现在我们将满足$\det \Lambda = 1 > 0$——也就是说，坐标系的手性不改变——以及$\Lambda_0^0 > 0$——也就是说，变换前的坐标时增加则变换后的坐标时也增加——的变换称为\concept{正规洛伦兹群}。
容易验证这确实是一个群。记之为$SO(1,3)^\uparrow$。
正规洛伦兹群由于不改变时间维的指向，设$a^\mu$是一个四维矢量，则$\theta(a^0)$在正规洛伦兹群下不变，其中$\theta$为阶跃函数。
正规洛伦兹群中的成员称为\concept{洛伦兹变换}。我们不认为接下来要谈到的含有宇称算符和时间反演算符的洛伦兹群成员为洛伦兹变换，因为它们无法通过可微的物理过程实现。

按照$\det \Lambda$和$\Lambda_0^0$的正负，可以将洛伦兹群分成四支。
其中两者皆为正的那一支就是$SO(1,3)^\uparrow$。
考虑矩阵
\begin{equation}
    \Lambda_P = \diag (1, -1, -1, -1), 
\end{equation}
容易看出，$\Lambda_P \Lambda$还是洛伦兹群的成员，并且
\[
    \det \Lambda = - \det (\Lambda_P \Lambda).
\]
它就是\concept{宇称算符}。同样，\concept{时间反演算符}
\begin{equation}
    \Lambda_T = \diag(-1, 1, 1, 1)
\end{equation}
也将一个洛伦兹变换转化为另一个洛伦兹变换，且
\[
    \Lambda_0^0 = - (\Lambda_T \Lambda)_0^0.
\]
由于这两个算符都是可逆的，且可以作用在任何洛伦兹群的成员上，实际上洛伦兹群的四支之间只相差一个宇称算符和/或一个时间反演算符，也就是
\begin{equation}
    O(1, 3) = \{ SO(1,3)^\uparrow, \Lambda_P SO(1,3)^\uparrow, \Lambda_T SO(1,3)^\uparrow, \Lambda_T \Lambda_P SO(1,3)^\uparrow \}.
    \label{eq:4-parts-of-o13}
\end{equation}
需注意除了$SO(1,3)^\uparrow$以外的部分只是陪集，并不能构成群，因为它们没有单位元。

\subsubsection{洛伦兹群的李代数}

洛伦兹群的四支之间不能通过可微的变换相互联系。因此，所谓洛伦兹群的李代数就是$SO(1,3)^\uparrow$的李代数。
洛伦兹群的定义\eqref{eq:lorentz-matrix}含有10个彼此独立的实数方程，因此留下6个自由度。
因此只需要寻找6个生成元就可以得到洛伦兹群的李代数。
由\eqref{eq:lorentz-matrix}可以得到无穷小生成元需要满足的关系为
\begin{equation}
    \eta K + K^\top \eta = 0.
    \label{eq:def-generators-of-lorentz}
\end{equation}
容易验证，设\eqref{eq:generators-of-so3}中的$J$为$J^\text{3dim}$，并定义
\begin{equation}
    J_i = \pmqty{\dmat{0 ,J^\text{3dim}_i}},
\end{equation}
则$J_i$,$i=1, 2, 3$满足\eqref{eq:def-generators-of-lorentz}，这样我们就得到了洛伦兹群的三个生成元。
当然，$SO(3)$实际上是$SO(1,3)^\uparrow$的一部分，因此这是合理的。
通过考虑涉及$x^0$的矩阵，我们可以得到另外三个生成元：
\begin{equation}
    K_1 = \ii \pmqty{0 & 1 & 0 & 0 \\ 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0}, \quad 
    K_2 = \ii \pmqty{0 & 0 & 1 & 0 \\ 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0}, \quad
    K_3 = \ii \pmqty{0 & 0 & 0 & 1 \\ 0 & 0 & 0 & 0 \\ 0 & 0 & 0 & 0 \\ 1 & 0 & 0 & 0}.
    \label{eq:boost-generators}
\end{equation}
这些生成元对应的李群元素称为\concept{推动}，物理上它们涉及到时间，因此实际上是参考系变换。
每个矩阵前面都加上了$\ii$是为了保持指数映射的形式成立，而我们现在讨论的洛伦兹群中的矩阵都是实数矩阵，因此$\ii \theta \sigma$必须是实数，而由于参数$\theta$是实数，生成元前面就应该多一个纯虚数，否则$\ii \theta \sigma$不会是实数。
请注意\eqref{eq:boost-generators}不是厄米的。这可以预期，因为洛伦兹群涉及推动的部分是无界的，从而不是紧致的——这是闵可夫斯基时空的性质决定的，而非紧致的李群的有限维表示是平凡的。
这也就是我们讨论的洛伦兹群的场表示中，场的分量的变换都是$SU(2)$的表示，因为场的分量的变换对应场的内禀自由度的变换而这应该是幺正的；推动和平移都没有非平凡的有限维幺正表示，前者有有限维非幺正表示，后者干脆没有有限维表示。
容易验证，有下面的对易关系：
\begin{equation}
    \comm*{J_i}{J_j} = \ii \epsilon_{ijk} J_k, \quad \comm*{J_i}{K_j} = \ii \epsilon_{ijk} K_k, \quad \comm*{K_i}{K_j} = - \ii \epsilon_{ijk} J_k.
    \label{eq:lie-algebra-lorentz}
\end{equation}
这就得到了洛伦兹群的李代数。
\eqref{eq:lie-algebra-lorentz}中$J$之间的运算是封闭的，而$K$之间的运算不是封闭的，而且$J$和$K$之间不对易。
但如果定义
\begin{equation}
    N_i^\pm = \frac{1}{2} (J_i \pm \ii K_i),
    \label{eq:def-n-pm}
\end{equation}
就有
\begin{equation}
    \comm{N_i^+}{N_j^+} = \ii \epsilon_{ijk} N_k^+, \quad \comm{N_i^-}{N_j^-} = \ii \epsilon_{ijk} N_l^-, \quad \comm{N^+_i}{N^-_j} = 0.
    \label{eq:two-su2-algebra}
\end{equation}
这表明$SO(1,3)^\uparrow$的李代数是两个$\mathfrak{su}(2)$的直和，或者说是$\mathfrak{sl}(2, \complexes)$。
% 这个关系其实是需要说明的，因为从“两个SU2”的直和推不出$SL(2, \complexes)$
但可以证明，$SO(1,3)^\uparrow$并不是$SL(2, \complexes)$，事实上后者是前者的覆盖群，而且是双覆盖。

现在我们考虑洛伦兹群中的其它三支。事实上，由于\eqref{eq:4-parts-of-o13}，讨论洛伦兹群的作用等价于讨论正规洛伦兹群在四维向量空间以及作用了宇称变换和/或时间反演变换的四维向量空间上的作用。%
\footnote{数学上说，完整的洛伦兹群$O(1,3)$是正规洛伦兹群$SO(1,3)^\uparrow$和$\{I, \Lambda_P, \Lambda_T\}$的半直积。$SO(1,3)^\uparrow$是一个正规子群，因此只需要知道$\Lambda_P$和$\Lambda_T$下$SO(1,3)^\uparrow$的变动即可完全刻画$O(1,3)$。}%
因此只需要讨论$SO(1,3)^\uparrow$在宇称变换和时间反演变换之下会怎么变化，从而只需要讨论生成元$J_i$和$K_i$在宇称变换和时间反演变换之下的变化。
宇称变换，写成分量矩阵的形式，是（取$\mu$为行指标）
\[
    (\Lambda_P)^\mu_\nu = \Lambda_P = \diag(1, -1, -1, -1).
\]
我们没有区分行指标和列指标，因为宇称变换无非是洛伦兹变换的一种，而洛伦兹变换的应用场景中不会出现需要区分行指标和列指标的情况。%
\footnote{洛伦兹变换可以看成一种坐标变换，因此可以把$\Lambda$看成指标变换符号的另一种写法：
\[
    \Lambda_\mu^\nu = \beta_{\mu}^{\nu'}.
\]
由于本文是从洛伦兹群的表示出发讨论问题而淡化“带坐标的流形”这一几何概念，有时对不同坐标系下同一矢量或旋量的各分量我们不使用$x^\mu, x^{\mu'}$这样明确区分坐标系的写法；相反，洛伦兹群的作用被认为是作用在\concept{同一个}向量空间上的算符。
}%
若对一个四维矢量做宇称变换，那么作用在其上的算符——也就是$4\times 4$矩阵——会发生如下所示的变换：%
\footnote{你可能会疑惑为什么这个变换的形式看起来不是
\[
    \hat{B} \longrightarrow \hat{A} \hat{B} \hat{A}^{-1}.
\]
实际上，如果我们使用带撇的记号，那么此变换形如
\[
    A^\mu_{\ \nu} \longrightarrow A^{\mu'}_{\ \nu'} = (\Lambda_P)^{\mu'}_\rho (\Lambda_P)^\sigma_{\nu'} \Lambda^\rho_\sigma.
\]
由于$\Lambda_P$实际上是坐标变换符号，分量矩阵$(\Lambda_P)^{\mu'}_\rho$和$(\Lambda_P)^\sigma_{\nu'}$的的确确互为逆矩阵。
由于我们使用的度规是正规型，因此无需在意$\Lambda_P$、它的转置或者它的逆的区别——三者实际上是一样的。
}%
\[
    A^\mu_{\ \nu} \longrightarrow (A')^\mu_{\ \nu} = (\Lambda_P)^\mu_\rho (\Lambda_P)^\sigma_\nu A^\rho_{\ \sigma}.
\]
然后简单的计算就表明：
\begin{equation}
    J_i \stackrel{\Lambda_P}{\longrightarrow} J_i, \quad J_i \stackrel{\Lambda_T}{\longrightarrow} J_i, \quad K_i \stackrel{\Lambda_P}{\longrightarrow} - K_i, \quad K_i \stackrel{\Lambda_T}{\longrightarrow} - K_i.
    \label{eq:parity-and-time-reversion-transform}
\end{equation}

\subsubsection{$SO(1,3)^\uparrow$的魏尔旋量表示}\label{sec:weyl-spinor-representation}

为了方便起见，我们把洛伦兹群的表示以及它的双覆盖的表示统称为洛伦兹群的表示。
% TODO：这有没有考虑到$SO(1,3)^\uparrow$以外的部分？
我们先只讨论$SO(1,3)^\uparrow$的表示。完整的洛伦兹群的表示——也就是说考虑了宇称变换和时间反演变换——只需要在$SO(1,3)^\uparrow$的表示上额外增加宇称变换和时间反演变换的规则即可。
由于\eqref{eq:two-su2-algebra}，$SO(1,3)^\uparrow$的有限维表示全部可以看成是两个$SU(2)$的有限维不可约表示的直积，或者若干个这样的直积的直和。
% TODO:直积是怎么来的
我们记$SO(1,3)^\uparrow$的有限维表示为$(j_1, j_2)$，$j_1$和$j_2$分别代表其中一个$SU(2)$的有限维表示的$j$（见\autoref{sec:rotation}）。
通常用$j_1$表示$N^+_i$那部分李代数的$j$，$j_2$代表$N^-_i$那一部分李代数的$j$。
% TODO：标量、旋量、矢量

首先是$(0,0)$表示。这个表示作用在一个$1\times1 = 1$维向量空间上。由之前的讨论，$N^+_i$和$N^-_i$都是零，也就是说，$(0,0)$维表示是一个平凡的、只有恒等运算的表示。
这个向量空间当然就是\concept{标量}，这个表示称为\concept{标量表示}，
其中的对象是单分量的，在洛伦兹变换下不变。
可以证明只有在这种表示下任何对象都不变。也就是说，只有标量在洛伦兹变换下完全不变；多分量对象不可能规洛伦兹变换下完全不变。

接着是$(\frac{1}{2}, 0)$表示。这是一个二维表示，这个表示中，
\begin{equation}
    N^+_i = \frac{\sigma_i}{2}, \quad N^-_i = 0.
\end{equation}
使用\eqref{eq:def-n-pm}可以推导出
\begin{equation}
    J_i = \frac{1}{2} \sigma_i, \quad K_i = - \frac{\ii}{2} \sigma_i.
\end{equation}
于是使用指数映射就能够得到洛伦兹变换下这种二分量对象的变化方式，也就是
\begin{equation}
    R_\theta = \exp \left( \frac{1}{2} \ii \theta_i \sigma_i \right), \quad B_\phi = \exp \left( \frac{1}{2} \phi_i \sigma_i \right).
\end{equation}
值得注意的是，洛伦兹变换下各个分量混合起来的系数一般来说含有虚部。
类似的，$(0, \frac{1}{2})$表示也是一个二维表示，其中
\begin{equation}
    N^+_i = 0, \quad N^-_i = \frac{\sigma_i}{2},
\end{equation}
这又等价于
\begin{equation}
    J_i = \frac{1}{2} \sigma_i, \quad K_i = \frac{\ii}{2} \sigma_i.
\end{equation}
其变换方式为
\begin{equation}
    R_\theta = \exp \left( \frac{1}{2} \ii \theta_i \sigma_i \right), \quad B_\phi = \exp \left( - \frac{1}{2} \phi_i \sigma_i \right).
\end{equation}
我们称$(\frac{1}{2}, 0)$表示为\concept{左手旋量}，$(0, \frac{1}{2})$表示为\concept{右手旋量}。
两者统称为\concept{魏尔旋量}。容易看出，两种旋量在旋转下的变化相同，在推动下的变化差一个负号。

以下，我们仿照向量的指标升降、坐标变换等规则，定义一套旋量的指标升降、坐标变换规则，称为\concept{范德瓦尔登符号}。
首先定义\concept{旋量度规}
\begin{equation}
    \epsilon = \pmqty{0 & 1 \\ -1 & 0},
\end{equation}
为什么叫做这个名字马上可以看到。很容易看出，
\begin{equation}
    (-\epsilon) \epsilon = I, \quad \epsilon \sigma_i^* (-\epsilon) = - \sigma_i. 
    \label{eq:attributes-of-epsilon}
\end{equation}
使用这两个关系式可以证明：若$\chi_L$是一个左手旋量，那么
\begin{equation}
    \chi_L^C = \epsilon\chi_L^*
    \label{eq:left-spinor-c}
\end{equation}
就是一个右手旋量；若$\chi_R$是一个右手旋量，则
\begin{equation}
    \chi_R^C = -\epsilon \chi_R^*
    \label{eq:right-spinor-c}
\end{equation}
就是一个左手旋量。
（方法是，将$R_\theta$或者$B_\phi$作用到$\chi_L$上得到$\chi_L'$，从而可以计算出$(\chi_L^C)'$，然后使用\eqref{eq:attributes-of-epsilon}凑出$(\chi_L^C)'$和$\chi_L$之间的关系）
在\eqref{eq:right-spinor-c}中我们特意加了一个负号，这样
\[
    (\chi_L^C)^C = \chi_L, \quad (\chi_R^C)^C = \chi_R.
\]
请注意$\epsilon$是可逆的，因此，\eqref{eq:left-spinor-c}和\eqref{eq:right-spinor-c}表明有一样多的左手旋量和右手旋量，它们通过\eqref{eq:left-spinor-c}和\eqref{eq:right-spinor-c}一一对应。
一对通过\eqref{eq:left-spinor-c}和\eqref{eq:right-spinor-c}相对应的左手旋量和右手旋量就可以看成一个抽象的魏尔旋量$\chi$分别在$(\frac{1}{2},0)$和$(0, \frac{1}{2})$中的表示。
我们使用$\chi_a$表示$\chi_L$的第$a$个分量，$\chi^{\dot{a}}$表示$\chi_R$的第$a$个分量，那么由于
\[
    \chi_R = \chi_L^C, \quad \chi_L = \chi_R^C,
\]
有
\[
    \chi^{\dot{a}} = \sum_b (\text{the $(a,b)$-element of $\epsilon$}) \cdot \chi_b^*, \quad \chi_a = \sum_b ( - \text{the $(a,b)$-element of $\epsilon$}) \cdot (\chi^{\dot{b}})^*.
\]
于是定义%
\footnote{到目前为止我们还没有赋予上下指标任何意义，所以我们可以任意地规定涉及它们的表达式。此处上下指标不表示逆变-协变，虽然最后的结果看起来和逆变-协变关系很像。}
\begin{equation}
    \epsilon^{ab} = \epsilon^{\dot{a} \dot{b}} = \pmqty{0 & 1 \\ -1 & 0}, \quad \epsilon_{ab} = \epsilon_{\dot{a} \dot{b}} = \pmqty{0 & -1 \\ 1 & 0},
\end{equation}
以及
\begin{equation}
    \chi^{\dot{a}} = (\chi^a)^*, \quad \chi_{\dot{a}} = (\chi_a)^*,
\end{equation}
我们得到了$\chi$在左右手旋量空间中的表示相互切换的公式
\begin{equation}
    \chi^a = \epsilon^{ab} \chi_b, \quad \chi^{\dot{a}} = \epsilon^{\dot{a} \dot{b}} \chi_{\dot{b}}, \quad \chi_a = \epsilon_{ab} \chi^b, \quad \chi_{\dot{a}} = \epsilon_{\dot{a} \dot{b}} \chi^{\dot{b}}.
\end{equation}
其中一上一下两个相同指标要求和。我们看到了$\epsilon$的地位正是矢量分析中度规的地位，因此称它为旋量度规。

使用指标升降的一般理论，我们发现，若
\begin{equation}
    \psi_b = A_b^{\ a} \chi_a, \quad \psi_{\dot{b}} = A_{\dot{b}}^{\ \dot{a}} \chi_{\dot{a}}, \quad \psi^b = A^b_{\ a} \chi^a, \quad \psi^{\dot{b}} = A^{\dot{b}}_{\ \dot{a}} \chi^{\dot{a}},
    \label{eq:linear-operator-on-spinor}
\end{equation}
则
\begin{equation}
    A^c_{\ d} = \epsilon^{cb} A_{b}^{\ a}\epsilon_{ad}, \quad A^{\dot{c}}_{\ \dot{d}} = (A^c_{\ d})^*, \quad A^{\dot{c}}_{\ \dot{d}} = \epsilon^{\dot{c} \dot{b}} A_{\dot{b}}^{\ \dot{a}} \epsilon_{\dot{a}\dot{d}}.
    \label{eq:left-right-matrix-transform}
\end{equation}
通常对作用在左手旋量上的矩阵$A$，规定$A_a^{\ b}$就是$A$，这样\eqref{eq:linear-operator-on-spinor}中的四个式子全部等价于
\[
    \psi_L = A \chi_L.
\]

得到了指标升降关系，再来看坐标变换关系。按照前述规定，
\[
    (\sigma_i)_b^{\ a} = \sigma_i,
\]
对左手旋量我们有
\[
    \chi'_a = \Lambda_a^{\ b} \chi_b = \exp \left( \frac{1}{2} \ii \theta_i \sigma_i + \frac{1}{2} \phi_i \sigma_i \right)_a^{\; b} \chi_b.
\]
与之对应的右手旋量会怎样变换？很容易想到，应该使用\eqref{eq:left-right-matrix-transform}来得到对应的作用在右手旋量上的变换矩阵。
但实际上右手旋量的变换方式在定义时就已经确定了（因为$(0, \frac{1}{2})$表示本来就是$SO(1,3)^\uparrow$的某种表示）。
我们要验证这两种变换方式是不是一致。
从右手旋量的定义出发我们有
\[
    {\chi'}^{\dot{a}} = \sum_b \text{the $(a,b)$-element of } \exp \left( \frac{1}{2} \ii \theta_i \sigma_i - \frac{1}{2} \phi_i \sigma_i \right) \cdot \chi^{\dot{b}} .
\]
而如果右手旋量的洛伦兹变换服从\eqref{eq:left-right-matrix-transform}，那么就有
\[
    {\chi'}^{\dot{a}} = \Lambda^{\dot{a}}_{\ \dot{b}} \chi^{\dot{b}}.
\]
这两种变换方式是一致的，当且仅当
\[
    \text{the $(a,b)$-element of } \exp \left( \frac{1}{2} \ii \theta_i \sigma_i - \frac{1}{2} \phi_i \sigma_i \right) = \sum_{c,d} \epsilon^{\dot{a} \dot{c}} \left(\exp \left( \frac{1}{2} \ii \theta_i \sigma_i + \frac{1}{2} \phi_i \sigma_i \right)_c^{\; d}\right)^* \epsilon_{\dot{d} \dot{b}}
\]
使用$\eqref{eq:attributes-of-epsilon}$很容易证明这确实是对的。
类似的，可以表明$\chi_{\dot{a}}$和$\chi^a$的变换矩阵正是$\Lambda_a^{\ b}$通过\eqref{eq:left-right-matrix-transform}变换得到的。
因此我们就得到了旋量的洛伦兹变换：
\begin{equation}
    \begin{bigcase}
        \Lambda_a^{\ b} = \exp \left( \frac{1}{2} \ii \theta_i \sigma_i + \frac{1}{2} \phi_i \sigma_i \right)_a^{\ b}, \quad \Lambda^{\dot{a}}_{\ \dot{b}} = \exp \left( \frac{1}{2} \ii \theta_i \sigma_i - \frac{1}{2} \phi_i \sigma_i \right)_a^{\ b}, \\
        \Lambda_{\dot{a}}^{\ \dot{b}} = \exp \left( - \frac{1}{2} \ii \theta_i \sigma_i^* + \frac{1}{2} \phi_i \sigma_i^* \right)_a^{\ b}, \quad \Lambda^{a}_{\ b} = \exp \left( - \frac{1}{2} \ii \theta_i \sigma_i^* - \frac{1}{2} \phi_i \sigma_i^* \right)_a^{\ b}.
        \label{eq:lorentz-transform-on-spinors}
    \end{bigcase}
\end{equation}
且它们满足\eqref{eq:left-right-matrix-transform}。
通过$\sigma$矩阵的定义%
\footnote{这里有一个可能引起困惑的细节。在张量代数中，我们有
\[
    (T^\top)_a^{\ b} = T^b_{\ a},
\]
但是在此处我们却似乎写出了这样的表达式：
\[
    (\sigma_a^{\ b})^\top = \sigma_b^{\ a},
\]
两者相差一个指标升降。产生这样的现象的原因在于，当我们通过\eqref{eq:sigma-matrix}定义
\[
    \sigma_a^{\ b} = \sigma
\]
时，左右两边的$\sigma$实际上有微妙的差异——左边的$\sigma$是某种旋量张量，右边的$\sigma$只是一个矩阵。
这就意味着，左边的$\sigma$的转置运算并不是简单的“把矩阵翻转过来”（因为转置之后的结果必须是协变的），$(\sigma^\top)_a^{\ b} = \sigma^b_{\ a}$关于左边的$\sigma$（不是带指标的$\sigma_a^{\ b}$！）成立。
然而，\eqref{eq:sigma-matrix}——从而由它导出的$\sigma$矩阵的厄米性——是关于右边的$\sigma$的，也就是说它仅仅关于左边的$\sigma_a^{\ b}$。因此，通过\eqref{eq:sigma-matrix}导出的$\sigma^*=\sigma^\top$中的转置就是简单的将矩阵翻转过来。
\label{note:confusion-by-transpose}
}%
，会发现$\sigma_i^* = \sigma_i^\top$，于是我们还可以得到
\begin{equation}
    \Lambda_{\dot{a}}^{\ \dot{b}} = \exp \left( - \frac{1}{2} \ii \theta_i \sigma_i + \frac{1}{2} \phi_i \sigma_i \right)_b^{\ a}, \quad \Lambda^a_{\ b} = \exp \left( - \frac{1}{2} \ii \theta_i \sigma_i - \frac{1}{2} \phi_i \sigma_i \right)_b^{\ a}.
\end{equation}
% TODO:向量的情况？
需要注意的是$\Lambda_a^{\ b}$和$\Lambda^b_{\ a}$一般来说是不同的。其原因在于，$\Lambda_a^{\ b}$中下标$a$对应一个洛伦兹变换之后的旋量，上标$b$对应洛伦兹变换之前的旋量；而$\Lambda_{\ a}^b$则正好相反，$b$对应变换前的旋量而$a$对应变换后的旋量，因此$\Lambda_a^{\ b}$和$\Lambda^b_{\ a}$不同。
事实上，我们可以将$\Lambda_a^{\ b}$记为$\Lambda_{a'}^b$，而将$\Lambda^b_{\ a}$记为$\Lambda_a^{b'}$，这样无需通过行指标、列指标区分两者。
与之相匹配地，我们可以使用$\chi^{a'}$这样的记号代替${\chi'}^{a}$，也就是说我们把$\chi$看成某种抽象的实体。%
\footnote{常见的介绍张量分析的文献会在某个流形——通常就是$\reals^3$——中将矢量、张量等处理为一个抽象的、内蕴的几何实体，定义矢量和张量的分量，然后导出指标升降规则和坐标变换规则；我们这里的步骤则正好相反，我们是首先通过洛伦兹群的表示得到指标升降规则和坐标变换规则，然后发现这两个规则允许我们把$\chi$看成某种抽象的实体。}
这样
\begin{equation}
    \Lambda_{a'}^b \Lambda^{a'}_c = \Lambda_a^{\ b} \Lambda^a_{\ c} = \delta_b^a, \quad \Lambda_{\dot{a}'}^{\dot{b}} \Lambda^{\dot{a}'}_{\dot{c}} = \Lambda_{\dot{a}}^{\ \dot{b}} \Lambda^{\dot{a}}_{\ \dot{c}} = \delta_{\dot{c}}^{\dot{b}}.
\end{equation}

下面我们要讨论使用旋量以及它们的一阶导数能够构造出怎样的标量。这是很重要的，因为如果需要使用旋量场来描述某种物理过程，那么对应的拉氏量应该是标量，或者至少是协变的，也就是说在洛伦兹变换下的变化量能够写成一个散度项。
注意到
\[
    \chi_a \xi^a \longrightarrow \chi'_a {\xi'}^a = \Lambda_a^{\ b} \chi_b \Lambda^a_{\ c} \xi^c = \delta_c^b \chi_b \xi^c = \chi_a \xi^a,
\]
同样的有
\[
    \chi_{\dot{a}} \xi^{\dot{a}} \longrightarrow \chi'_{\dot{a}} {\xi'}^{\dot{a}} = \chi_{\dot{a}} \xi^{\dot{a}}.
\]
但$\chi_a \xi^{\dot{a}}$或者$\chi^{\dot{a}} \xi_a$这种量却没有不变性。
这表明，只有“同类”——也就是都带点或者都不带点——的指标才能够一上一下地求和而得到一个标量。
% TODO：含导数的项

\subsubsection{四维矢量表示}\label{sec:4-vector-representation}

% TODO：是不是洛伦兹群的所有不可约表示都可以使用魏尔旋量直积出来？

我们接着讨论$(\frac{1}{2}, \frac{1}{2})$表示。由于$N_i^-$和$N_i^+$对易，这个表示实际上就是$(\frac{1}{2}, 0) \otimes (0, \frac{1}{2})$，于是这个表示可以使用一个左手旋量和一个右手旋量的张量积表示，记作$v_a^{\dot{b}}$。
% 向量空间中元素的张量积和向量空间上的矩阵或者说算符是不同的——前者实际上不需要考虑什么指标是行、什么指标是列！
% 不过，两者却按照同样的方式变换。
其中每个指标都独立地以\eqref{eq:lorentz-transform-on-spinors}变换。
当然，可以使用指标升降关系把$v_a^{\dot{b}}$转化为$v_{a\dot{b}}$。
这么做的好处在于，我们可以发现$(\frac{1}{2}, \frac{1}{2})$表示实际上可以约化为一个厄米的不可约表示和一个反厄米的不可约表示的直和。%
\footnote{同样，这里所谓的厄米和反厄米也是就分量矩阵$v_{a\dot{b}}$而论的，并不涉及旋量张量$v$的（协变的）转置。见\autoref{note:confusion-by-transpose}。}
注意到
\[
    v'_{c\dot{d}} = \Lambda_c^{\ a} \Lambda_{\dot{d}}^{\ \dot{b}} v_{a\dot{b}},
\]
可以得到
\[
    v'_{d\dot{c}} = \Lambda_d^{\ a} \Lambda_{\dot{c}}^{\ \dot{b}} v_{a\dot{b}} = \Lambda_d^{\ b} \Lambda_{\dot{c}}^{\ \dot{a}} v_{b\dot{a}},
\]
从而
\[
    (v'_{d\dot{c}})^* = \Lambda_{\dot{d}}^{\ \dot{b}} \Lambda_{c}^{\ a} (v_{b\dot{a}})^*.
\]
显然，如果分量矩阵$v_{a\dot{b}}$是厄米的，那么它经过洛伦兹变换之后还是厄米的；如果它是反厄米的，那么经过洛伦兹变换之后它还是反厄米的。
因此$(\frac{1}{2}, \frac{1}{2})$可以分解成其厄米子代数和反厄米子代数的直和。

我们来仔细分析其厄米子代数。二阶厄米方阵组成的向量空间有$2^2 \times 2 / 2 = 4$维。因此只需要找到四个独立的厄米方阵即可。
容易看出，三个泡利矩阵连同单位矩阵构成了这样的一组基。
为便于书写下标，使用$\sigma^i, i=1, 2, 3$表示三个泡利矩阵，又使用$\sigma^0$表示单位矩阵。
我们记$\sigma^\mu_{a\dot{b}}$为$\sigma^\mu$的第$a$行$b$列。（这个记号和\autoref{sec:weyl-spinor-representation}中的$\sigma_a^{\ b}$是不一样的！）
于是就可以把$(\frac{1}{2}, \frac{1}{2})$表示的厄米子代数的成员统一地写成
\begin{equation}
    v_{a\dot{b}} = v_\nu \sigma^\nu_{a\dot{b}}, \quad v_a^{\dot{b}} = \epsilon^{\dot{b} \dot{c}} v_\nu \sigma^\nu_{a \dot{c}}.
    \label{eq:vector-is-spin-tensor}
\end{equation}

% TODO: 严格证明$v$的变换正是洛伦兹变换

于是就可以使用$v_\nu$来代替整个$v_{a\dot{b}}$，并且$v_\nu$的变换方式正是洛伦兹变换下的矢量。
总之，$(\frac{1}{2}, \frac{1}{2})$表示的厄米子代数就是四维矢量。
因此，正如矢量可以看成二阶张量的平方根那样，魏尔旋量也可以看成矢量的平方根。
可以预期，四维矢量不见得能够描述所有的物理系统，因为它们不够基本。
% TODO：反厄米子代数呢？

同样我们考虑四维矢量能够构造出来的二阶的不变量。通过坐标变换关系容易看出，这样的不变量一定具有形式$A^\mu B_\mu$。

\subsubsection{狄拉克旋量}

在\autoref{sec:weyl-spinor-representation}和\autoref{sec:4-vector-representation}中我们只讨论规洛伦兹变换的表示。
当然，完整的洛伦兹群的表示肯定还是旋量，只不过我们还需要指定时间反演变换和宇称变换的表示。
% TODO：相当奇怪好像大家都不关注宇称变换作用在旋量上实际上会是怎样一个变换矩阵，当然似乎这也不重要。
注意到\eqref{eq:parity-and-time-reversion-transform}，并考虑$N_i^\pm$的定义\eqref{eq:def-n-pm}，在宇称变换下
\begin{equation}
    N_i^+ \stackrel{\Lambda_P}{\longrightarrow} N_i^-, \quad N_i^- \stackrel{\Lambda_P}{\longrightarrow} N_i^+.
\end{equation}
这意味着经过宇称变换，原本是$(\frac{1}{2}, 0)$表示的变换矩阵现在变成了$(0, \frac{1}{2})$表示的变换矩阵，原本是$(0, \frac{1}{2})$表示的变换矩阵则变成了$(\frac{1}{2}, 0)$表示的变换矩阵。
也就是说宇称变换下左手旋量按照右手旋量的方式变换，右手旋量按照左手旋量的方式变换。%
\footnote{我们并没有给出宇称变换的变换矩阵到底是什么。实际上因为宇称变换不在正规洛伦兹群中，只靠旋量的定义是不可能完全确定下宇称变换的矩阵表示是什么的。}
这就是“左手”、“右手”名称的来历：它们之间的变换和左右手坐标系之间的变换是完全一样的。
需要注意的是，$\chi_L$经过宇称变换之后未必变成$\chi_R$，同理$\chi_R$经过宇称变换之后也未必变成$\chi_L$。

时间反演变换造成的结果和宇称变换完全一样，除了具体的变换矩阵差一个负号。

% TODO:矢量在宇称变换之下的变换

如果一个体系在宇称变换之下不变，那么不可能仅仅使用一个左手旋量或者一个右手旋量描述它，因为宇称变换会改变旋量的手征。
因此，完整描述一个体系的物理量一定能够写成一对一对相互匹配的左手旋量和右手旋量。
我们称像这样由一个左手旋量和一个右手旋量组合而成的场
\begin{equation}
    \psi = \pmqty{\chi_L \\ \xi_R}
\end{equation}
为\concept{狄拉克旋量}。它是洛伦兹群的一个可约表示，因为其变换矩阵
\begin{equation}
    \Lambda_\text{Dirac} = \pmqty{\dmat{\Lambda_{(\frac{1}{2}, 0)}, \Lambda_{(0, \frac{1}{2})}}}
\end{equation}
是左手旋量和右手旋量的变换矩阵直和起来得到的结果。
现在我们做一个宇称变换，那么变换矩阵就成为
\[
    \Lambda'_\text{Dirac} = \pmqty{\dmat{\Lambda_{(0, \frac{1}{2})}, \Lambda_{(\frac{1}{2}, 0)}}}.
\]
因此，考虑宇称变换在狄拉克旋量上的表示$(\Lambda_P)_\text{Dirac}$，我们有
\[
    (\Lambda_P)_\text{Dirac} \Lambda_\text{Dirac} (\Lambda_P)_\text{Dirac}^{-1} = \Lambda'_\text{Dirac},
\]
于是
\[
    (\Lambda_P)_\text{Dirac} = a \pmqty{0 & I_{2\times 2} \\ I_{2 \times 2} & 0}.
\]
由于我们考虑的是幺正表示，$a$的模长为1。
请注意宇称变换、时间反演变换和恒等变换自成一个群，因此从有关正规洛伦兹群的表示的任何知识——它们是通过考虑正规洛伦兹群的李代数得到的，和宇称变换没有任何关系——都不可能把$a$的值确定下来。
不失一般性地%TODO：怎么就不失一般性了？？
通常取$a=1$，于是就有
\begin{equation}
    (\Lambda_P)_\text{Dirac} = \pmqty{0 & I_{2\times 2} \\ I_{2 \times 2} & 0}.
\end{equation}
那么狄拉克旋量在宇称变换下的变化就是
\begin{equation}
    \psi \stackrel{\Lambda_P}{\longrightarrow} \psi^P = \pmqty{0 & I_{2\times 2} \\ I_{2 \times 2} & 0} \pmqty{\chi_L \\ \xi_R} = \pmqty{\xi_R \\ \chi_L}.
\end{equation}
也就是说宇称变换把狄拉克旋量变成了另一个同样具有$\chi_L$和$\xi_R$的对象，但是上下位置发生了变化。

狄拉克旋量上可以定义一种重要的变换。它不是洛伦兹变换的一种，其形式为
\begin{equation}
    \psi = \pmqty{\chi_L \\ \xi_R} \longrightarrow \psi^C = \pmqty{\xi_L \\ \chi_R}.
\end{equation}
容易看出变换之后得到的结果还是狄拉克旋量。

\subsubsection{无限维表示}

洛伦兹群的无限维表示完全由旋转生成元的无限维表示和推动生成元的无限维表示确定。
前者已经由\eqref{eq:rotation-inf-rep}给出了。虽然\eqref{eq:rotation-inf-rep}是在三维空间中推导出来的，但是因为推导它时各个坐标的标号和本节一致，都是$x^1, x^2, x^3$，它也适用于四维闵可夫斯基时空。
使用基本上一样的方法，从\eqref{eq:boost-generators}可以导出
\begin{equation}
    K_1 = - \ii (x^1 \partial_0 + x^0 \partial_1), \quad K_2 = - \ii (x^2 \partial_0 + x^0 \partial_2), \quad K_3 = - \ii (x^3 \partial_0 + x^0 \partial_3).
    \label{eq:boost-inf-rep}
\end{equation}

\subsection{庞加莱群}

% TODO：将下标转为上标
正规子群平移群半直积上洛伦兹群就得到了庞加莱群。

现在我们分析庞加莱群的李代数。独立的生成元总共有10个，4个是平移群生成元，3个是旋转生成元，3个是推动生成元。
平移群的李代数为\eqref{eq:comm-of-trans}，而洛伦兹群的李代数为\eqref{eq:lie-algebra-lorentz}，因此只需要$P_\mu$和$J_i,K_i$的对易关系就能够完全确定庞加莱群的李代数。
首先由于旋转操作不涉及时间维，显然我们有
\begin{equation}
    \comm*{J_i}{P_0} = 0.
\end{equation}
使用\eqref{eq:transition-inf-rep}、\eqref{eq:rotation-inf-rep}和\eqref{eq:boost-inf-rep}三式，可以推导出以下关系：
\begin{equation}
    \comm*{J_i}{P_j} = \ii \epsilon_{ijk} P_k, \quad \comm*{K_i}{P_j} = \ii \delta_{ij} P_0, \quad \comm{K_i}{P_0} = - \ii P_i.
    \label{eq:comm-k-j-p}
\end{equation}
虽然使用的是特殊的表示，但由于推导出来的都是对易关系，因此它们普遍成立。
\eqref{eq:comm-k-j-p}和\eqref{eq:lie-algebra-lorentz}给出了庞加莱群的李代数。

为了简化记号，我们设$M_{\mu \nu}$是一个反对称的矩阵，且
\begin{equation}
    J_i = \frac{1}{2} \epsilon_{ijk} M_{jk}, \quad K_i = M_{0i},
\end{equation}
那么\eqref{eq:comm-k-j-p}完全等价于
\begin{equation}
    \comm*{M_{\mu \nu}}{P_\rho} = \ii (\eta_{\mu \rho} P_\nu - \eta_{\nu \rho} P_\mu),
    \label{eq:comm-m-p}
\end{equation}
而\eqref{eq:lie-algebra-lorentz}等价于
\begin{equation}
    \comm{M_{\mu \nu}}{M_{\rho \sigma}}  = \ii (\eta_{\mu \rho} M_{\nu \sigma} + \eta_{\nu \sigma} M_{\mu \rho} - \eta_{\mu \sigma} M_{\nu \rho} - \eta_{\nu \rho} M_{\mu \sigma}).
    \label{eq:comm-m}
\end{equation}
\eqref{eq:comm-of-trans}，\eqref{eq:comm-m-p}和\eqref{eq:comm-m}共同描述了庞加莱群的李代数。
% TODO：上面的几个公式有没有指标升降？
% TODO:建立群元的升降指标关系

庞加莱群的群参数一共有10个，在定义了$M$之后我们可以把群参数写成$a^\mu$和$\omega^{\mu \nu}$，其中$\omega$是反对称矩阵，从而庞加莱群就可以写成
\[
    \Lambda = \exp \left( \ii a^\mu P_\mu + \ii \omega^{\mu \nu} M_{\mu \nu} \right).
\]
实际上，即使$\omega$不是反对称的，上式照样给出庞加莱群，因为$\omega$的对称部分和$M$相乘得到的一定是零。反对称的要求仅仅是让每个变换对应唯一一个群参数。

庞加莱群的卡西米尔元有两个，它们分别是
\begin{equation}
    P_\mu P^\mu = m^2,
    \label{eq:momentum-and-mass}
\end{equation}
和
\begin{equation}
    W_\mu W^\mu = j_1 + j_2 = j,
\end{equation}
其中
\begin{equation}
    W^\mu = \frac{1}{2} \epsilon^{\mu \nu \rho \sigma} P_\nu M_{\rho \sigma}.
\end{equation}

我们使用$P_\mu P^\mu$给出的$m^2$实际上正是该表示下场的质量的平方。详情见\autoref{sec:k-g-eq}。

\subsection{守恒量}

首先是最简单的平移。处理平移时假定场是标量场，这无损一般性，因为平移没有有限维表示，因此不会导致场分量发生混合。
平移变换作用于场上得到的结果是：
\[
    \begin{split}
        x^\mu \longrightarrow x^{\mu'} = x^\mu + a^\mu, \\
        \var{\phi} = \phi'(x') - \phi(x) = 0.
    \end{split}
\]
平移变换导致的场的扣除了坐标变化导致的影响的场的变化就是
\[
    \bar{\var}{\phi} = - \partial_\mu \phi \var{a^\mu},
\]
或者，由于场在坐标拖曳下的变动实际上就是平移变换的无限维表示，可以直接使用\eqref{eq:transition-inf-rep}得到上式。
于是对应的守恒流为
\[
    0 = \partial_\mu \left( - \pdv{\mathcal{L}}{\partial_\mu \phi} \partial_\nu \phi \var{a^\nu} + \mathcal{L} \var{a^\mu} \right) 
    = \partial_\mu \left( - \pdv{\mathcal{L}}{\partial_\mu \phi} \partial_\nu \phi + \mathcal{L} \delta^\mu_\nu \right) \var{a^\nu},
\]
考虑到$\var{a^\mu}$的任意性，我们有
\begin{equation}
    T_\mu^\nu = \pdv{\mathcal{L}}{\partial_\nu \phi} \partial_\mu \phi - \mathcal{L} \delta^\nu_\mu, \quad \partial_\nu T_\mu^\nu = 0.
\end{equation}
我们称$T^\nu_\mu$为\concept{能动张量}。它给出了4个守恒荷，其中一个是来自时间平移不变性的\concept{能量}
\begin{equation}
    E = \int \dd[3]{x} T^0_0 = \int \dd[3]{x} \left( \pdv{\mathcal{L}}{\partial_0 \phi} \partial_0 \phi - \mathcal{L} \right) ,
    \label{eq:field-energy}
\end{equation}
另外三个是来自空间平移不变性的\concept{动量}
\begin{equation}
    P_i = \int \dd[3]{x} T^0_i = \int \dd[3]{x} \pdv{\mathcal{L}}{\partial_0 \phi} \partial_i \phi .
    \label{eq:field-momentum}
\end{equation}
能动张量的纯空间部分是能量和动量的输运流，因此就是\concept{应力张量}。%
\footnote{在非相对论连续介质力学中这些结果也是成立的，因为时间和空间平移同时出现在伽利略群和庞加莱群中。}
相应的，
\begin{equation}
    \mathcal{P}_\mu = \pdv{\mathcal{L}}{\partial_0 \phi} \partial_\mu \phi - g_\mu^0 \mathcal{L}
\end{equation}
为四维动量$(E, \vb*{p})$的密度。
在计算场的三维动量时要注意一点：由于闵可夫斯基度规为$(+, -, -, -)$，闵可夫斯基时空中空间部分的基矢量实际上是指向空间坐标减少的方向的。从而，
\[
    \begin{aligned}
        \vb*{P} &= \int \dd[3]{x} \pdv{\mathcal{L}}{\partial_0 \phi} \partial_i \phi \vb*{g}^i \\
        &= - \int \dd[3]{x} \pdv{\mathcal{L}}{\partial_0 \phi} \partial_i \phi \vb*{g}^i_{\text{3dim}},
    \end{aligned}
\]
也即
\begin{equation}
    \vb*{P} = - \int \dd[3]{\vb*{x}} \pi \grad{\phi}.
\end{equation}

接下来是旋转对称性。%
\footnote{同样，这个对称性无论是在相对论性场论还是非相对论性场论中都是成立的。}%
旋转对称性不涉及时间维，于是我们有
\[
    \var{x^i} = \epsilon^i_{\ jk}  x^j \theta^k,
\]
相应的
\[
    \bar{\var}{\phi^a} = \ii (J_i)^a_{\ b} \theta^i \phi^b - \epsilon^i_{\ jk}  x^j \theta^k \partial_i \phi^a.
\]
其中指标$a,b$跑遍$\phi$的所有分量，$J$指的是旋转生成元在$\phi$所属的向量空间上的表示，具体表达式见\autoref{sec:rotation}。
我们使用了$\epsilon^i_{jk}  x^j \theta^k$这样的记号是因为要与\eqref{eq:generators-of-so3}保持一致，因为若取$J$为\eqref{eq:generators-of-so3}，正好就有
\[
    \epsilon^i_{\ jk}  x^j \theta^k = (\ii \theta^k J_k x)^i.
\]
则诺特定理导致的守恒流为
\[
    \begin{aligned}
        0 &= \partial_0 \left( \pdv{\mathcal{L}}{\partial_0 \phi^a} \left( \ii (J_k)^a_b \theta^k \phi^b - \epsilon^i_{\ jk}  x^j \theta^k \partial_i \phi^a \right) \right) + \partial_i (\text{something}) \\
        &= \theta^k \partial_0 \left( \ii (J_k)^a_b \phi^b \pdv{\mathcal{L}}{\partial_0 \phi^a} - \epsilon^i_{\ jk} x^j \mathcal{P}_i \right) \\
        &= \theta^k \partial_0 \left( \ii (J_k)^a_b \phi^b \pdv{\mathcal{L}}{\partial_0 \phi^a} + \epsilon^i_{\ jk} x^j \mathcal{P}_i \right),
    \end{aligned}
\]
于是我们就得到了一个守恒量 % TODO:正负号
\begin{equation}
    L_k = \int \dd[3]{\vb*{x}} \left( \ii (J_k)^a_b \phi^b \pdv{\mathcal{L}}{\partial_0 \phi^a} + \epsilon^i_{\ jk} x^j \mathcal{P}_i \right).
    \label{eq:field-angular-momentum}
\end{equation}
其中的
\begin{equation}
    \mathcal{M}_k = \epsilon^i_{\ jk} x^j \mathcal{P}_i 
\end{equation}
部分和质点的角动量形式一致，称为\concept{轨道角动量}，另一部分
\begin{equation}
    \mathcal{S}_k = \ii (J_k)^a_b \phi^b \pdv{\mathcal{L}}{\partial_0 \phi^a}
    \label{eq:spin-angular-momentum}
\end{equation}
则不会出现在没有内部结构的质点的角动量内部。由于其形式和有自转的粒子除去轨道角动量以外的角动量一致，称其为\concept{自旋角动量}。
正如其名称暗示的那样，自旋角动量源自场的内禀旋转自由度，也就是说，旋转群在场上的表示不仅仅含有无穷维的表示，还含有一个有限维的表示的时候就会出现自旋角动量。
如果场是标量场，那么旋转群在其上的有限维表示就是平凡的，此时$J_i$全部为零，就没有自旋角动量。

以上推导在有相互作用时可能是不安全的，因为此时涉及多个场，且相互作用会引入额外的能量，从而难以良定义“一个场的能量”或是“一个场的动量”。

\section{单粒子态}\label{sec:single-particle}

虽然本文主要是关于相对论性量子场论的，绕过场的概念直接分析单粒子态仍然是有益的。
所谓单粒子态应该能够使用粒子位置和一些附加的自由度完全描述。

\subsection{粒子的自由度}\label{sec:single-particle-quantity}

\subsubsection{位置算符与动量算符}\label{sec:position-and-momentum}

先考虑一维的位置算符$\hat{x}$。由于我们认为$\hat{x}$对应\concept{位置}，其谱为连续谱，本征值没有上下界，而是跑遍整个实数轴%
\footnote{注意这是\concept{定义}：我们单纯构造了一个李代数，仅此而已。这一步实际上并没有用到任何物理概念。}%
。
于是，我们考虑一个可以完全由$\hat{x}$描述的希尔伯特空间$\mathcal{H}_{1\text{d}}$，在其上我们可以写出
\begin{equation}
    \hat{x} = \int \dd{x} x \dyad{x},
\end{equation}
有
\begin{equation}
    \hat{x} \ket{x'} = x' \ket{x'},
\end{equation}
其中$\ket{x'}$代表位置在$x'$的本征态。

很自然地，我们考虑空间平移群导致的物理量。空间平移群是李群，它在$\mathcal{H}_{1\text{d}}$上有幺正表示，则其生成元是厄米的，从而是一个可观察量。设%
\footnote{容易看出这代表
\[
    \hat{p} = \ii \pdv{\hat{Q}}{x},
\]
刚好和一般的定义差了一个负号。这是因为平移群对“场算符”位置$\hat{x}$的作用是
\[
    \hat{x} \stackrel{Q_\text{operator}}{\longrightarrow} \hat{x} + a,
\]
使用同一个群参数$a$，上式按照\eqref{eq:field-and-state-corr}诱导出的在态矢量上的作用就是
\[
    \ket{x} \stackrel{Q_\text{operator}}{\longrightarrow} \ket{x - a}.
\]
然而，我们通常希望空间平移群在态矢量上的作用是
\[
    \ket{x} \stackrel{Q_\text{state}}{\longrightarrow} \ket{x + a},
\]
因此为了让$Q_\text{operator}$按\eqref{eq:field-and-state-corr}诱导出的在态矢量上的作用的生成元和$Q_\text{state}$的生成元一致，在定义$Q_\text{state}$的生成元时我们特意加了一个负号。正文中的$\hat{Q}$指的都是$Q_\text{state}$。
\label{note:state-and-operator-minus-symbol}}
\begin{equation}
    \hat{Q}(\dd{x}) = \hat{I} + \frac{1}{\ii} \dd{x} \hat{p},
\end{equation}
其中$\hat{p}$是一个不显含任何参量的厄米算符。容易看出它具有动量量纲。
注意到
\[
    \begin{split}
        \hat{x} \hat{Q}(\dd{x'}) \ket{x'} = \hat{x} \ket{x' + \dd{x'}} = (x' + \dd{x'}) \ket{x' + \dd{x'}}, \\
        \hat{Q}(\dd{x'}) \hat{x} \ket{x'} = \hat{Q}(\dd{x'}) x' \ket{x'} = x' \hat{Q}(\dd{x'}) \ket{x'} = x' \ket{x' + \dd{x'}},
    \end{split}
\]
就有
\[
    [\hat{x}, \hat{Q}(\dd{x'})] \ket{x'} = \dd{x'} \ket{x' + \dd{x'}} \approx \dd{x'} \ket{x'}.
\]
考虑到$\ket{x'}$的任意性，我们得到
\[
    [\hat{x}, \hat{Q}(\dd{x'})] = \left[\hat{x}, \hat{I} + \frac{1}{\ii} \dd{x} \hat{p}\right] = \hat{I},
\]
从而
\begin{equation}
    [\hat{x}, \hat{p}] = \ii . 
    \label{eq:x-p-commutator-1d}   
\end{equation}
对易关系\eqref{eq:x-p-commutator-1d}完全确定了$\hat{x}$和$\hat{p}$的李代数结构。
实际上，完全可以使用更加简单的方法获得\eqref{eq:x-p-commutator-1d}。设一维空间平移群在$\mathcal{H}_\text{1d}$上的表示为$\hat{p}$。一维空间平移群对算符$\hat{x}$的作用的微分为
\[
    \frac{1}{\ii} \dv{a} {((x + a) - x)} = - \ii,
\]
从而由算符上的场表示和态空间上的表示之间的关系\eqref{eq:field-and-state-corr}，我们有
\[
    \comm{\hat{p}}{\hat{x}} = - \ii,
\]
就得到了\eqref{eq:x-p-commutator-1d}。

我们来分析动量算符在坐标表象下的表示。
我们有
\[
    \begin{aligned}
        (1 - \ii \hat{p} \dd{x}) \ket{\psi} &= \hat{Q}(\dd{x'}) \ket{\psi} \\
        &= \int \dd{x'} \hat{Q}(\dd{x}) \ket{x'} \braket{x'}{\psi} \\
        &= \int \dd{x'} \ket{x' + \dd{x}} \braket{x'}{\psi} \\
        &= \int \dd{x'} \ket{x'} \braket{x' - \dd{x}}{\psi} \\
        &= \int \dd{x'} \ket{x'} \left(\braket{x'}{\psi} - \dd{x} \pdv{x'} \braket{x'}{\psi} \right) \\
        &= \ket{\psi} - \dd{x} \int \dd{x'} \ket{x'} \pdv{x'} \braket{x'}{\psi}, 
    \end{aligned}
\]
从而
\begin{equation}
    \hat{p} \ket{\psi} = - \ii \int \dd{x'} \ket{x'} \pdv{x'} \braket{x'}{\psi},
\end{equation}
或者等价的，
\begin{equation}
    \mel{x}{\hat{p}}{\psi} = - \ii \pdv{x} \braket{x}{\psi}.
    \label{eq:p-in-x-representation-1d}
\end{equation}
当然，完全可以使用空间平移群在无限维空间上的表示得到这个结果；由\autoref{note:state-and-operator-minus-symbol}，虽然使用同一个群参数的空间平移群在算符$\hat{x}$和态$\ket{x}$上的作用正好是相反的，但由于定义$\hat{p}$时已经考虑了这一点，从\eqref{eq:transition-inf-rep}就能够得到\eqref{eq:p-in-x-representation-1d}。

从\eqref{eq:p-in-x-representation-1d}可以导出位置的本征态和动量本征态之间的切换关系。取$\ket{\psi}$为$\ket{p}$，我们有
\[
    \mel{x}{\hat{p}}{p} = - \ii \pdv{x} \braket{x}{p} = \mel{x}{p}{p} = p \braket{x}{p},
\]
即微分方程
\[
    \pdv{x} \braket{x}{p} = \ii p \braket{x}{p},
\]
从而
\[
    \braket{x}{p} = C \ee^{\ii p x}.
\]
由于总是可以在所有$\ket{p}$上一起乘上一个模长为1的常数而不产生任何影响，不失一般性地我们取$C$为实数。
归一化条件为
\[
    \delta(p - p') = \braket{p}{p'} = \int \dd{x} \braket{p}{x} \braket{x}{p'},
\]
从而计算得到
\begin{equation}
    \braket{x}{p} = \frac{1}{\sqrt{2\pi}} \ee^{\ii p x}.
\end{equation}
这表明坐标表象和动量表象之间的变换是傅里叶变换。

下面转而讨论三维的情况。三维位置算符$\hat{\vb*{x}}$指的是
\begin{equation}
    \hat{\vb*{x}} = \hat{x}^1 \vb*{e}_1 + \hat{x}^2 \vb*{e}_2 + \hat{x}^3 \vb*{e}_3,
\end{equation}
其中为方便起见选取$\vb*{e}_1, \vb*{e}_2, \vb*{e}_3$为一组规范正交基。
$\hat{x}^1, \hat{x}^2, \hat{x}^3$的本征值均跑遍整条实数轴，因此$\hat{\vb*{x}}$的本征值是$\reals^3$中全体矢量。
我们还需要加入另一个假设：$\hat{x}^1, \hat{x}^2, \hat{x}^3$彼此对易。这个假设要求这三个算符满足某种“独立性”。
在一个完全能够由$\hat{\vb*{x}}$描述的希尔伯特空间$\mathcal{H}_{3\text{d}}$中我们写出其形式
\begin{equation}
    \hat{\vb*{x}} = \int \dd[3]{\vb*{x}} \vb*{x} \dyad{\vb*{x}} 
    = \int \dd[3]{\vb*{x}} (\hat{x}^1 \vb*{e}_1 + \hat{x}^2 \vb*{e}_2 + \hat{x}^3 \vb*{e}_3) \dyad{x^1, x^2, x^3}.
\end{equation}

沿着$\vb*{e}_1, \vb*{e}_2, \vb*{e}_3$的平移操作是对易的，这就意味着
\begin{equation}
    [\hat{p}_1, \hat{p}_2] = [\hat{p}_2, \hat{p}_3] = [\hat{p}_3, \hat{p}_1] = 0.
\end{equation}
所有生成元彼此对易。这样三维空间平移群的李代数就被拆分成了三个一维空间平移群的李代数的直和，三维空间平移群就被拆分成了三个一维空间平移群的直积。
这三个一维空间平移群分别是$x^1$方向上的平移群$\hat{Q}_1(a)$，$x^2$方向上的平移群$\hat{Q}_2(a)$，以及$x^3$方向上的平移群$\hat{Q}_3(a)$。
另一方面，注意到三维位置算符对应的本征态张成的空间$\{ \ket{x^1, x^2, x^3} \}_{x_1,x_2,x_3}$实际上是三个一维位置算符对应的本征态张成的空间的直积，
这是因为$\hat{x}^1, \hat{x}^2, \hat{x}^3$彼此对易。于是我们做拆分
\[
    \mathcal{H}_\text{3d} = \mathcal{H}_\text{1d1} \otimes \mathcal{H}_\text{1d2} \otimes \mathcal{H}_\text{1d3},
\]
并且用$\hat{x}^1$完全描述$\mathcal{H}_\text{1d1}$，用$\hat{x}_2$完全描述$\mathcal{H}_\text{1d2}$，用$\hat{x}_3$完全描述$\mathcal{H}_\text{1d3}$。
由于$\hat{Q}_1(a)$不改变$x^2, x^3$，它在$\mathcal{H}_\text{1d2},\mathcal{H}_\text{1d3}$上没有作用。同样也可以对$\hat{Q}_2(a),\hat{Q}_3(a)$做同样的论证。从而，下标不一样的$\hat{x}^i$和$\hat{p}_i$彼此对易。
这样关于诸$\hat{x}$和诸$\hat{p}$的李代数就可以拆分成$\{\hat{x}^1, \hat{p}_1\}$、$\{\hat{x}^2, \hat{p}_2\}$和$\{\hat{x}^3, \hat{p}_3\}$三对量的李代数的直和。
最后注意到在每个空间$\mathcal{H}_\text{1d$i$}$中，
\[
    \hat{Q}_i(a) \ket{x^i} = \ket{x^i + a},
\]
于是我们可以原封不动地套用对一维动量和位置的论证，得到
\[
    [\hat{x}^i, \hat{p}_i] = \ii \delta_{j}^i.
\]
于是，在没有做任何计算，而只是观念性地拆分了态空间之后，我们得到三维情况下的动量-位置对易关系：
\begin{equation}
    [\hat{x}^i, \hat{x}^j] = 0, \quad [\hat{p}_i, \hat{p}_j] = 0, \quad [\hat{x}^i, \hat{p}_j] = \ii .
\end{equation}
同样，也可以通过\eqref{eq:field-and-state-corr}得到上式。
同样，套用一维动量和位置的论证，我们得到动量算符在坐标表象下的形式
\begin{equation}
    \mel{\vb*{x}}{\hat{\vb*{p}}}{\psi} = - \ii \grad{\braket{\vb*{x}}{\psi}},
    \label{eq:p-in-x-representation}
\end{equation}
以及相应的表象变换矩阵
\begin{equation}
    \braket{\vb*{x}}{\vb*{p}} = \frac{1}{(2\pi)^{3/2}} \ee^{\ii \vb*{p} \cdot \vb*{x}}.
    \label{eq:x-p-trans}
\end{equation}

以上我们讨论了三维动量表象。但实际上，空间平移群是在闵可夫斯基时空中的，因此我们还可以讨论四维动量表象。
所谓四维动量就是四维空间平移群的场表示按照\eqref{eq:field-and-state-corr}产生的、作用在态矢量上的生成元。
它的空间部分就是我们已知的$\hat{p}$，它的时间部分$\hat{E}$满足
\[
    - \ii \pdv{\psi}{t} = [\hat{E}, \psi],
\]
其中$\psi$是某个场。因此$\hat{E}$就是能量。我们不说这是哈密顿量是因为它仅仅关于被讨论的单个粒子，而真正的哈密顿量应该关于整个体系。
按照\autoref{sec:translation}中的描述，四维动量的四个分量彼此对易。因此，四维矢量算符$\hat{p}^\mu$是态空间
\[
    \{\ket{p}\}_p = \{\ket{\vb*{p}} \ket{E}\}
\]
的CSCO。然而，完整地描述单粒子的坐标空间实际上并不需要全部的$\{\ket{\vb*{p}} \ket{E}\}$——这是当然的，既然使用$\hat{p}$已经能够完整描述态空间了。
事实上，考虑到\eqref{eq:momentum-and-mass}，我们有
\begin{equation}
    \hat{E}^2 - \hat{\vb*{p}}^2 = m^2,
\end{equation}
如果态$\ket{p}$描述的是坐标空间中的某个态，就可以把上式作用在$\ket{p}$上：
\[
    \begin{aligned}
        m^2 \ket{p} &= \hat{E}^2 \ket{p} - \hat{\vb*{p}}^2 \ket{p} \\
        &= (E^2 - \vb*{p}^2) \ket{p},
    \end{aligned}
\]
% TODO:怎么证明这里的$m$和场表示中的$m$一样？
从而
\[
    m^2 = E^2 - \vb*{p}^2 = p_\mu p^\mu.
\]
为了保证$E$的单值性我们要求$E>0$，于是
\begin{equation}
    m^2 = E^2 - \vb*{p}^2 = p_\mu p^\mu, \quad E > 0.
    \label{eq:mass-shell}
\end{equation}
我们看到，\eqref{eq:mass-shell}在四维闵可夫斯基时空中选出了一个三维的子流形。我们称这个子流形为\concept{质壳}。
态$\ket{p}$描述了一个实际的单粒子的坐标空间，当且仅当，$p$在质壳\eqref{eq:mass-shell}上，或者说$p$\concept{在壳}。
从而，给定一个$\vb*{p}$，我们把使用质壳方程写出的对应能量记作
\begin{equation}
    E_{\vb*{p}} = \sqrt{ m^2 + \vb*{p}^2 }.
\end{equation}

由于$\eqref{eq:mass-shell}$让我们能够从$\vb*{p}$直接导出$p_0$也就是$E$，实际上完全可以使用$\vb*{p}$来标记在质壳上的$\ket{p}$。但我们并没有这么做，原因马上可以看到。
现在我们来归一化$\ket{p}$。因为我们在四维闵可夫斯基时空中工作，不再能够使用$\int \dd[3]{\vb*{p}}$来做归一化了，因为它不满足洛伦兹协变性：做一个洛伦兹变换，就有可能把一部分$\vb*{p}$弄到$p_0$中。
因此我们需要在四维矢量空间上定义一个积分测度，它只能在质壳上给出非零值，且这个积分测度必须是洛伦兹标量。
容易看出，
\[
    \int \dd[4]{p} \delta(p^2 - m^2) \theta(p_0)
\]
正是一个满足这种条件的积分测度。因此归一化条件为
\[
    1 = \int \dd[4]{p} \delta(p^2 - m^2) \theta(p_0) \dyad{p}.
\]
由于
\[
    \begin{aligned}
        \int \dd[4]{p} \delta(p^2 - m^2) \theta(p_0) &= \int \dd[3]{\vb*{p}} \int \dd{p_0} \delta (p_0^2 - \vb*{p}^2 - m^2) \theta(p_0) \\
        &= \int \dd[3]{\vb*{p}} \int \dd{p_0} \left( \frac{\delta(p_0 - E_{\vb*{p}})}{2 E_{\vb*{p}}} + \frac{\delta(p_0 + E_{\vb*{p}})}{- 2 E_{\vb*{p}}} \right) \theta (p_0) \\
        &= \int \frac{\dd[3]{\vb*{p}}}{2 E_{\vb*{p}}},
    \end{aligned}
\]
我们得到
\[
    \int \frac{\dd[3]{\vb*{p}}}{2 E_{\vb*{p}}} \dyad{p} = 1.
\]
对比
\[
    \int \dd[3]{\vb*{p}} \dyad{\vb*{p}} = 1,
\]
我们不失一般性地将在壳的$\ket{p}$放在坐标空间中，且由于$\ket{p}$与以它的空间部分$\vb*{p}$为标记的态$\ket{\vb*{p}}$一一对应，不失一般性地要求$\ket{p}$和$\ket{\vb*{p}}$差一个实数，那么就有
\begin{equation}
    \ket{p} = \sqrt{2 E_{\text{p}}} \ket{\vb*{p}}.
    \label{eq:relativity-p}
\end{equation}
在三维动量空间中，$\ket{p}$是没有被归一化的；但在质壳中，$\ket{\vb*{p}}$反而是没有被归一化的那个。
为了保证洛伦兹协变性，在讨论相对论性量子场论时多用$\ket{p}$而不是$\ket{\vb*{p}}$，虽然它们表示的物理状态完全是一样的。
在坐标表象和$p$表象之间切换只需要使用
\begin{equation}
    \braket{\vb*{x}}{p} = \sqrt{\frac{2 E_{\vb*{p}}}{(2\pi)^3}} \ee^{\ii \vb*{p} \cdot \vb*{x}}.
    \label{eq:relativity-x-p-trans}
\end{equation}
但实际上这个公式很少真的被使用，因为一来相对论情况下很少需要讨论粒子位置，二来从相对论动量表象也就是$p$表象切换回$\vb*{x}$表象时需要使用积分测度$\int \dd[3]{\vb*{x}}$，而这不是洛伦兹协变的。由于我们在实际计算时有时需要将时间单独拿出来当成一个“演化参数”来看待而不是把它当成坐标，通常不讨论$\int \dd[3]{\vb*{x}}$的洛伦兹协变版本，从而从$p$表象切换回$\vb*{x}$表象会有困难，我们也不去理会它。

% TODO:通过这种方式导出的动量和能量和使用诺特定理导出的动量和能量有什么关系吗

\subsubsection{角动量}

% TODO：把指标升降放到最后做

角动量算符就是旋转生成元在态矢量上的表示。有限维的旋转生成元是一些矩阵，它们实际上就是三个方向上的角动量算符在$\hat{J}_z$的本征态上的分量矩阵（为什么是$\hat{J}_z$是因为在导出具体的矩阵表达式时是使用$J_x$和$J_y$构造$J_z$的本征态的产生湮灭算符的）。
与\autoref{note:state-and-operator-minus-symbol}中提到的类似，如果旋转群$\hat{R}(\vb*{\phi})$是直接作用在态上的，那么定义
\begin{equation}
    \hat{R}(\vb*{\phi}) = \hat{I} + \frac{1}{\ii} (\phi_1 \hat{J}^1 + \phi_2 \hat{J}^2 + \phi_3 \hat{J}^3), 
\end{equation}
而如果它是作用在算符上，那么定义
\[
    \hat{R}(\vb*{\phi}) = \hat{I} + \ii (\phi_1 \hat{J}^1 + \phi_2 \hat{J}^2 + \phi_3 \hat{J}^3).
\]
两种定义给出的$\hat{J}^i$是一样的，只是群参数差了一个负号。这就是\autoref{note:state-and-operator-minus-symbol}中提到的情况。

$J^i$可以分解成两部分：一部分改变$\vb*{x}$的取值，一部分不改变。改变$\vb*{x}$取值的那一部分记作$L^i$，称为\concept{轨道角动量}，它与粒子的位置自由度有关，因此有这个名称；不改变$\vb*{x}$取值的那一部分记作$S^i$，称为\concept{自旋角动量}，因为它和粒子的内禀自由度有关。
$J^i$服从\eqref{eq:lie-algebra-so3}，因此我们也称\eqref{eq:lie-algebra-so3}为\concept{角动量代数}。
通常设
\begin{equation}
    \vb*{J} = J_1 \vb*{e}_1 + J_2 \vb*{e}_2 + J_3 \vb*{e}_3,
\end{equation}
则角动量代数就是
\begin{equation}
    \vb*{J} \times \vb*{J} = \ii \vb*{J}.
\end{equation}
不过，实际计算时很少用到这个矢量，因为由于$\hat{J}^i$是三维旋转群的李代数的无穷维厄米表示，它们遵循角动量代数，因此彼此间不对易。
$\hat{\vb*{J}}$没有本征态。但由角动量代数，$\hat{\vb*{J}}^2$却和三个$\hat{J}^i$都对易。

需要注意的是，以上定义不能够一般地将轨道角动量和自旋角动量完全分开，因为可以任意地将自旋角动量划归一部分给轨道角动量。因此我们人为要求轨道角动量仅仅作用在坐标空间上，而自旋角动量仅仅作用在内禀自由度上。

按照\eqref{eq:rotation-inf-rep}和\eqref{eq:p-in-x-representation}，我们有
\[
    \begin{aligned}
        \mel{\vb*{x}}{\hat{L}^1}{\psi} &= x^2 (- \ii \partial_3) \braket{\vb*{x}}{\psi} - x^3 (- \ii \partial_2) \braket{\vb*{x}}{\psi} \\
        &= \mel{\vb*{x}}{(\hat{x}^2 \hat{p}_3 - \hat{x}^3 \hat{p}_2)}{\psi}, \\
        \hat{L}^1 &= \hat{x}^2 \hat{p}_3 - \hat{x}^3 \hat{p}_2.
    \end{aligned}
\]
同样也可以这样计算出$\hat{L}^2$和$\hat{L}^3$。从而我们得到
\begin{equation}
    \hat{\vb*{L}} = \hat{\vb*{x}} \times \hat{\vb*{p}},
\end{equation}
其中$\hat{\vb*{L}}$就是
\begin{equation}
    \hat{\vb*{L}} = \hat{L}^i \vb*{e}_i.
\end{equation}

\begin{equation}
    \hat{\vb*{L}}^2 = \hat{\vb*{x}}^2 \hat{\vb*{p}}^2 - (\hat{\vb*{x}} \cdot \hat{\vb*{p}})^2 + \ii \hat{\vb*{x}} \cdot \hat{\vb*{p}} = \hat{\vb*{x}}^2 \hat{\vb*{p}}^2 - (\hat{\vb*{x}} \cdot \hat{\vb*{p}}) (\hat{\vb*{p}} \cdot \hat{\vb*{x}}).
\end{equation}

总角动量$\hat{J}^i$和轨道角动量$\hat{L}$都遵循角动量代数，也即
\[
    \begin{aligned}
        \comm*{\hat{L}^i+\hat{S}^i}{\hat{J}^j+\hat{S}^j} &= \ii \epsilon_{ijk} (J^k+S^k), \\
        \comm*{\hat{L}^i}{\hat{L}^j} &= \ii \epsilon_{ijk} L^k,
    \end{aligned}
\]
而由于轨道角动量和自旋角动量作用在态空间的不同自由度上，它们是彼此对易的，从而我们推导出
\[
    \comm*{\hat{S}^i}{\hat{S}^j} = \ii \epsilon_{ijk} \hat{S}^k,
\]
因此自旋角动量确确实实是一种角动量：它也满足角动量代数。

我们也可以定义
\begin{equation}
    H = \hat{\vb*{S}} \cdot \frac{\hat{\vb*{P}}}{\abs{\vb*{P}}}
\end{equation}

如前所述，$J^2$和$\hat{J}_i$中的任何一个都对易。习惯上考虑$\hat{J}_3$，我们会发现$\hat{J}^2$和$J_3$实际上构成了角动量代数中的一组CSCO，因为$\hat{J}^2$是角动量代数的卡西米尔元，它确定了$\hat{J}_3$的取值的上下限，再加上$\hat{J}_3$的取值，系统的角动量状况就完全确定了。
通常称$\hat{L}^2$的本征值$\sqrt{j(j+1)}$中的$j$为\concept{角量子数}，$\hat{L}_3$的本征值为\concept{磁量子数}，而$\hat{S}_3$称为\concept{自旋量子数}。
$\hat{S}^2$没有专门的称呼，因为对种类确定的粒子它是固定的。

容易验证，若$\vb*{J}_1$和$\vb*{J}_2$都是角动量算符（也即，它们构成角动量代数），则它们之和$\vb*{J}_1 + \vb*{J}_2$也是角动量算符。
我们会看到将$\vb*{J}_1$和$\vb*{J}_2$叠加会得到一个可约表示，$\vb*{J}_1 + \vb*{J}_2$作用在$\vb*{J}_1$和$\vb*{J}_2$各自作用的空间的直积上，而这个直积实际上是一系列空间的直和。
我们设
\[
    \hat{J}^2 \ket{jm} = j(j+1) \ket{jm}, \quad \hat{J} \ket{jm} = m \ket{jm},
\]
特意加上一个$j$的标记是因为这个表示可能是可约的。到现在为止$j$可以取哪些值都是完全不清楚的，不过无论如何，上式携带了$\hat{J}$的一个表示。另一方面，容易看出
\[
    \ket{j_1 j_2 m_1 m_2} = \ket{j_1 m_1} \otimes \ket{j_2 m_2}
\]
实际上也携带了$\hat{J}$的一个表示。
容易验证$\ket{j_1 j_2 m_1 m_2}$是$J_z$的一组本征态，且
\begin{equation}
    m = m_1 + m_2,
    \label{eq:m-m1-m2}
\end{equation}
但是并不是$\vb*{J}^2$的一组本征态。
两组基之间的变换系数$\braket{j_1 j_2 m_1 m_2}{j m}$称为\concept{CG系数}。
$\{\ket{jm}\}$实际上是由若干不可约表示直和而成的基矢量（由不同的$j$对应的表示直和而成），而$\{\ket{j_1 j_2 m_1 m_2}\}$则是两个不可约表示直积而成的基矢量，CG系数用于在这两组基矢量来回切换。
可以预期，CG系数应该能够反映\eqref{eq:m-m1-m2}这一事实。的确如此：将用CG系数表示的$\ket{jm}$代入本征方程得到
\[
    \sum_{m_1, m_2} (m - m_1 - m_2) \braket{j_1 j_2 m_1 m_2}{j m} \ket{j_1 j_2 m_1 m_2} = 0,
\]
于是
\[
    (m - m_1 - m_2) \braket{j_1 j_2 m_1 m_2}{j m} = 0.
\]
这就意味着
\[
    \ket{jm} = \sum_{m_1} \ket{j_1 j_2 m_1 (m-m_1)} \braket{j_1 j_2 m_1 (m-m_1)}{jm}.
\]
由于$m$是$m_1$和$m_2$之和，$m$的最大值是$j_1+j_2$，最小值是$-j_1-j_2$，在此之间的所有值都可以取到。
% TODO:证明
$j$的取值为
\[
    j = j_1 + j_2, j_1 + j_2 - 1, \ldots, \abs{j_1 - j_2}.
\]
在半经典的图景中，这意味着叠加两个态的角动量时，它们的夹角是量子化的。
计算每个$j$对应的不可约表示的维度，把它们加起来，得到的结果正是$(2j_1 - 1) (2j_2 - 1)$。

CG系数的具体计算需要用到$\vb*{J}$的升降算符，注意到
\begin{equation}
    J_{\pm} \ket{jm} = \sum_{m_1 + m_2 = m} (J_{1 \pm} \ket{j_1 m_1} \ket{j_2 m_2} + \ket{j_1 m_1} J_{2 \pm} \ket{j_2 m_2}) \braket{j_1 j_2 m_1 m_2}{jm},
    \label{eq:addition-of-ca-opearator-su2}
\end{equation}
首先可以用这个关系式计算出$j=m$的CG系数，注意到
\[
    J_+ \ket{jm} = 0,
\]
就有
% TODO
可以递推得到

类似的方法还可以计算出三个角动量算符叠加而得到的结果，乃至更多。

需要注意的是按照以上步骤将角动量算符叠加之后得到的角动量基矢量并没有对称化/反对称化。
反对称化可能会让一些状态实际上取不到。

% TODO：螺旋度

\subsection{对称性操作}

\subsubsection{宇称变换}

% TODO

\subsubsection{电荷}

\subsubsection{粒子-反粒子共轭}

关于反粒子到底是怎么产生的需要看% TODO

\section{自由场论}

\subsection{自由场动力学}\label{sec:qft-free-dynamics}

在相对论性量子场论中我们仍然要求自由粒子的拉氏量具有最高的对称性，也就是说，在庞加莱群作用下没有变化，
且拉氏量只含有二次项（从而给出线性的运动方程）。%
\footnote{虽然本文主要分析正则量子化，但写出运动方程还是用的是拉氏量。这是更加方便的做法，因为正则表述在理论框架上将时间和空间分开对待了，因此不容易观察哈密顿量在洛伦兹变化之下是不是给出恒定不变的动力学。}
空间平移不变性意味着拉氏量不能显含坐标；空间各向同性意味着拉氏量中的参数必须是标量，不能出现多分量的参数。

本节还将计算三种场的哈密顿量。由于我们通常在欧氏空间中写出哈密顿量而在闵可夫斯基时空中讨论拉氏量，需要格外注意一点：闵可夫斯基时空的度规为$(+, -, -, -)$而欧几里得空间的度规为$(+, +, +)$，因此
\[
    A_\mu A^\mu = (\dot{A}^0)^2 - \vb*{A}^2,
\]
上式左边为闵可夫斯基时空中的表达式，右边为欧几里得空间中的表达式。
换而言之，闵可夫斯基时空中的$A_i A^i$和欧几里得空间中的$A_i A^i$差一个负号。

\subsubsection{实标量场的克莱因-高登方程}\label{sec:k-g-eq}

% 自由标量场$\phi$的不超过二阶项的拉氏量可以写成
% \[
%     \mathcal{L} = A + B \phi + C \phi^2 + D^\mu \partial_\mu \phi + E^{\mu \nu} \partial_\mu \phi \partial_\nu \phi + F^\mu \phi \partial_\mu \phi.
%\]
%空间平移不变性意味着$A,B,C,D,E,F$全部是常数。
%拉氏量中的常数项不提供任何物理，可略去，于是略去$A$项。
%由于空间各向同性（参见\autoref{note:rotation}），所有的奇数次$\partial_\mu \phi$都不应该出现。
%于是拉氏量为
%\[
%    \mathcal{L} = B \phi + C \phi^2 + E^{\mu \nu} \partial_\mu \phi \partial_\nu \phi.
%\]
%还是由于空间旋转不变性，$E^{\mu \nu}$必须是度规张量，否则运动方程中将出现一个旋转时分量会改变的张量，
%% TODO:运动方程本身不会发生改变但是空间中还是会出现一个特殊方向
%因此拉氏量为
%\[
%    \mathcal{L} = B \phi + C \phi^2 + E \partial_\mu \phi \partial^\mu \phi.
%\]
%拉氏量中的$\phi$项实际上无关紧要，因为完全可以通过重新定义一个$\phi' = \phi + \const$来把一次项弄掉，所以不失一般性地
%\[
%    \mathcal{L} = C \phi^2 + E \partial_\mu \phi \partial^\mu \phi.
%\]
标量场的拉氏量中只能够出现$\phi$和$\partial_\mu \phi$构成的一次或二次不变量。
$\phi$构造出的一次不变量有$\phi$，二次不变量有$\phi^2$，$\partial_\mu \phi$是矢量，$\partial_\mu \phi$不可能和$\phi$缩并，而由于拉氏量中的参数都是标量它也不可能和参数缩并，因此它只能和自己缩并，得到$\partial_\mu \phi \partial^\mu \phi$。
这样我们得到
\[
    \mathcal{L} = A \phi + B \phi^2 + C \partial_\mu \phi \partial^\mu \phi.
\]
拉氏量中的$\phi$项实际上无关紧要，因为完全可以通过重新定义一个$\phi' = \phi + \const$来把一次项消除掉，于是我们略去这一项。
由于拉氏量可以任意地乘上非零常数，我们通过重新定义常数可以得到
\begin{equation}
    \mathcal{L} = \frac{1}{2} (\partial_\mu \phi \partial^\mu \phi - m^2 \phi^2).
    \label{eq:klein-gordon-lagrangian}
\end{equation}
这个拉氏量导致下面的运动方程：
\begin{equation}
    (\partial_\mu \partial^\mu + m^2) \phi = 0.
    \label{eq:klein-gordon-eq}
\end{equation}
这就是\concept{克莱因-高登方程}，标量场或者说自旋0场的基本运动方程。
可以证明，为了让\eqref{eq:klein-gordon-eq}给出有物理意义的预言（例如不出现无限下降的能量，等等），应当取$m \geq 0$。

实际上，所有场的运动方程均满足克莱因-高登方程。我们将在推导其它场的运动方程之后证明这一点。
这就导致了一个重要的结果。平移生成元在场表示中为\eqref{eq:transition-inf-rep}，从而
\[
    P_\mu P^\mu = - \partial_\mu \partial^\mu,
\]
于是代入\eqref{eq:klein-gordon-eq}，得到
\[
    P_\mu P^\mu \phi = - \partial_\mu \partial^\mu = m^2 \phi,
\]
其中$m$为克莱因-高等方程中出现的那个$m$。也即，通过$P_\mu P^\mu$的表示的本征值（实际上就是它和恒等变换之间差的倍数，因为$P_\mu P^\mu$是卡西米尔元）得到的$m$和场的运动方程得到的$m$是一样的。

现在导出标量场的哈密顿表述。计算得到
\begin{equation}
    \pi = \partial_0 \phi = \dot{\phi},
    \label{eq:klein-gordon-pi}
\end{equation}
相应的
\begin{equation}
    \mathcal{H} = \frac{1}{2} \dot{\phi}^2 + \frac{1}{2} (\grad{\phi})^2 + \frac{1}{2} m^2 \phi^2.
\end{equation}
如我们希望的那样，哈氏量密度是正定的。这当然是因为我们适当地选择了$\mathcal{L}$的正负号。

另外，注意到 % TODO：好像我们还从来没有严格定义过下式？
\[
    P_0 = E, \quad P_i \vb*{e}^i = \vb*{p},
\]
在场表示中我们可以写出
\[
    E^2 - \vb*{p}^2 = m^2
\]
或者说
\[
    E^2 = m^2 + \vb*{p}^2.
\]
这正是质壳关系\eqref{eq:mass-shell}。这就提示我们，还有另一种量子化方案：做替换
\[
    E \longrightarrow \hat{E} = \ii \partial_0, \quad \vb*{p} \longrightarrow \hat{\vb*{p}} = - \ii \grad,
\]
则从能量-动量关系就可以得到克莱因-高登方程。
我们不采用这种方案，因为它隐含地引入了太多的假设：算符$E, \vb*{p}$是作用在一个算符场上而不是态矢量上；$E,\vb*{p}$是厄米算符，也即，平移群在此算符场上取幺正表示（注意这一点并不一般成立！例如，场表示中的有限维表示就常常不是幺正的），等等。

\subsubsection{旋量场的狄拉克方程}

旋量场实际上几乎从来不会在经典情况下遇到，因为它们的场值是复数，因此不具有直接的物理意义。

本节讨论旋量的运动方程。使用凑拉氏量的方法处理旋量会比较困难，因为旋量的指标分带点的和不带点的，因此会频繁地涉及求共轭等运算，在拉格朗日动力学中讨论这些问题并不方便。
因此接下来我们尝试直接构造旋量的运动方程，从这些运动方程反推对应的拉氏量。
我们将尝试构造一阶运动方程。如果对魏尔旋量和狄拉克旋量都能够构造出一阶运动方程，那就没有必要考虑更高阶的运动方程。
% TODO:为什么？

首先讨论魏尔旋量的运动方程。满足平移不变性的方程形如
\[
    \partial_0 \psi = b^i \partial_i \psi + C \psi,
\]
其中$b^i$和$C$是常数，$C$可以是一个旋量矩阵。
由于我们同时还要求旋转不变性，$C$只能是一个标量。显然，这个方程中所有含有导数的项加在一起必然得到一个旋量，即
\[
    \partial_0 \psi - b^i \partial_i \psi = \text{a covariant term} = C \psi.
\]
梯度算符是矢量，按照\eqref{eq:vector-is-spin-tensor}，我们可以写出作用在魏尔旋量上的导数算符
\begin{equation}
    \partial_{a \dot{b}} = \partial_\nu \sigma^\nu_{a \dot{b}}.
\end{equation}
从而魏尔旋量的梯度就是
\[
    \partial_{a \dot{b}} \psi^{\dot{b}} = \partial_\nu \sigma^\nu_{a \dot{b}} \psi^{\dot{b}}
\]
和
\[
    \partial^{\dot{a} b} \psi_b = \partial_\mu (\sigma^\mu)^{\dot{a} b} \psi_b.
\]
两个表达式中，$\sigma$的指标都一个带点一个不带点，这是为了保证梯度算符的协变性，因为矢量是一个左手旋量和一个右手旋量直积的结果。
$\partial_0 \psi - b^i \partial_i \psi$应该能够写成以上两种旋量梯度的函数。由于以上两种旋量梯度带一个指标，而$\partial_0 \psi - b^i \partial_i \psi$也是单指标对象，显然两者只应该差一个倍数。（当然，也可以将一个旋量张量参数和旋量梯度做缩并，但这样就没有旋转不变性了）这个倍数可以被吸收到$C$中。
从而运动方程形如
\[
    \mathrm{grad} \psi = C \psi.
\]
然而，注意到左手旋量的梯度是一个右手旋量，右手旋量的梯度是一个左手旋量，因此以上的方程会让一个右手旋量的各个分量等于一个左手旋量的各个分量，从而破坏了洛伦兹协变性。
消除这个矛盾的唯一可能就是让$C=0$，于是左手旋量的运动方程为
\[
    \partial_\mu (\sigma^\mu)^{\dot{a} b} \psi_b = 0,
\]
右手旋量的运动方程为
\[
    \partial_\nu \sigma^\nu_{a \dot{b}} \psi^{\dot{b}} = 0.
\]
由定义，$(\sigma^\mu)_{a \dot{b}}$的分量矩阵就是$\sigma$矩阵，而$(\sigma^\mu)^{\dot{a} b}$的分量矩阵则需要通过指标升降关系
\[
    (\sigma^\mu)^{\dot{a} b} = (\epsilon^{ac} (\sigma^\mu)_{c \dot{d}} \epsilon^{\dot{b} \dot{d}})^*
\]
得到。定义$(\sigma^\mu)^{\dot{a} b}$的分量矩阵为$\bar{\sigma}^\mu$，通过计算可以发现
\begin{equation}
    \bar{\sigma}^0 = \sigma^0 = I, \quad \bar{\sigma}^i = - \sigma^i,
\end{equation}
于是可以使用矩阵形式写出运动方程：
\begin{equation}
    \partial_0 \psi \pm \sigma^i \partial_i \psi = 0 .
    \label{eq:weyl-eq}
\end{equation}
负号为左手旋量，正号为右手旋量。

接下来讨论狄拉克旋量的运动方程。由于它同时含有一个左手旋量和一个右手旋量，可以让这两个旋量之间有线性的相互作用（从而，关于狄拉克旋量的方程仍然是线性的）。
洛伦兹不变性的要求意味着，唯一可能的方程形式如下：
\begin{equation}
    \begin{aligned}
        (\partial_0 + \sigma^i \partial_i) \psi_R = - \ii m \psi_L, \\
        (\partial_0 - \sigma^i \partial_i) \psi_L = - \ii m \psi_R.
    \end{aligned}
    \label{eq:interacting-weyl-eq}
\end{equation}
其中我们为了节省符号，使用$\psi_L$和$\psi_R$分别代表狄拉克旋量$\psi$的左手部分和右手部分。
当然，$m=0$时就狄拉克旋量的运动方程就退化为了一对完全无关的左手旋量和右手旋量。
这也就是实际计算时没有必要单独讨论魏尔旋量的原因。
容易证明
\[
    \partial_\mu \partial^\mu \psi_L = - m^2 \psi_L, \quad \partial_\mu \partial^\mu \psi_R = - m^2 \psi_R,
\]
也就是说狄拉克旋量也满足克莱因-高登方程。从而为了得到物理解，我们要求$m \geq 0$。
为了将\eqref{eq:interacting-weyl-eq}写成更加紧凑的形式，引入$\gamma$矩阵%
\footnote{这里给出的$\gamma$矩阵的形式实际上只是一种可能性。我们称这种将狄拉克旋量的左手部分和右手部分分开处理（或者等价地说，狄拉克旋量的基或者只含有左手旋量，或者只含有右手旋量），并且按照\eqref{eq:gamma-matrix}引入$\gamma$矩阵的方式为\concept{魏尔表象}。也可以取其它的旋量基，从而获得其它表象。}
\begin{equation}
    \gamma^\mu = \pmqty{0 & \sigma^\mu \\ \bar{\sigma}^\mu & 0}, \gamma^5 = \pmqty{I & 0 \\ 0 & -I},
    \label{eq:gamma-matrix}
\end{equation}
从而
\begin{equation}
    \gamma_\mu = \eta_{\mu \nu} \gamma^\nu = \pmqty{ 0 & \bar{\sigma}^\mu \\ \sigma^\mu & 0 },
\end{equation}
则得到
\begin{equation}
    (\ii \gamma^\mu \partial_\mu - m) \psi = 0.
    \label{eq:dirac-eq}
\end{equation}
这就是\concept{狄拉克方程}。如前所述，它能够推导出克莱因-高登方程，并且在$m$取零时退化为一个左手旋量场和一个右手旋量场的简单组合。

现在我们尝试拼凑一个拉氏量出来。由于狄拉克场的运动方程是一阶的而它又是一个复场，需要通过$\psi$的复共轭拼凑出一个在运动方程意义下“独立”的场，然后构造一个同时包含$\psi$及其复共轭的拉氏量，由这个拉氏量给出关于$\psi$和它的复共轭的两个方程，并且这两个方程必须等价。
现在我们尝试寻找和\eqref{eq:dirac-eq}等价，但是仅仅包含其复共轭的方程。
由\eqref{eq:dirac-eq}取共轭转置%
\footnote{这里的共轭转置是指场的共轭转置，不需要对作用在场上的算符$\partial_\mu$取共轭转置。}
，得到
\[
    (-\ii) \partial_\mu \psi^\dagger (\gamma^\mu)^\dagger - m \gamma^\dagger = 0.
\]
容易验证$\gamma$矩阵具有下面的性质：
\[
    (\gamma^0)^\dagger = \gamma^0, \quad (\gamma^i)^\dagger = - \gamma^i, 
\]
以及
\[
    \gamma^i \gamma^0 = - \gamma^0 \gamma^i,
\]
我们发现
\[
    \ii \partial_0 \psi^\dagger \gamma^0 \gamma^0 + \ii \partial_i \psi^\dagger \gamma^0 \gamma^i + m \psi^\dagger \gamma^0 = 0.
\]
定义
\begin{equation}
    \bar{\psi} = \psi^\dagger \gamma^0,
\end{equation}
则其运动方程为
\begin{equation}
    \ii \partial_\mu \bar{\psi} \gamma^\mu + m \bar{\psi} = 0.
    \label{eq:cog-dirac-eq}
\end{equation}
这正是我们需要的另一个运动方程。
我们会发现，拉氏量
\begin{equation}
    \mathcal{L} = \bar{\psi} (\ii \gamma^\mu \partial_\mu - m) \psi
    \label{eq:dirac-lagrangian}
\end{equation}
分别对$\psi$和$\bar{\psi}$应用欧拉-拉格朗日方程，就得到\eqref{eq:dirac-eq}和\eqref{eq:cog-dirac-eq}。同时容易验证这是一个洛伦兹标量。这表明\eqref{eq:dirac-lagrangian}确实就是狄拉克场的拉氏量。

从\eqref{eq:dirac-lagrangian}可以推导出对应的哈氏量。计算共轭动量可以得到
\begin{equation}
    \pi = \ii \psi^\dagger,
\end{equation}
从而能够得到哈氏量密度
\begin{equation}
    \mathcal{H} = - \ii \bar{\psi} \gamma^i \partial_i \psi  + m \bar{\psi} \psi = - \pi \gamma^0 \gamma^i \partial_i \psi - \ii m \pi \gamma^0 \psi.
\end{equation}

以上我们都设$\psi$的各分量由一个左手旋量和一个右手旋量拼凑而成。这称为\concept{手性基}或者\concept{魏尔表象}。
在手性基当中，拉氏量的质量项为
\[
    - \bar{\psi} m \psi = - m (\chi_L^\dagger \xi_R + \xi_R^\dagger \chi_L),
\]
这不是一个对角化的二次型。若做分量变换
\begin{equation}
    \psi' = \frac{1}{\sqrt{2}} \pmqty{-1 & 1 \\ 1 & 1} \psi,
\end{equation}
质量项就被对角化了。我们称这种分量选取为\concept{质量基}或者\concept{狄拉克表象}。
容易计算出质量基下
\begin{equation}
    \gamma^0 = 
\end{equation}

\subsubsection{矢量场的布洛卡方程}

% TODO：$(\partial_\mu A^\mu)^2$
由于自由场导数阶数的限制，出现在拉氏量中的只能是$A^\mu$和$\partial^\nu A^\mu$构成的一次或二次不变量。当然，实际上也可以出现$\partial_\mu A^\nu$或者$\partial_\mu A_\mu$这种，但因为它们都可以使用$\partial^\nu A^\mu$表示出来，故没有必要考虑它们。
只含有$A^\mu$二次不变量为$A^\mu A_\mu$，没有一次不变量；只含有$\partial^\mu A^\nu$的一次不变量是它自我缩并得到的$\partial^\mu A_\mu$，二次的不变量是两个$\partial^\mu A^\nu$缩并得到的$\partial^\mu A^\nu \partial_\mu A_\nu$和$\partial^\mu A^\nu \partial_\nu A_\mu$。
由于参数都是标量，$\partial^\mu A^\nu$不能和参数缩并，也不能和$A^\mu$缩并（$C^\nu A^\mu \partial_\nu A_\mu$要求参数是矢量，$A^\mu A^\nu \partial_\mu A_\nu$是三次项），因此我们得到了所有可能的不变量。
从而拉氏量形如
\[
    \mathcal{L} = C_1 A^\mu A_\mu + C_2 \partial^\mu A_\mu + C_3 \partial^\mu A^\nu \partial_\mu A_\nu + C_4 \partial^\mu A^\nu \partial_\nu A_\mu.
\]
代入欧拉-拉格朗日方程可以看出，$C_2$项在运动方程中不会引入任何项，故略去。
于是
\[
    \mathcal{L} = C_1 A^\mu A_\mu + C_3 \partial^\mu A^\nu \partial_\mu A_\nu + C_4 \partial^\mu A^\nu \partial_\nu A_\mu.
\]
代入欧拉-拉格朗日方程，得到
\begin{equation}
    \partial_\mu (C_3 \partial^\mu A^\nu +  C_4 \partial^\nu A^\mu) = C_1 A^\nu.
    \label{eq:vector-motion-eq}
\end{equation}
我们首先考虑$C_3 = - C_4$时的特殊情况。重新定义各系数，使得
\begin{equation}
    \mathcal{L} = - \frac{1}{2} \partial^\mu A^\nu \partial_\mu A_\nu + \frac{1}{2} \partial^\mu A^\nu \partial_\nu A_\mu + \frac{m^2}{2} A_\mu A^\mu,
\end{equation}
对应的，
\begin{equation}
    \partial_\mu (\partial^\mu A^\nu - \partial^\nu A^\mu) + m^2 A^\nu = 0.
    \label{eq:proca-eq}
\end{equation}
常定义
\begin{equation}
    F^{\mu \nu} = \partial^\mu A^\nu - \partial^\nu A^\mu,
\end{equation}
于是就有
\begin{equation}
    \mathcal{L} = - \frac{1}{4} F_{\mu \nu} F^{\mu \nu} + \frac{1}{2} m^2 A_\mu A^\mu.
    \label{eq:proca-lagrangian}
\end{equation}
现在回到一般情况。我们指出这样一个结论：无论$C_3,C_4$取什么值，对应的场$A^\mu$都可以和$C_3 = - C_4$时的某个场${A'}^\mu$建立一一对应。
% TODO:证明
因此布洛卡方程\eqref{eq:proca-eq}就不失一般性地描写了所有的矢量场的运动方程。

\eqref{eq:proca-eq}在$m \neq 0$时可以推导出克莱因-高登方程。注意到
\[
    m^2 \partial_\nu A^\nu = \partial_\nu \partial_\mu \partial^\nu A^\mu - \partial_\mu \partial^\mu \partial_\nu A^\nu = 0,
\]
于是
\begin{equation}
    \partial_\mu A^\mu = 0.
    \label{eq:lorentz-gauge}
\end{equation}
回代入\eqref{eq:proca-eq}，发现其左边第二项为零，于是
\[
    \partial_\mu \partial^\mu A^\nu + m^2 A^\nu = 0.
\]
于是\eqref{eq:proca-eq}就约化成了\eqref{eq:lorentz-gauge}和四个克莱因-高登方程。
而当$m=0$时，运动方程在规范变换
\begin{equation}
    A^\mu \longrightarrow {A'}^\mu = A^\mu + \partial^\mu \varphi
\end{equation}
下不变。这意味着矢量场$A^\mu$的四个自由度实际上是多余的。%
\footnote{显然，只要选定了一个$\varphi$，同一个时间点上的$A^\mu$和${A'}^\mu$之间必定可以建立起一一对应关系。形象地说，不同$\varphi$对应的$A'$的运行轨迹相互平行，因此只需要其中一条轨迹就能够确定所有轨迹。选取特定的一条轨迹就是选取一个规范。
规范自由度——也就是决定“实际的轨道是哪一条”的自由度——是一个隐藏的额外自由度。
这里的情况和对称性自发破缺有点类似，在后者中，隐藏的自由度是序参量。不同的隐藏的额外自由度取值将系统的态空间分成了互不相交的分支。
可以认为规范自由度不是物理的自由度，也就是说它仅仅出现在拉氏量中，而规范自由度取值不同的状态在希尔伯特空间中应该被认为是同样的状态。
选取一个规范意味着先假定规范自由度取值不同的状态真的是不一样的，然后取状态空间中的一个分支。}%
无论$\partial_\mu A^\mu$是什么，总可以找到一个$\varphi$使得
\[
    \partial_\mu \partial^\mu \varphi = - \partial_\mu A^\mu,
\]
从而对应的有
\[
    \partial_\mu {A'}^\mu = 0.
\]
于是我们不失一般性地强行要求\eqref{eq:lorentz-gauge}对$m=0$时的矢量场成立。这称为选取了\concept{洛伦兹规范}。选取了洛伦兹规范意味着，实际的场自由度只有三个。知道了$A$的三个分量就可以计算出第四个。
当然，这不是唯一的规范选取方式。例如可以直接要求$A^0 = 0$，称为\concept{辐射规范}。
选取洛伦兹规范的好处在于，方程\eqref{eq:lorentz-gauge}是洛伦兹协变的，因此在做量子化时能够直接套用正则量子化关系而不必担心场方程不是洛伦兹协变而产生的修正。

矢量场的共轭动量为
\[
    \pi_\mu = \partial_\mu A^0 - \partial^0 A_\mu,
\]
或者写成
\begin{equation}
    \pi^\mu = \partial^\mu A^0 - \partial^0 A^\mu.
\end{equation}
注意到$\pi^0 = 0$，因此可以只讨论其空间部分$\vb*{\pi}$。
在质量$m$不为零时场没有规范不变性，可以直接做计算得到
\begin{equation}
    A^0 = - \frac{1}{m^2} \div{\vb*{\pi}},
\end{equation}
以及
\begin{equation}
    \partial_0 A^0 = - \partial_i A^i = - \div{\vb*{A}},
\end{equation}
哈氏量为
\begin{equation}
    \mathcal{H} = \frac{1}{2} \vb*{\pi}^2 + \frac{1}{2m^2} (\div{\vb*{\pi}})^2 + \frac{1}{2} (\curl{\vb*{A}})^2 + \frac{1}{2} m^2 \vb*{A}^2.
\end{equation}
$m$出现在了分母中，这意味着无质量的场需要额外处理。

现在来处理无质量的场。其运动方程为
\[
    \partial_\mu (\partial^\mu A^\nu - \partial^\nu A^\mu) = 0.
\]
我们施加洛伦兹规范。当然也可以选取别的规范，但这可能会破坏洛伦兹协变性，从而导致我们得到的哈密顿动力学实际上是带有约束的，从而给之后做量子化带来麻烦。
此时运动方程为
\begin{equation}
    \partial_\mu \partial^\mu A^\nu = 0.
    \label{eq:massless-vector-eq}
\end{equation}
拉氏量\eqref{eq:proca-lagrangian}直接导出的不是这个方程，于是我们使用能够直接导出\eqref{eq:massless-vector-eq}的拉氏量
\begin{equation}
    \mathcal{L} = - \frac{1}{4} F_{\mu \nu} F^{\mu \nu} - \frac{1}{2} (\partial_\mu A^\mu)^2.
\end{equation}
在给定了洛伦兹规范的前提下，这个拉氏量实际上就是$m=0$的\eqref{eq:proca-lagrangian}。
此时
\begin{equation}
    \pi^0 = -\partial_\mu A^\mu, \quad \pi^i = \partial^i A^0 - \partial^0 A^i.
\end{equation}
当然，由洛伦兹规范，$\pi^0$就是零，不过我们完全可以算出哈密顿量之后再施加洛伦兹规范。
哈密顿量为 % TODO:这一部分似乎不需要太多笔墨，反正量子化的时候都是重新算的 关键之处在于哈密顿量和规范是有关的
\begin{equation}
    \mathcal{H} = 
\end{equation}

\subsection{自由场的量子化}\label{sec:quantization-of-free-fields}

我们接下来需要对场算符施加正则对易或反对易关系。由于空间平移不变性，我们将在动量表象下工作。这里有一个微妙的、和相对论特性有关的地方。
考虑到\eqref{eq:relativity-p}，我们有
\[
    \ket{p, \sigma} = \sqrt{2 E_{\vb*{p}}} \ket{\vb*{p}, \sigma},
\]
于是设$\hat{a}_{\vb*{p}, \sigma}$和$\hat{a}^\dagger_{\vb*{p}, \sigma}$为单粒子态$\ket{\vb*{p}, \sigma}$对应的产生湮灭算符，则有
\[
    (\hat{\alpha}_{\vb*{p}, \sigma})^\dagger = \sqrt{2E_{\vb*{p}}} \hat{a}_{\vb*{p}, \sigma}^\dagger,
\]
这样场算符的展开式就是
\[
    \hat{\phi}(x) \propto \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{\sqrt{(2\pi)^3 2 E_{\vb*{p}}}} \left( \hat{a}^\dagger_{\vb*{p}, \sigma} \ee^{\ii p_\mu x^\mu} + \hat{a}_{\vb*{p}, \sigma} \ee^{- \ii p_\mu x^\mu} \right) e_\sigma,
\]
或者既然我们已经转而在三维空间中讨论问题，即已经不再要求洛伦兹协变性了，可以使用三维矢量更加清晰地写出
\begin{equation}
    \hat{\phi}(\vb*{x}, t) \propto \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{\sqrt{(2\pi)^3 2 E_{\vb*{p}}}} \left( \hat{a}^\dagger_{\vb*{p}, \sigma} \ee^{- \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} + \hat{a}_{\vb*{p}, \sigma} \ee^{\ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right) e_\sigma. 
    \label{eq:expanding-field-operator}
\end{equation}
由于三种场都服从克莱因-高登方程，将\eqref{eq:expanding-field-operator}代入\eqref{eq:klein-gordon-eq}会发现$E_{\vb*{p}}$和$\vb*{p}$正好服从质壳关系\eqref{eq:mass-shell}。
另一方面，也可以使用相对论协变的积分测度，写出
\begin{equation}
    \hat{\phi}(\vb*{x}, t) \propto \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{2 E_{\vb*{p}} (2\pi)^{3/2}} \left( \hat{\alpha}^\dagger_{\vb*{p}, \sigma} \ee^{ \ii p_\mu x^\mu} + \hat{\alpha}_{\vb*{p}, \sigma} \ee^{- \ii \pi_\mu x^\mu} \right) e_\sigma. 
    \label{eq:expanding-field-operator-relativity}
\end{equation}

展开式\eqref{eq:expanding-field-operator-relativity}和\eqref{eq:expanding-field-operator}有各自的好处。
\eqref{eq:expanding-field-operator-relativity}给出的产生湮灭算符以及它们产生的单粒子态是洛伦兹协变的，但是在处理对易关系的时候会略有复杂，因为此时产生湮灭算符的对易关系必定也是协变的，因此必须指定
\[
    \comm*{\hat{\alpha}_{\vb*{p}}}{\hat{\alpha}^\dagger_{\vb*{p}'}} \sim E_{\vb*{p}} \delta^3 (\vb*{p} - \vb*{p}')
\]
这样的对易关系，或者类似的反对易关系；当然，因为此时使用的积分测度是$\int \dd[3]{\vb*{p}} / (2 E_{\vb*{p}})$，这样的对易关系是正确的——无非是$\delta$函数要修改为某种相对论形式而已。
\eqref{eq:expanding-field-operator}给出的产生湮灭算符以及它们产生的单粒子态不是洛伦兹协变的，但是可以简化对易关系以及归一化时使用的积分测度。
例如通常我们选取积分测度为$\int \dd[3]{\vb*{p}}$，那么就需要指定
\[
    \comm*{\hat{a}_{\vb*{p}}}{\hat{a}^\dagger_{\vb*{p}'}} = \delta^3 (\vb*{p} - \vb*{p}'),
\]
或者类似的反对易关系。而如果指定
\[
    \comm*{\hat{a}_{\vb*{p}}}{\hat{a}^\dagger_{\vb*{p}'}} = (2\pi)^3 \delta^3 (\vb*{p} - \vb*{p}'),
\]
此时只需要始终使用积分测度
\[
    \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3}
\]
即可。
两种展开式都是傅里叶变换，因此都能够消除哈密顿量中的导数。
此外由傅里叶变换的性质，并注意到$E_{\vb*{p}}$和$E_{-\vb*{p}}$是一回事，我们有
\begin{equation}
    \hat{a}_{-\vb*{p}, \sigma} = \hat{a}_{\vb*{p}, \sigma}^\dagger.
\end{equation}

本文为了追求等式简洁，通常使用方案\eqref{eq:expanding-field-operator}，又为了避免反复使用根号，通常使用含有$(2\pi)^3$的写法，也就是设
\begin{equation}
    \hat{\phi}(\vb*{x}, t) = \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{\sqrt{2 E_{\vb*{p}}}} \left( \hat{a}^\dagger_{\vb*{p}, \sigma} \ee^{- \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} + \hat{a}_{\vb*{p}, \sigma} \ee^{\ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right) e_\sigma. 
    \label{eq:field-operator-fourier}
\end{equation}

我们有
\[
    \ket{p, \sigma} = \sqrt{2 E_{\vb*{p}}} \hat{a}^\dagger_{\vb*{p}, \sigma} \ket{0}.
\]
在某一个给定的时间，将$\hat{\phi}(\vb*{x}, t)$作用在真空态上得到
\[
    \begin{aligned}
        \hat{\phi}(\vb*{x}, t) \ket{0} &= \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{\sqrt{2 E_{\vb*{p}}}} \hat{a}^\dagger_{\vb*{p}, \sigma} \ee^{- \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} e_{\sigma} \ket{0} \\
        &= \sum_\sigma \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{2 E_{\vb*{p}}} \ee^{- \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} e_{\sigma} \ket{p, \sigma}.
    \end{aligned}
\]
在非相对论情况下，也就是$\vb*{p}^2$相对$m^2$来说很小的情况下，$E_{\vb*{p}}$几乎就是$m$，此时考虑到\eqref{eq:x-p-trans}，我们会发现
\[
    \hat{\phi}^\sigma (\vb*{x}, t) \ket{0} \propto \ket{\vb*{x}(t), \sigma},
\]
也就是说一个海森堡绘景中的场算符导致了一个薛定谔绘景中的用位置标记的单粒子态。
或者说
\[
    \mel{\vb*{x}}{\hat{\phi}^\sigma (\vb*{x}, t)}{0} \propto \text{single particle wavefunction}.
\]
这也就是场算符有时候会被粗略地当成“相对论量子力学中的波函数”的原因。

判断应该使用对易关系来量子化场还是应该使用反对易关系来量子化场应当遵守几个条件：
\begin{itemize}
    \item 非平凡性。哈密顿量不应该给出平凡的结果。
    \item 因果性。在某一个时空点施加相互作用只应该产生局域的影响。特别的，在一个时空点做测量不应该对与之间隔（指的是闵可夫斯基时空中的“距离”）为正的时空点产生影响。
    \item 能量正定性。哈密顿量应该可以写成产生湮灭算符的正定二次型，以避免能量无限下降。
\end{itemize}

以上给出的步骤完全描述了场算符的量子化过程。这种使用傅里叶变换得到对角化的哈密顿量的方式有时也称为\concept{正则量子化}，因为它是算符的正则量子化（即施加对易或反对易关系）之后立刻可以完成的。

关于与场算符配套的真空态要说一句：在自由场下，无论采取哪种绘景，真空态$\ket{0}$或者没有时间演化，或者时间演化只是乘上一个复数因子。这是因为真空态一定是哈密顿算符的本征态。
此外，本节采用的量子化方案也体现出了一个重要的物理图像：具有确定能量$E$的粒子在经典极限下就对应着以圆频率$E$振荡的场。

最后，以上将场做傅里叶变换以消去运动方程中的导数的做法在经典情况下当然也适用。容易看出，动量为$\vb*{p}$的粒子模式的经典极限就是波矢为$\vb*{p}$的平面波；相应的，位置为$\vb*{r}$的粒子模式的经典极限就是
\[
    \phi(\vb*{r}') = \delta(\vb*{r}' - \vb*{r}).
\]
即使在经典场中，也存在动量和位置不能同时确定的现象。场的量子化带来的不是动量和位置不能同时确定，而是场的振幅是离散化的——经典情况下，平面波的振幅可以任意变化，而量子情况下，$\hat{\phi}$（或者别的场算符）的本征值是离散的，此时才能够良定义“粒子”。

在本节剩下的部分中，我们将会看到，标量场和矢量场只能被量子化为玻色场，而旋量场只能被量子化为费米场。
这是\concept{自选统计定理}的特例，这个定理说，对满足洛伦兹对称性的系统，半整数自旋对应着费米子，而整数自旋对应着玻色子。
在没有洛伦兹对称性时这个结论不一定成立，实际上，对很多具有实际意义的系统——如格点系统——我们甚至没有旋转对称性，所以也无从讨论自旋。

\subsubsection{实标量场}

无需额外考虑标量场的基，于是直接取
\begin{equation}
    \hat{\phi}(\vb*{x}, t) = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{\sqrt{2 E_{\vb*{p}}}} \left( \hat{a}^\dagger_{\vb*{p}} \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} + \hat{a}_{\vb*{p}} \ee^{ \ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right),
    \label{eq:expanding-klein-gordon-field}
\end{equation}
显然它是\eqref{eq:klein-gordon-eq}的一个解。相应的使用\eqref{eq:klein-gordon-pi}，有
\begin{equation}
    \hat{\pi}(\vb*{x}, t) = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \  \ii \sqrt{\frac{E_{\vb*{p}}}{2}} \left( \hat{a}^\dagger_{\vb*{p}} \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} - \hat{a}_{\vb*{p}} \ee^{ \ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right)
\end{equation}
共轭动量不是洛伦兹协变的。这并不让人意外，因为其定义和时间维的选取有关。
计算得到
\[
    \hat{H} = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{2} E_{\vb*{p}} (\hat{a}_{\vb*{p}}^\dagger \hat{a}_{\vb*{p}} + \hat{a}_{\vb*{p}} \hat{a}^\dagger_{\vb*{p}}).
\]

下面把正则对易关系施加到标量场$\hat{\phi}$上。
通过计算可以得知，这等价于
\begin{equation}
    \comm*{\hat{a}_{\vb*{p}}}{\hat{a}^\dagger_{\vb*{p}'}} = (2\pi)^3 \delta^3 (\vb*{p} - \vb*{p}'), \quad \comm*{\hat{a}_{\vb*{p}}}{\hat{a}_{\vb*{p}'}} = 0.
    \label{eq:quantization-scalar}
\end{equation}
相应的，反对易关系等价于
\[
    \acomm*{\hat{a}_{\vb*{p}}}{\hat{a}^\dagger_{\vb*{p}'}} = (2\pi)^3 \delta^3 (\vb*{p} - \vb*{p}'), \quad \acomm*{\hat{a}_{\vb*{p}}}{\hat{a}_{\vb*{p}'}} = 0.
\]
将反对易关系代入哈密顿量表达式会导致哈密顿量变成常数，因此这是平凡解，舍去。
将对易关系代入哈密顿量的表达式，得到
\begin{equation}
    \hat{H} = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} E_{\vb*{p}} \left(\hat{a}_{\vb*{p}}^\dagger \hat{a}_{\vb*{p}}  + \frac{1}{2} \comm*{\hat{a}_{\vb*{p}}}{\hat{a}^\dagger_{\vb*{p}}} \right).
    \label{eq:hamiltonian-of-klein-gordon}
\end{equation}
容易看出第二项实际上是发散的。
产生这种发散的原因在于，相对论性量子场论不会被用于处理动量特别高的问题（在那里需要新的物理，通常称为“紫外端的物理”），因此所谓的对整个动量空间的积分实际上只是对动量空间中一块很大的区域的积分。
在这种意义下，\eqref{eq:hamiltonian-of-klein-gordon}中的第二项是一个很大的常数，称为\concept{真空零点能}。因此在讨论全空间内的问题时，可以丢弃它得到等效的哈密顿量（注意此时哈密顿量的正定性实际上被破坏了）%？真的吗？
\begin{equation}
    \hat{H} = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} E_{\vb*{p}} \hat{a}_{\vb*{p}}^\dagger \hat{a}_{\vb*{p}}.
\end{equation}
这是一个福克空间上的$1$粒子算符。它表明自由场情况下单粒子携带能量为$E_{\vb*{p}}$。
通过反复使用对易关系\eqref{eq:quantization-scalar}以及真空态被湮灭算符作用后得到$0$这一事实，可以计算出
\begin{equation}
    \hat{H} \hat{a}_{\vb*{p}}^\dagger \ket{0} = E_{\vb*{p}} \hat{a}_{\vb*{p}}^\dagger \ket{0}.
\end{equation}
因此正如我们预期的那样，单粒子态$\ket{\vb*{p}}$是哈密顿量的本征态。

真空零点能的出现实际上意味着原来的哈密顿量中的各个项是不对易的，因此真空态的能量不能是零，如果它是零，那么由哈密顿量的正定性，哈密顿量中的每一项作用在真空态上都会得到零，于是真空态是哈密顿量的每一项的本征态，这就产生了矛盾。
% TODO:实际上不对易的算符还是可以有共同本征态的，以上说法不正确，需要进一步说明
不对易性是纯粹的量子概念，因此真空零点能只有在量子场论中才能够得到良好的定义。
如果哈密顿量中所有的项都是彼此对易的，就不会有真空零点能。有时真空零点能的存在也称为量子涨落，因为即使在真空态，也不是所有的物理量都有完全确定的值。

需要注意的是如果我们讨论的问题不是定义在全空间上的，可能不能直接把真空零点能丢弃。例如，设有两块无穷大的金属板，它们施加的边界条件会让\eqref{eq:expanding-klein-gordon-field}中的一些模式为零，通过计算可以发现板间的真空零点能小于板外，从而产生一个板之间的吸引力。

场的动量为
\[
    P_i = \int \dd[3]{\vb*{x}} \pi \partial_i \phi,
\]
从而
\begin{equation}
    \hat{\vb*{P}} = - \int \dd[3]{\vb*{x}} \hat{\pi} \grad{\hat{\phi}} = \int \dd[3]{\vb*{x}} \vb*{p} \hat{a}^\dagger_{\vb*{p}} \hat{a}_{\vb*{p}} + \text{vaccum zero-point item}
\end{equation}
因此场的动量也是单粒子算符。

标量场没有内禀自由度，因此也不携带自旋角动量。

总之，标量场需要使用正则对易关系来量子化，不能用反对易关系。因此标量场描述$0$自旋玻色子。

\subsubsection{旋量场}

% 反粒子

\subsubsection{无质量矢量场}

使用\eqref{eq:field-operator-fourier}展开一个无质量矢量场为
\begin{equation}
    A_\mu (\vb*{x}, t) = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \frac{1}{\sqrt{2 E_{\vb*{p}}}} \sum_{r=0}^3 \epsilon_\mu^r(\vb*{p}) \left(\hat{a}_{\vb*{p}, r}^\dagger \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} + \hat{a}_{\vb*{p}, r} \ee^{ \ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right), 
    \label{eq:expanding-massless-vector-field}
\end{equation}
由于没有质量，
\begin{equation}
    E_{\vb*{p}} = \abs{\vb*{p}}.
\end{equation}
$\epsilon^r$为一组闵可夫斯基时空的基矢量，称它们为\concept{偏振矢量}，也即，
\begin{equation}
    (\epsilon^r)_\mu (\epsilon^{r'})^\mu = \eta^{r r'}.
\end{equation}
为了确定偏振矢量，通常要求
\begin{equation}
    \epsilon^1 \cdot p = \epsilon^2 \cdot p = 0,
\end{equation}
并认为$\epsilon^0$是类时的，而$\epsilon^{1,2,3}$是类空的。这样，当$p^\mu \propto (1, 0, 0, 1)$，即$\vb*{p}$指向$z$轴时，我们有
\begin{equation}
    \epsilon^0 = \pmqty{1 \\ 0 \\ 0 \\ 0}, \quad \epsilon^1 = \pmqty{0 \\ 1 \\ 0 \\ 0}, \quad \epsilon^2 = \pmqty{0 \\ 0 \\ 1 \\ 0}, \quad \epsilon^3 = \pmqty{0 \\ 0 \\ 0 \\ 1}.
    \label{eq:z-axis-p-epsilon}
\end{equation}
% TODO:这是$\epsilon^\mu$还是$\epsilon_\mu$？？？
$p$取其它值时只需要对\eqref{eq:z-axis-p-epsilon}做洛伦兹变换即可，因为$\epsilon$的定义完全是洛伦兹协变的。

% TODO:为什么？这一片我都没有动手算过，
可以计算出
\begin{equation}
    \pi^\mu (\vb*{x}, t) = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \sqrt{\frac{E_{\vb*{p}}}{2}} \ii \sum_{r=0}^3 (\epsilon^r)^\mu (\vb*{p}) \left( \hat{a}_{\vb*{p}, r} \ee^{\ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} - \hat{a}_{\vb*{p}, r}^\dagger \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} \right),
\end{equation}
施加正则对易关系，通过计算得到
% TODO：真的可以**等价**地得到下式吗？？
\begin{equation}
    \comm*{\hat{a}_{\vb*{p}, \lambda}}{\hat{a}^\dagger_{\vb*{p}', \lambda'}} = - \eta_{\lambda \lambda'} (2\pi)^3 \delta^3(\vb*{p} - \vb*{p}'), \quad \comm*{\hat{a}^\dagger_{\vb*{p}, \lambda}}{\hat{a}^\dagger_{\vb*{p}', \lambda'}} = \comm*{\hat{a}_{\vb*{p}, \lambda}}{\hat{a}_{\vb*{p}', \lambda'}} = 0.
\end{equation}
$\lambda=1, 2, 3$时对易关系是正确的，但是$\lambda=0$给出了一个不正常的对易关系
\[
    \comm*{\hat{a}_{\vb*{p}, 0}}{\hat{a}^\dagger_{\vb*{p}', 0}} = - (2\pi)^3 \delta^3 (\vb*{p} - \vb*{p}').
\]
例如，它产生的同样的单粒子态的内积将会是一个负数，这和我们对单粒子态的通常认识不符。
此外，哈密顿量成为
\begin{equation}
    \hat{H} = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} E_{\vb*{p}} \left( - \hat{a}_{\vb*{p},0}^\dagger \hat{a}_{\vb*{p}, 0} + \sum_{i=1}^3 \hat{a}_{\vb*{p},i}^\dagger \hat{a}_{\vb*{p}, i} \right),
\end{equation}
因此能量非正定。
显然这些问题都和$\hat{a}^\dagger_{\vb*{p},0}$有关，也就是说来自一个非物理的自由度。
会有非物理的自由度是显然的，因为我们在处理一个有规范不变性的场却从来没有选取过一个规范。
现在我们处理的是量子场，因此既可以直接对场做约束，也可以缩小态空间的范围。

经过检验，Gupia-Blenler量子化条件
\begin{equation}
    \partial^\mu \hat{A}_\mu^{(+)} \ket{\psi} = 0
\end{equation}
是一个可行的方案。% TODO:有没有别的选项？
它实际上约束了态空间的范围。
代入\eqref{eq:expanding-massless-vector-field}，并注意到$\epsilon^1$与$\epsilon^2$和四维动量做内积得到零，我们发现
\begin{equation}
    (\hat{a}_{\vb*{p}, 0} - \hat{a}_{\vb*{p}, 3}) \ket{\psi} = 0.
\end{equation}
这意味着在无质量矢量场的态空间中哈密顿量实际上是
\begin{equation}
    \hat{H} = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} E_{\vb*{p}} (\hat{a}_{\vb*{p},1}^\dagger \hat{a}_{\vb*{p}, 1} + \hat{a}_{\vb*{p},2}^\dagger \hat{a}_{\vb*{p}, 2}).
\end{equation}
于是负能量问题也就解决了。哈密顿量中没有出现的量可以直接被略去，因为它们对系统的动力学不产生任何影响。
% TODO:严格说明
于是取
\begin{equation}
    A_\mu (\vb*{x}, t) = \int \frac{\dd[3]{\vb*{x}}}{(2\pi)^3} \frac{1}{\sqrt{2 E_{\vb*{p}}}} \sum_{r=1}^2 \epsilon_\mu^r(\vb*{p}) \left(\hat{a}_{\vb*{p}, r}^\dagger \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} + \hat{a}_{\vb*{p}, r} \ee^{ \ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} \right),
\end{equation}
以及
\begin{equation}
    \pi^\mu (\vb*{x}, t) = \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} \sqrt{\frac{E_{\vb*{p}}}{2}} \ii \sum_{r=1}^2 (\epsilon^r)^\mu (\vb*{p}) \left( \hat{a}_{\vb*{p}, r} \ee^{\ii \vb*{p} \cdot \vb*{x} - \ii E_{\vb*{p}} t} - \hat{a}_{\vb*{p}, r}^\dagger \ee^{ - \ii \vb*{p} \cdot \vb*{x} + \ii E_{\vb*{p}} t} \right),
\end{equation}
重新计算对易关系得到
\begin{equation}
    \comm*{\hat{a}_{\vb*{p}, \lambda}}{\hat{a}^\dagger_{\vb*{p}', \lambda'}} = \delta_{\lambda \lambda'} (2\pi)^3 \delta^3(\vb*{p} - \vb*{p}'), \quad \comm*{\hat{a}^\dagger_{\vb*{p}, \lambda}}{\hat{a}^\dagger_{\vb*{p}', \lambda'}} = \comm*{\hat{a}_{\vb*{p}, \lambda}}{\hat{a}_{\vb*{p}', \lambda'}} = 0, \quad \lambda = 1, 2.
\end{equation}

下面我们推导动量和自旋角动量的公式。轨道角动量的由于是动量衍生出来的量，我们暂不考虑。
首先假设$p^\mu \propto (1, 0, 0, 1)$。
按照\eqref{eq:spin-angular-momentum}可以计算得到
\[
    \hat{S}_3 = \int \dd[3]{\vb*{x}} \mathcal{S}_3 = \ii \int \frac{\dd[3]{\vb*{p}}}{(2\pi)^3} (- \hat{a}_{\vb*{p},1} \hat{a}^\dagger_{\vb*{p}, 2} + \hat{a}^\dagger_{\vb*{p}, 1} \hat{a}_{\vb*{p}, 2} + \hat{a}_{\vb*{p}, 2} \hat{a}_{\vb*{p}, 1}^\dagger - \hat{a}_{\vb*{p}, 2}^\dagger \hat{a}_{\vb*{p}, 1} ) ,
\]
另外两个方向上的自旋角动量都是零。

我们原本预期矢量场会有三个自由度（因为\eqref{eq:lorentz-gauge}消除掉了一个自由度），但是实际上无质量矢量场只有两个自由度。
导致这一切的原因当然是无质量这个事实——它使得四维动量$p$不再能够写成$(1, 0, 0, 0)$这样的形式，而只能够写成$(1,0,0,1)$这样，从而让$A^0$和$A^3$相互抵消了。
从洛伦兹群在态空间上的表示出发可以更好地看待这个问题：$m=0$时洛伦兹群保持动量不变的小群不再是旋转群。
以一种更加物理的视角，无质量矢量场对应的粒子一直在以光速运动，不能找到一个相对它静止的参考系，因此对一个这样的粒子，实际上总是有一个特定的空间方向即它的运动方向，为了保持协变性，其自旋只能够沿着这个方向。换而言之，此时有意义的实际上是螺旋度而不是三维的角动量$\hat{\vb*{S}}$，即其内禀自由度是平面旋转群（以运动方向为轴旋转）的表示而不是三维旋转群的表示。
而对有质量的粒子，总是可以找到一个相对它静止的参考系，在这个参考系中空间是各向同性的，因此可以应用$SO(3)$的表示。
这和经典电磁场的偏振只有两个方向是对应的。
% TODO：经典场的傅里叶分量就是量子的产生湮灭算符

% TODO：场实际上只有两个自由度，因此粒子也只有两个内禀自由度，因此螺旋度是粒子的内禀自由度空间的CSCO。

% TODO：所以总之就是，无质量矢量场的自旋只在动量的方向上有非零分量，因此描述无质量矢量场的粒子的内禀自由度需要的实际上是螺度

\subsubsection{重矢量场}

\subsection{非相对论极限}

\subsubsection{克莱因-高登方程的退化形式}

我们将讨论克莱因-高登方程的退化形式。旋量场和标量场由于也服从克莱因-高登方程，没有必要单独考虑——它们多出来的自由度可以使用其它方式，如自旋等，引入。
实际上我们讨论的应该是复的克莱因-高登方程，因为旋量场是复的，但本节的讨论并不会用到场是不是复的这个信息。

首先我们注意到一个事实：时谐波
\begin{equation}
    \phi = \ee^{- \ii m t}
    \label{eq:lowest-energy}
\end{equation}
是\eqref{eq:klein-gordon-eq}的解，并且它的能量最低，就是零。（代入哈氏量可得）因此，能量不高的场只是微微偏离\eqref{eq:lowest-energy}，我们设其为
\begin{equation}
    \phi(\vb*{x}, t) = \psi(\vb*{x}, t) \ee^{- \ii m t},
    \label{eq:low-energy-ansatz}
\end{equation}
则
\[
    (\partial_\mu \partial^\mu + m^2) \phi = \ee^{- \ii m t} (-2 \ii m \partial_t \psi + \partial_t^2 \psi - \laplacian{\psi}).
\]
由于$\phi$只是略微偏离\eqref{eq:lowest-energy}%
\footnote{需要注意的是这个说法字面上实际上是不严谨的。$\hat{\phi}$是一个算符，它包含了所有可能的$\phi$的取值，不应该“只是略微偏离\eqref{eq:lowest-energy}”。
然而，$\hat{\phi}$的本征态中非常偏离\eqref{eq:lowest-energy}的那部分模式在我们的低能有效理论中并不会被涉及到。
换而言之，我们关心的那部分$\ket{\phi}$只是略微偏离\eqref{eq:lowest-energy}，因此认为$\hat{\phi}$只是略微偏离\eqref{eq:lowest-energy}并不会显著改变我们的理论的行为。
}%
，可以预期$\psi$的时间部分振荡不会特别明显，于是取近似
\[
    \partial_t^2 \psi \ll m \partial_t \psi,
\]
就得到
\begin{equation}
    \ii \partial_t \psi + \frac{1}{2m} \laplacian{\psi} = 0.
    \label{eq:schodinger-eq}
\end{equation}
\eqref{eq:schodinger-eq}称为\concept{薛定谔场}的运动方程。容易看出它不是洛伦兹协变的，这是理所当然的，因为它描述的现象发生在低能近似下，此时伽利略对称性就足够了。
薛定谔场是复的，无论$\phi$是不是复场，因为拟设\eqref{eq:low-energy-ansatz}引入了一个复数因子。

方程\eqref{eq:schodinger-eq}是以下拉氏量%
\footnote{$\grad{\psi}^\dagger \cdot \grad{\psi}$代表将两个梯度算符做缩并，行向量$\psi^\dagger$和列向量$\psi$相乘，即$\partial_i \psi^\dagger \partial^i \psi$。混合使用不变量记号和矩阵记号是因为我们并不知道$\psi$的内部结构，只知道$\psi^\dagger \psi$是标量，因此把$\psi$当成一个整体，好像一个标量一样，来做计算。}
\begin{equation}
    \mathcal{L} = \frac{\ii}{2} \left( \psi^\dagger \dot{\psi} - \psi \dot{\psi}^\dagger \right) - \frac{1}{2m} \grad{\psi^\dagger} \cdot \grad{\psi}
    \label{eq:schodinger-lagrangian}
\end{equation}
的运动方程。把$\psi$和$\psi^\dagger$看成两个独立的场，分别应用欧拉-拉格朗日方程，就能够得到\eqref{eq:schodinger-eq}和其共轭转置。

容易看出，
\[
    \pi(\psi) = \pdv{\mathcal{L}}{\dot{\psi}} = \frac{\ii}{2} \psi^\dagger, \quad \pi(\psi^\dagger) = \pdv{\mathcal{L}}{\dot{\psi}^\dagger} = - \frac{\ii}{2} \psi^\top,
\]
从而可以计算出
\begin{equation}
    \mathcal{H} = \frac{1}{2m} \grad{\psi^\dagger} \cdot \grad{\psi}.
\end{equation}
这个哈氏量中出现了$\pi$的导数，处理起来会比较麻烦。为了规避这些麻烦，我们将不再讨论经典的哈密顿动力学，而直接开始做量子化。

电荷密度为
\begin{equation}
    \rho(\vb*{r}) = q \psi^\dagger(\vb*{r}) \psi(\vb*{r}),
\end{equation}
而且电流密度为
\begin{equation}
    \vb*{j}(\vb*{r}) = \frac{1}{2m\ii} (\psi^\dagger(\vb*{r}) \grad{\psi}(\vb*{r}) - \psi(\vb*{r}) \grad{\psi}^\dagger(\vb*{r}))
\end{equation}

\subsubsection{薛定谔场}

% TODO:可以看到，$j=0$的标量场给出的粒子的自旋角动量为0，$j=\pm \frac{1}{2}$的旋量场给出的粒子的自旋角动量为$\pm 1/2$，$j=1$的矢量场给出的粒子的自旋角动量为$\pm 1$。这并不让人意外，因为$j$决定了粒子的内禀自由度的维度($2j+1$)。无质量的情况比较特殊
实际上也可以通过量子化薛定谔场来得到非相对论性量子场论。薛定谔场实际上是标量场、旋量场、矢量场退化而来的场，因此它也有内禀自由度。使用自旋（或者螺旋度）标记这些内禀自由度。
由于薛定谔场不是实场，考虑对易关系
\[
    \comm*{\hat{\psi}^i(\vb*{x}, t)}{\hat{\pi}_j(\vb*{y}, t)} = \ii \delta^i_j \delta^3 (\vb*{x} - \vb*{y}),
\]
即
\[
    \comm*{\hat{\psi}^i(\vb*{x}, t)}{(\hat{\psi}^j)^\dagger (\vb*{y}, t)} = 2 \delta^3 (\vb*{x} - \vb*{y}),
\]
这表明

总之，在不涉及粒子相互作用时，单粒子量子力学足以覆盖薛定谔场的情况，即“非相对论量子场论”就是量子力学。%
\footnote{
    量子场论和量子力学的对应实际上有两方面：首先，量子场论和量子力学都可以写成哈密顿动力学的形式，当然前者各个物理量可以使用空间位置作为标签而后者物理量的标签都是离散的；其次，量子场论和量子力学都能够描述多粒子态。
    当我们说非相对论性量子场论就是量子力学时我们是在说后者，当我们说量子场论是3+1维量子力学时我们是在说前者。
}%
我们再一次看到场自由度和数量可变的粒子自由度实际上就是一回事。
初等量子力学中可以直接定义S算符、单粒子费曼图（“原子吸收一个光子、释放一个光子”，等等），你可能会问为什么这些本来用于场论的概念也可以被用在单粒子量子力学上，毕竟前者是3+1维理论而后者是0+1维理论。但实际上，这些用在量子场论上的概念完全可以被应用在薛定谔场上，而由于薛定谔场不涉及粒子数变化，这些概念就可以被套用在单粒子态量子力学上。

\section{相互作用}

% TODO:费米子相互作用通常形如“二费米子和一个玻色子散射”，那个玻色子通常来自某个规范场

\section{散射}



\end{document}