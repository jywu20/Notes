# Groups and $\mathsf{Grp}$

A **group** is a groupoid with only one object. 

封闭性、结合性、单位元存在性、可逆性。

群表即群乘法表。

群同构。

物理当中的群通常是变换群、线性算符群、矩阵群。

## 几个定义

下面的几个说法是等价的：

- $G$是$H$的子群
- 对任意$g_1, g_2 \in G$，有$g_1 g_2^{-1} \in G$
- 在$\mathsf{Grp}$中存在从$G$到$H$的单态

**真子群**：不是单位元群也不是$G$，但的确是$G$的子群的群

## 常见的群

一个集合$A$上的**对称群**或者**置换群**是指以$A$在集合范畴中的全体自态射为元素，以复合操作为群乘法的一个群。它给出了一个集合在不附加其它结构时能够具有的最大的对称性。
按照Cayley's theorem，任何一个群都是某个集合上的对称群的子群（差一个同构）。
$n$元素集合上的对称群记作$S_n$。

$C_n$是$n$阶循环群，其中所有元素都可以使用一个元素$g$的某次方表示，且$g^n=e$。

循环群：一个元素不停自乘之后形成的有限群，形如
$$
G = \{I, T, T^2, \ldots, T^{n-1} \}, \; T^n = I
$$
我们把$T$称为这个群的生成元。

$D_{n}$是正$n$边形的对称群，它是$C_n$和反射群$\{e, \tau\}$的半直积。反射群其实就是$C_2$。

## 常用定理

重拍定理 设$T \in G$，$G$是一个群，则$G=TG=GT=G^{-1}$。
也即，

循环群都是阿贝尔群。循环群中一个元素的阶定义为它自乘得到单位元的最小幂次。单位元，也只有单位元的阶为1；生成元的阶等于群的阶。

有限群中的任何一个元素不断自乘都可以产生一个循环群（由群的封闭性和有限性可得）。这个循环群是原来的群的一个子群。对每一个群，我们总是可以找到一组数目固定的元素，使它们的乘法能够产生整个群。称它们为整个群的生成元，它们的数目为这个群的秩。

# 群的分解

## 共轭类

共轭类：如果$\exists g \in G, g_i = g g_j g^{-1}$，则$g_i$和$g_j$**共轭**。
共轭关系是一种等价关系，从而一个群可以分割成一系列共轭关系产生的等价类，称为**共轭类**。
一个群元一定属于一个共轭类（因为它完全可以自成一类；例如，单位元只和自己共轭），并且只属于一个共轭类。
显然，如果两个群元是共轭的，那么它们的逆、平方等“单项式”也是共轭的；一个共轭类中的群元的阶都是一样的；阿贝尔群中的每个群元都自成一类。

在对称群中共轭类具有明确的物理意义：一个共轭类中的操作是“类似的”，如绕着一个正三角形的三条垂线的三种旋转操作属于同一个共轭类。

## 陪集

设$H$是$G$的一个子群，$g \in G$且$g \notin H$，则$gH$称为$H$的**左陪集**而$H g$称为$H$的**右陪集**。
$g$标记了陪集，可以称为陪集的代表元，并且由于$H$包含单位元，$g$肯定在$g H$或是$H g$内。

子群$H$本身实际上不是陪集，因为它只能写成$e H$的形式，$e \in H$，而陪集的定义却要求$e \notin H$。虽然如此，为了说明方便我们有时放宽这个要求。

同一个子群的两个陪集要么完全一样，要么完全不同。这是因为，如果$g h_i = g' h_j$，则$g'^{-1} g = h_j h_i^{-1}$，而等式右边显然是$H$的群元。
因此由重排定理，有$g'^{-1} g H = H$，从而$g H = g' H$。

一个直接的推论：如果$g' \in g H$，那么一定有$g H = g' H$。这是因为$g' = g' e \in g' H$。

不难看出所有陪集的大小都和$H$一样，因为群元都是可逆的。而$G$中的任何一个元素实际上都在某个陪集当中或者就在$H$中。
这就意味着，一个群$G$能够被分解成一系列彼此不交的集合——它的某个子群和这个子群的陪集——的并。
这就得到了**拉格朗日定理**：一个有限群的阶一定能够被它的子群的阶整除，并且得到的商就是陪集的大小。
显然，阶数为质数的群没有真子群。

## 正规子群，商群和直积

### 正规子群

如果$G$是$H$的子群，且$h \in H$，那么$h G h^{-1}$也是$H$的子群，称为**共轭子群**。
显然，彼此为共轭子群的群之间具有一一对应关系，群元素数目相同。

设$G$是$H$的子群，如果对任意$g \in G$，$h \in H$，有$hgh^{-1} \in G$，那么$G$就是一个**正规子群**或者说**不变子群**。
当然，一般来说$h g h^{-1}$和$g$未必相同。
由于$x \mapsto h x h^{-1}$是一一对应，$G$是正规子群，当且仅当，对任意$h \in H$，共轭子群$h G h^{-1} = G$，或者说任何一个$G$的左陪集和对应的右陪集都是一样的。

还有一个判定正规子群的条件：在已知$G$是$H$的子群的情况下，$G$是$H$的正规子群，当且仅当$G$是$H$的若干共轭类的并集。

### 商群

**商群**：设$N$是$G$的正规子群，则对$G$做陪集分割就得到了$G / N$，其乘法定义为
$$
(g_i N) (g_j N) = g_i g_j N N = g_i g_j N.
$$
第一个等号用到了正规子群的定义。$G / N$不是$G$的子群。这个乘法的定义用到了陪集的代表元，但是可以验证，更换代表元不会改变陪集的乘法的结果。

如果$N$不是正规子群，那么同样可以定义$G / N$，但是此时的$G / N$不是群。

### 半直积和直积

设$N$是$G$的正规子群，$H$是$G$的另一个子群，下列命题等价：
- $G = NH$且$H$和$N$仅有的共同元素是单位元
- $G$的每个元素可以唯一地写成一个$N$的元素和一个$H$的元素的积
- TODO

那么说$G = N \rtimes H$，称$G$为$N$和$H$的半直积。这个说法有误导性因为给定$N$和$H$之后并不能唯一确定一个$G$，或者说如果定义$N\rtimes H$为$NH$，并要求$N$和$H$唯一的共同元素是单位元且$N$是正规子群等等，那么还可能存在和$G$不同构的群满足这些条件。

如果是直积那么$N$和$H$都是正规子群，并且两者的群成员都是对易的。此时$G$就被完全分解开了。

$N \rtimes (G / N)$一般来说和$G$没有直接关系。直观地说，这是因为，如果$N$和$G$中除了$N$以外的部分不能对易，那么这就意味着$G$中除了$N$和$G/N$内部的代数结构以外还有更多的非平凡的代数结构，因此，简单地将$N$和$G/N$放在一起并不能恢复出$G$来，因为一些信息——$N$和$G/N$中各自取一个元素后应该如何相乘——丢失了。

**同态基本定理**：设有群同态$f:G \to H$，则
$$
G / \ker f = \mathrm{im} f.
$$

# 同态和同构

## Cayley定理

我们有**Cayley定理**：任何一个$n$阶群一定同构于$S_n$的一个子群。

这件事的证明如下。设$G$是一个$n$阶群，$a \in G$。

# 有限群的群表示论

## 定义

设有群$(G, \circ_G, e)$和向量空间$V$，则同态$\Gamma: G \to GL(V)$是$G$的一个**表示**，其中$\circ_G$被映射到算符乘法上，而$e$被映射到单位算符上。当然$\Gamma$可以不保留$G$的全部结构。$V$称为**表示空间**。
如果$\Gamma$是一对一的，那么它就是一个**忠实表示**。（反之，最为不忠实的表示当然是**恒等表示**，这就是一个平庸的表示，不过确确实实有用）

在给定一组基之后，群表示可以被写成矩阵。我们记
$$
\Gamma(g) \boldsymbol{e}_i = \boldsymbol{e}_j D_{ji},
$$
这样就有
$$
\Gamma(g) \boldsymbol{v} = v_i \boldsymbol{e}_j D_{ji} = D_{ji} v_i \boldsymbol{e}_i = D v.
$$
不难证明，单位元的表示矩阵一定是单位阵，逆元的表示矩阵一定是逆矩阵。我们得到的是群$(G, \circ_G, e)$到某个矩阵群的表示。

需要注意一维表示并不一定就是平庸的恒等表示，如$U(1)$群的一维表示完全可以是$\ee^{\ii \alpha}$，完整地展示了其结构。

两个矩阵表示之间如果只差一个相似变换（注意所有矩阵都必须用同一个变换矩阵，并且这个变换矩阵可逆），就是所谓的**等价表示**。从一个表示出发，做相似变换，可以得到各种其它的表示，维数和结构均相同。
设同一个群$G$的表示$D$的基底为$\{\boldsymbol{e}_i\}$，其相似表示$S D S^{-1}$的基底为$\{\boldsymbol{e}_i'\}$，则容易验证
$$
\Gamma(g) \boldsymbol{e}_i' S_{im} = \boldsymbol{e}_j' S_{jl} D_{lm},
$$
因此实际上
$$
\boldsymbol{e}_i' S_{im} = \boldsymbol{e}_m,
$$
即相似变换实际上只是做了一个基底变换。知道了一个表示就知道了与它等价的所有表示，因此我们将主要关注彼此不等价的表示。

如果一个矩阵表示$D(g)$能够写成
$$
D(g) = \begin{pmatrix}
    D_1(g) & R(g) \\
    0 & D_2(g)
\end{pmatrix}, \quad \text{for all $g \in G$}
$$
那么它就是一个**可约表示**。$R=0$的情况称为**完全可约表示**，它实际上是两个更小的表示的直和——容易证明$D_1(g)$和$D_2(g)$也是表示，并且此时表示空间。

对有限群，可约表示一定是完全可约表示。这是因为，
$$
\begin{aligned}
    &\quad \begin{pmatrix}
    D_1(g) & R(g) \\
    0 & D_2(g)
    \end{pmatrix}
    \begin{pmatrix}
    D_1(g') & R(g') \\
    0 & D_2(g') 
    \end{pmatrix} \\
    &= 
    \begin{pmatrix}
    D_1(g) D_1(g') & D_1(g) R(g') + R(g) D_2(g') \\
    0 & D_2(g) D_2(g')
    \end{pmatrix} \\
    &= \begin{pmatrix}
    D_1(g g') & R(g g') \\
    0 & D_2(g g')
    \end{pmatrix}
    \end{aligned}. 
$$
现在构造矩阵
$$
S = \begin{pmatrix}
    I_1 & C \\
    0 & I_2
\end{pmatrix},
$$
则可以看出
$$
S^{-1} = \begin{pmatrix}
    I_1 & -C \\
    0 & I_2
\end{pmatrix},
$$
其中
$$
C = -\frac{1}{n} \sum_{g \in G} R(g) D_2(g^{-1}),
$$

因此，我们主要关注不可约表示，不可约表示是组装出可约表示的基本砖块。

实际上我们甚至可以只关心幺正表示，因为任何有限维表示都可以转化为一个幺正表示。

## 特征标

我们现在考虑如何标记各个表示。

给定一个表示$D(g)$，群元$g$的**特征标**定义为$\chi(g) = \trace D(g)$。
显然，如果$g$和$g'$在一个共轭类中，那么它们的特征标相同；不过，不在一个共轭类中的群元也可以有一样的特征标。
如果$D(g)$和$D'(g)$是等价表示，那么$\chi'(g) = \chi(g)$。
单位元的特征标就是群表示的维数。

两个等价表示只相差一个相似变换，因此显然$\forall g \in G, \chi(g) = \chi'(g)$。
这个条件其实也可以反过来用：如果$\forall g \in G, \chi(g) = \chi'(g)$，那么两个表示等价。

## 与有限群表示有关的一些性质

我们有如下定理：设$G$有非平凡的不变子群$H$，则$G/H$的表示也是$G$的表示。


### 特征标，特征标表，表示数目

用$p, q$等表示不可约表示的编号，用$g$等表示群元，群的阶记为$n$。用$\chi^{(p)}(g)$表示$p$号不可约表示中群元$g$的特征标。

关于不可约表示的数目和维数，我们有： 
- 不可约表示的数目就是共轭类的数目。
- 不可约表示维数的平方和就是群的阶（推论：阿贝尔群的不可约表示全部是一维的）。

关于特征标表中行和列的正交关系，即所谓的大正交引理 The great orthogonality theorem or the wonderful orthogonality theorem，我们有：
- $$
  \frac{1}{n} \sum_{g \in G} \chi^{(p)}(g)^* \chi^{(q)}(g) = \delta_{pq},
  $$
  或者，设共轭类$[g]$一共有$k$个，$k_i$表示第$i$个等价类中的元素数目，则
  $$
  \frac{1}{n} \sum_{i=1}^k k_i \chi^{(p)}([g_i])^* \chi^{(q)}([g_i]) = \delta_{pq}.
  $$
  推论：特征标的模长平方和大于等于$n$，如果是可约表示就是$n$，否则比$n$大。
- 在$g$和$g'$在同一个等价类中时
  $$
  \frac{1}{|G|} \sum_{\chi^{(p)}} \chi^{(p)}(g) \chi^{(p)}(g') = \frac{1}{|[g]|},
  $$
  否则为零。

特征标表的行列需要提供的信息：关于共轭类的那一部分需要提供每个共轭类的代表元和元素数目；关于不可约表示的那一部分无需提供维数，因为我们只需要简单地让$D^{(p)}(e) = \mathrm{diag}(1, 1, \ldots, 1)$，$\chi^{(p)}(e) = d_p$即可。

### CG系数

设群$G$的不可约表示标记为$D_j$，设有两个不可约表示张量积得到的表示，我们将它分解为
$$
D_p \otimes D_q = \sum_{j=1}^{N} n_j D_j,
$$
其中$j$表示不可约表示的编号，$N$表示不可约表示可能有几种，$n_j$表示$j$型不可约表示出现的次数。
进一步，设$m$表示$j$号不可约表示的表示空间的基矢量的编号，$\alpha = 1, 2, \ldots, n_j$指出这是$n_j$个不可约表示中的哪一个，则
$$
\sum_{m'} \braket{j_1, m_1; j_2, m_2}{j, m', \alpha} \mel{m'}{D_j(g)}{m} = \sum_{m_1', m_2'} \mel{m_1}{D_{j_1}(g)}{m_1'} \mel{m_2}{D_{j_2}(g)}{m_2'} \braket{j_1, m_1'; j_2, m_2'}{j, m, \alpha},
$$
求解此方程可以得到所谓的**CG系数**$\braket{j_1, m_1; j_2, m_2}{j, m, \alpha}$。在上式两边乘上
$$
\sum_\alpha \braket{j_1, m_1; j_2, m_2}{j, m, \alpha} \braket{j, m', \alpha}{j_1, m_1'; j_2, m_2'} = \frac{d_j}{|G|} \sum_g \mel{m}{D_j(g)}{m'}^* \mel{m_1}{D_{j_1}(g)}{m_1'} \mel{m_2}{D_{j_2}(g)}{m_2'}
$$

## 正则表示

正则表示一定可约。

## 从一个表示得到另一个表示

设$G$是群，$N$是$G$的正规子群，则$G / N$的表示也是$G$的表示。需要注意并非$G$的所有子群的表示都可以不做改动地直接产生$G$的表示。
例如，如果$N$只是子群而不是正规子群，则$G / N$根本不是群。另一方面，表面上我们似乎可以将陪集分解
$$
G = \sum_{i = 1}^{\abs{G / N}} g_i N
$$
中的$g_i$全部映射成单位矩阵，从而从$N$的表示获得$G$的表示，但是此时实际上不能保证结合律能够被“$G$的表示”获得：我们无非是设
$$
\Gamma_{G}(a) = \Gamma_{N}(n_a), \quad a = g_a n_a,
$$
然而此时
$$
\Gamma_G(a b) = \Gamma_G(g_a n_a g_b n_b),
$$
由于我们不知道怎么把$n_a g_b$写成$gn$的形式，我们不能从上式得到$\Gamma_G(a) \Gamma_G(b)$。
因此我们无法得到$G$的表示。

# 量子力学

量子力学中会出现的数学结构：
- 某个能够用来标记物理状态的标签组成的空间$V_0$，比如说坐标，或者动量
- 希尔伯特空间$\mathcal{H}$，其基矢量的数目和$V_0$中的元素总数是一样的，即
  $$
  \mathcal{H} = \mathbb{C}^{V_0}.
  $$
- 希尔伯特空间上的厄米算符，它们放在一起就是$\mathcal{L}(\mathcal{H})$。有时可以定义这样的映射：$\rho: V_0 \to \mathcal{L}(\mathcal{H})$，例如，如果我们将$V_0$看成某个物理量$x$的取值，那么希尔伯特空间上的厄米算符可以是它的量子化；但是这并不是必须的，$\rho(v)$的定义也可以和量子化毫无关系

一个群$G$在量子力学中的表示可能是
- 定义在$V_0$上的（如旋转群在三维坐标空间中的表示就是三维旋转矩阵）$(\Pi_0, V_0)$
- 定义在$\mathcal{H}$上的$(\Pi, \mathcal{H})$
- 定义在$\mathcal{L}(\mathcal{H})$上的

这些表示之间不是毫无关系的。定义在$\mathcal{L}(\mathcal{H})$上的$G$的表示实际上就是
$$
g \in G \to \Pi_1(g), \quad \Pi_1(g): \mathcal{L}(\mathcal{H}) \to \mathcal{L}(\mathcal{H}), \quad \Pi_1(g)(O) = \Pi(g)^{-1} O \Pi(g),
$$
从而
$$
\Pi_1(g) (\rho(v)) = \Pi(g)^{-1} \rho(v) \Pi(g).
$$
注意如果我们令
$$
\ket{\psi} \to \Pi(g) \ket{\psi}, \quad O \to \Pi(g) O \Pi(g)^{-1},
$$
那么变换前后实际上系统**毫无变化**。这种变换方式适用于表象变换，在那里我们不希望任何实质性的变化发生，但是不适用于此处我们讨论的问题，即考虑群的表示。

我们还希望在$\Pi_0$和$\Pi$之间建立关系。如果我们希望$\rho(v)$和$v$“按照一样的方式变换”，那就肯定需要要求
$$
\rho(\Pi_0 (v)) = \Pi_1(g)(\rho(v)) =\Pi(g)^{-1} \rho(v) \Pi(g).
$$

特别的，如果$V_0$是一个流形而$G$是几何操作——比如说$(p, q)$型张量的坐标变换——那么我们就可以获得所谓的**张量算符**。
此时无论是$\Pi_0$还是$\Pi_1$都是某种矩阵，它“将$v$的不同分量混合起来”。这意味着它的行为和一个标量常数很像：它和作用在$\mathcal{H}$上的算符是交换的。
于是我们可以验证
$$
\begin{aligned}
  \Pi(g_1 g_2)^{-1} \rho(v) \Pi(g_1 g_2) &= \Pi(g_2)^{-1} \Pi(g_1)^{-1} \rho(v) \Pi(g_1) \Pi(g_2) \\
  &= \Pi(g_2)^{-1} \Pi_1(g_1) \rho(v) \Pi(g_2) \\
  &= \Pi_1(g_1) \Pi(g_2)^{-1} \rho(v) \Pi(g_2) \\
  &= \Pi_1(g_1) \Pi_1(g_2) \rho(v) \\
  &= \Pi_1(g_1 g_2) \rho(v),
\end{aligned}
$$
即乘法结构能够得到维持。

容易看到以上构造中$V_0$到底是什么其实是不重要的，我们可以认为它就是一个普通的

TODO: 群的选择定则，三个表示直积，判断哈密顿量的表示；高对称点的分裂


# 李群和李代数