\documentclass[hyperref, a4paper]{article}

\usepackage{geometry}
\usepackage{float}
\usepackage{titling}
\usepackage{titlesec}
% No longer needed, since we will use enumitem package
% \usepackage{paralist}
\usepackage{enumitem}
\usepackage{footnote}
\usepackage{enumerate}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{mathtools}
\usepackage{bbm}
\usepackage{cite}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{physics}
\usepackage{tensor}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage[version=4]{mhchem}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{autobreak}
\usepackage[ruled, vlined, linesnumbered]{algorithm2e}
\usepackage{nameref,zref-xr}
\zxrsetup{toltxlabel}
\zexternaldocument*[solid-]{../solid/solid}[solid.pdf]
\usepackage[colorlinks,unicode]{hyperref} % , linkcolor=black, anchorcolor=black, citecolor=black, urlcolor=black, filecolor=black
\usepackage[most]{tcolorbox}
\usepackage{prettyref}

% Page style
\geometry{left=3.18cm,right=3.18cm,top=2.54cm,bottom=2.54cm}
\titlespacing{\paragraph}{0pt}{1pt}{10pt}[20pt]
\setlength{\droptitle}{-5em}
\preauthor{\vspace{-10pt}\begin{center}}
\postauthor{\par\end{center}}

% More compact lists 
\setlist[itemize]{itemindent=17pt, leftmargin=1pt}

% Math operators
\DeclareMathOperator{\timeorder}{T}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\legpoly}{P}
\DeclareMathOperator{\primevalue}{P}
\DeclareMathOperator{\sgn}{sgn}
\newcommand*{\ii}{\mathrm{i}}
\newcommand*{\ee}{\mathrm{e}}
\newcommand*{\const}{\mathrm{const}}
\newcommand*{\suchthat}{\quad \text{s.t.} \quad}
\newcommand*{\argmin}{\arg\min}
\newcommand*{\argmax}{\arg\max}
\newcommand*{\normalorder}[1]{: #1 :}
\newcommand*{\pair}[1]{\langle #1 \rangle}
\newcommand*{\fd}[1]{\mathcal{D} #1}
\DeclareMathOperator{\bigO}{\mathcal{O}}
\DeclareMathOperator{\id}{id}

% TikZ setting
\usetikzlibrary{arrows,shapes,positioning}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{decorations.markings}
\tikzstyle arrowstyle=[scale=1]
\tikzstyle directed=[postaction={decorate,decoration={markings,
    mark=at position .5 with {\arrow[arrowstyle]{stealth}}}}]
\tikzstyle ray=[directed, thick]
\tikzstyle dot=[anchor=base,fill,circle,inner sep=1pt]

% Algorithm setting
% Julia-style code
\SetKwIF{If}{ElseIf}{Else}{if}{}{elseif}{else}{end}
\SetKwFor{For}{for}{}{end}
\SetKwFor{While}{while}{}{end}
\SetKwProg{Function}{function}{}{end}
\SetArgSty{textnormal}

\newcommand*{\concept}[1]{{\textbf{#1}}}

\DeclareMathOperator{\im}{im}

% Embedded codes
\lstset{basicstyle=\ttfamily,
  showstringspaces=false,
  commentstyle=\color{gray},
  keywordstyle=\color{blue}
}

\newcommand{\soliddoc}{\href{../solid/solid.pdf}{this note}}

% Color boxes
\tcbuselibrary{skins, breakable, theorems}
\newtcbtheorem[number within=section]{warning}{Warning}%
  {colback=orange!5,colframe=orange!65,fonttitle=\bfseries, breakable}{warn}
\newtcbtheorem[number within=section]{note}{Note}%
  {colback=green!5,colframe=green!65,fonttitle=\bfseries, breakable}{note}
\newtcbtheorem[number within=section]{info}{Info}%
  {colback=blue!5,colframe=blue!65,fonttitle=\bfseries, breakable}{info}

\title{Prof. Yang Qi on Group Theory in Condensed Matter Physics}
\author{Jinyuan Wu}

\begin{document}

\maketitle

\section{Group extension and group cohomology}

\subsection{Group extension}

The motivation to study group extension is that many times in condensed matter physics, we need to combine two 
groups of which group elements do not commute with each other, and therefore direct product can't be applied.
Consider the following short exact sequence
\begin{equation}
    1 \to N \stackrel{f}{\to} G \stackrel{\pi}{\to} Q \to 1.
    \label{eq:short-exact-sequence-group}
\end{equation}
The definition of exact sequence means 
\begin{itemize}
    \item $f$ is injective, since $\ker f = \im (\text{the monomorphism $1 \to N$}) = 1$.
    \item $\pi$ is surjective, since $\im \pi = \ker (\text{the monomorphism $Q \to 1$}) = Q$.
    \item $Q \simeq G / \im{f}$ (where $\im{f} \simeq N$), because $G / \ker \pi = \im \pi$, and by definition we have $\ker \pi = \im f$,
    and $\im \pi = Q$ (from last line). Note that since $f$ is injective, $\im f$ is a perfect copy of $N$,
    and can be seen as an inclusion map from $N$ into $G$.
\end{itemize}
$G$ is defined said to be an \concept{extension} of $Q$ over $N$. 

We consider the case where $N$ is Abelian. What we want to do is to find and classify all group extensions.
Two group extensions are said to be \concept{equivalent} if and only if the following diagram 
\input{group-extension-equivalent-diagram.tex} commutes, and we need to find equivalence classes of 
this equivalence relation. Note that the only essential information added in this diagram is the 
group isomorphism between $G$ and $G'$ -- $f'$ and $\pi'$ can be evaluated from it.

\subsection{Direct product and semidirect product}\label{sec:direct-product-semi-direct}

The simplest kind of group extension is just direct product: we define $G$ to be 
\begin{equation}
    G = N \otimes Q,
\end{equation}
and the multiplication operation is defined as 
\begin{equation}
    (a, g) \circ (b, h) \coloneqq (a + b, g h).
    \label{eq:direct-product-def}
\end{equation}
We also have \concept{semidirect product} or \concept{split extension} $N \rtimes Q$, 
the multiplication rule of which is defined as 
\begin{equation}
    (a, g) \circ (b, h) \coloneqq (a + g b g^{-1}, gh).
    \label{eq:semidirect-product-def-original}
\end{equation}
We also say $G$ \concept{splits} over $N$. Note that the notation $g b g^{-1}$ is kind of ambiguous,
because up to now we haven't introduced any multiplication relation between $N$ and $Q$.
A more accurate notation is to introduce a group homomorphism $\varphi: Q \to \mathrm{Aut}(N)$ (the \concept{action} of $Q$ on $N$)
and interpret $\varphi(g)(a)$ as $\tilde{g} a \tilde{g}^{-1}$, where $\pi(\tilde{g}) = g$. 
According to the definition, $\pi$ is surjective and not injective, because after group extension, 
the same group element $g$ in $Q$ is ``split'' into several copies in $G$, and we use $\tilde{g}$
to denote a certain ``copy'' of $g$. \eqref{eq:semidirect-product-def-original} is therefore corrected into 
\begin{equation}
    (a, g) \circ (b, h) \coloneqq (a + \tilde{g} b \tilde{g}^{-1}, gh).
    \label{eq:semidirect-product-def}
\end{equation}

We need to check whether \eqref{eq:direct-product-def} and 
\eqref{eq:semidirect-product-def} can really make $G$ a group, i.e. we need to check whether the 
associative law holds for $\{(a, g)\}$. For direct product, this is obviously true.
For semidirect product, we have 
\[
    \begin{aligned}
        ((a, g) (b, h)) (c, i) &= (a + \tilde{g} b \tilde{g}^{-1}, gh) (c, i) \\
        &= (a + \tilde{g} b \tilde{g}^{-1} + (\widetilde{g h} ) c (\widetilde{g h})^{-1}, ghi),
    \end{aligned}
\]
and 
\[
    \begin{aligned}
        (a, g) ((b, h) (c, i)) &= (a, g) (b + \tilde{h} c \tilde{h}^{-1}, hi) \\
        &= (a + \tilde{g}(b + \tilde{h} c \tilde{h}^{-1}) \tilde{g}^{-1}, ghi).
    \end{aligned}
\]
Usually, we define multiplication rules under the definition of $(a, h)$-pairs as is in 
\eqref{eq:pair-element-def}, i.e. $\tilde{g} = s(g)$ and doesn't depend on $a, b$, and under this assumption, we have \eqref{eq:s-inv-pi-return-n}.
So we have
\[
    \tilde{g} \tilde{h} c \tilde{h}^{-1} \tilde{g}^{-1} = \widetilde{gh} c \widetilde{gh}^{-1},
\]
because 
\[
    \begin{aligned}
        &\quad \widetilde{gh}^{-1} \tilde{g} \tilde{h} c \tilde{h}^{-1} \tilde{g}^{-1} \widetilde{gh}  \\
        &= \underbrace{\widetilde{gh}^{-1} \tilde{g} \tilde{h}}_{\in \im f} + c + \underbrace{(\widetilde{gh}^{-1} \tilde{g} \tilde{h})^{-1}}_{\in \im f} \\
        &= c.
    \end{aligned}
\]
and therefore \eqref{eq:semidirect-product-def} is always self-consistent. 

The motivation of semidirect product is to imitate \emph{inner} semidirect product. 
An abstract definition of inner semidirect product can be found \href{https://en.wikipedia.org/wiki/Semidirect\_product\#Inner\_semidirect\_product\_definitions}{this Wikipedia page}.
In short, if $G$ has a subgroup $H$ and a normal subgroup $N$ with no nontrivial intersection with 
$Q$, and $G = NQ$, then we say $G$ is the \concept{inner semidirect product} of $N$ and $Q$.
\eqref{eq:semidirect-product-def}, on the other hand, is \concept{outer semidirect product}, and after we 
construct $G$ according to it, we will find $G$ is the inner semidirect product of $N \times e_Q$ and
$0_N \times Q$. 

Similarly, we have inner direct product. But it's often the case that we can only guarantee that $N$ is normal 
and there is nontrivial multiplication relation between $N$ and $Q$. In this case, $G$ simply can't be 
written as the (outer) direct product of $N$ and $Q$, and if we still want to \emph{factor} $G$ into 
something like $N \times Q$, inner \emph{semidirect} product will be handy. This explains the motivation
to introduce \eqref{eq:semidirect-product-def}. (We can define $N \times Q$, but the result doesn't have 
the same structure with $G$.)

The classification of possible semidirect product definitions or in other words split extensions is simple:
we just need to classify possible definitions of $g b g^{-1}$, or in other words, to classify group homomorphisms
from $Q$ to $\mathrm{Aut}(N)$.

\subsection{Generic extensions and their equivalence relations}

Now we want to investigate a generic extension. Given an action of $Q$ on $N$, the multiplication rule is 
\begin{equation}
    (a, g) \circ (b, h) \coloneqq (a + \tilde{g} b \tilde{g}^{-1} + \omega_2(g, h), gh),
    \label{eq:generic-central-extension}
\end{equation}
where
\begin{equation}
    \omega_2 : Q \times Q \to N.
\end{equation}
Here we assume that $\omega_2$ is only dependent on $g$ and $h$ and doesn't include $a$ and $b$, 
because of the argument below. Since $\pi$ is surjective, we can find a map $s$ from $Q$ to $G$ such that 
$\pi \circ s = \id_Q$. Note that $s$ is not necessarily a homomorphism, or otherwise 
\eqref{eq:short-exact-sequence-group} is split. % TODO
Usually we define 
\begin{equation}
    (a, g) = f(a) s(g)
    \label{eq:pair-element-def}
\end{equation}
to derive multiplication rules for $G$ (we often call $s$ a \concept{lift}, because it lifts an element in $Q$ to an -- actually a group of -- element in $G$). With this notation, we can say that $G$ is a bundle over $Q$, each 
fiber of which is labeled by an element in $Q$, and each point on a fiber is labeled by one element from $N$. 
Therefore $s$ is a (set-theoretic) section. $G$ is assembled by fibers:
\begin{equation}
    E = \coprod_{g \in G} \underbrace{M \cdot s (g)}_{\pi^{-1}(g)}.
\end{equation}
A little calculation gives
\begin{equation}
    \begin{aligned}
        (a, g) \circ (b, h) &= f(a) s(g) f(b) s(h) \\
        &= f(a) s(g) f(b) s(g)^{-1} s(g) s(h) s(gh)^{-1} s(gh).
    \end{aligned}
    \label{eq:mul-by-def}
\end{equation}
Note that since $\pi$ is a homomorphism, we have 
\[
    \begin{aligned}
        \pi (s(g) s(h) s(gh)^{-1}) &= \pi(s(g)) \pi(s(h)) \pi(s(gh))^{-1} \\
        &= g h (gh)^{-1} = e,
    \end{aligned}
\]
and the derivation also works for $s(gh)^{-1} s(g) s(h)$, so we have 
\begin{equation}
    s(gh)^{-1} s(g) s(h), s(g) s(h) s(gh)^{-1} \in \ker \pi = \im i,
    \label{eq:s-inv-pi-return-n}
\end{equation}
So \eqref{eq:mul-by-def} is now 
\begin{equation}
    (a, g) \circ (b, h) = (f(a) + s(g) f(b) s(g)^{-1} + \underbrace{s(g) s(h) s(gh)^{-1}}_{\coloneqq f(\omega_2(g,h))}) s(gh),
\end{equation}
and we get \eqref{eq:generic-central-extension}.

The next step is to check the constraint on $\omega_2$ to ensure that $G$ is really a group. 
From 
\[
    ((a, g) \circ (b, h)) \circ (c, i) = (a, g) \circ ((b, h) \circ (c, i)),
\]
we have 
\begin{equation}
    \omega_2(g, h) + \omega_2(gh, i) = \underbrace{\tilde{g} \omega_2(h, i) \tilde{g}^{-1}}_{g \cdot \omega_2(h, i)} + \omega_2(g, hi).
    \label{eq:omega-consistent-condition}
\end{equation}
The existence of inverse can then be constructed explicitly as 
\begin{equation}
    (a, g)^{-1} = (-g^{-1} a - g^{-1} \omega(g, g^{-1}), g^{-1}).
\end{equation}
The constraint on $\omega_2$ seems strange, but actually it's a part of a larger structure: \concept{group cohomology}. 

What we have done here is to prove that a group extension -- or in other words, 
a short exact sequence \eqref{eq:short-exact-sequence-group} -- can be mapped to a $Q \times Q \to N$ 
function which satisfies \eqref{eq:omega-consistent-condition}. But note that this mapping is dependent 
on the definition of $s: g \mapsto \tilde{g}$. From \eqref{eq:pair-element-def}, we can see the possibility 
that after we change $s$ to $s'$ by adding an additional $N$ element determined by $\nu: Q \to N$ as 
\[
    s'(g) = f(\nu(g)) s(g),
\]
or in other words 
\[
    (a, g)' = (a + \nu(g), g),
\]
the group extension $G'$ given by $(f, s')$ is still the same as the group extension $G$ given by $(f, s)$.
The relation between the $\omega_2$ of $G$ and the $\omega_2$ of $G'$ is given by
\[
    \begin{aligned}
        f(\omega'_2(g, h)) &= s'(g) s'(h) s'(gh)^{-1} \\
        &= f(\nu(g)) \underbrace{s(g) f(\nu(h))}_{f(g \cdot \nu(h)) s(g)} s(h) s(gh)^{-1} \underbrace{f(\nu(gh))^{-1}}_{f(- \nu(gh))} \\
        &= f(\nu(g) + g \cdot \nu(h)) \underbrace{s(g) s(h) s(gh)^{-1}}_{\omega_2(g, h)} f(- \nu(gh)) \\
        &= \omega(g, h) + f(\nu(g)) + f(g \cdot \nu(h))  - f(\nu(gh)).
    \end{aligned}
\]
So what's really happening is that we can establish a mapping from a group extension 
\eqref{eq:short-exact-sequence-group} to an \emph{equivalence class} of a subset of $Q \times Q \to N$
where \eqref{eq:omega-consistent-condition} holds, and the equivalence relation is  
\begin{equation}
    \omega_2'(g, h) = \omega(g, h) + f(\nu(g)) + f(g \cdot \nu(h))  - f(\nu(gh)).
    \label{eq:omega-2-prime-relation}
\end{equation}
The available range of $\nu$ is yet to be determined, because it may be possible that some $\nu$'s lead to a group 
extension equivalent to $G$, while others lead to different group extensions.

And here is the next step we want to take: to show that an arbitrary $\nu$ actually gives a group isomorphism.
We have 
\[
    \begin{aligned}
        (a - \nu(g), g) \circ (b - \nu(h), h) &= (a - \nu(g) + \tilde{g} (b - \nu(h)) \tilde{g}^{-1} + \omega_2'(g, h), gh) \\
        &= (a + \tilde{g} b \tilde{g}^{-1} - \nu(g) - g \cdot \nu(h) + \omega_2'(g, h) , gh) \\
        &= (a + \tilde{g} b \tilde{g}^{-1} + \omega_2(g,h) - \nu(gh), gh),
    \end{aligned}
\]
where $\omega_2'$ is given by \eqref{eq:omega-2-prime-relation}.  
The conclusion is that 
\begin{equation}
    (a, g) \mapsto (a + \nu(g), g )
    \label{eq:equivalent-isomorphism}
\end{equation}
is a group isomorphism, with $\mu$ being an arbitrary function from $Q$ to $N$. 

To summarize, we find that the set of (equivalent) group extensions differ with the group isomorphism 
\eqref{eq:equivalent-isomorphism} has one-to-one correspondence to a \eqref{eq:omega-2-prime-relation}-equivalent
class of the subset of $Q \times Q \to N$ where \eqref{eq:omega-consistent-condition} holds. Now if two 
group extensions are equivalent, the commuting diagram \eqref{eq:equivalent-commuting-diagram} means 
an element in $G$ and its corresponding element in $G'$ are both mapped to the same element in $Q$,
and they must be in the form of 
\[
    (\text{something in $N$}, g), \quad (\text{something else in $N$}, g)',
\] 
So the group isomorphism is just \eqref{eq:equivalent-isomorphism}. Therefore, we find that equivalent 
group extensions only differ with a group isomorphism \eqref{eq:equivalent-isomorphism}, and a equivalent 
class of group extensions has one-to-one correspondence to a \eqref{eq:omega-2-prime-relation}-equivalent
class of the subset of $Q \times Q \to N$ where \eqref{eq:omega-consistent-condition} holds.

\subsection{Group cohomology}

A cohomology structure can be illustrated as 
\begin{equation}
    \cdots \to C^{n-1} \stackrel{\dd_{n-1}}{\longrightarrow} C^n \stackrel{\dd_n}{\longrightarrow} C^{n+1} \to \cdots ,
    \label{eq:cohomology-chain}
\end{equation}
where 
\begin{equation}
    \dd_{n+1} \circ \dd_n \eqqcolon \dd^2 = 0,
\end{equation} 
and 
\begin{equation}
    \im \dd_{n-1} = \ker \dd_n.
\end{equation}
An element $\omega \in C^{n}$ is an \concept{$n$-cochain}. An $n$-cochain $\omega$ is said to be an 
\concept{$n$-cocycle} if and only if $\dd{\omega} = 0$, the set of which is denoted as
\begin{equation}
    Z^n = \ker \dd_n.
\end{equation}
and an $n$-cochain $\omega$ is said to be an 
\concept{$n$-coboundary} if and only if $\omega = \dd{\mu}$, the set of which is denoted as 
\begin{equation}
    B^n = \im \dd_{n-1}.
\end{equation}
Of course, $n$-coboundaries are all 
$n$-cocycles, but not inverse. A natural equivalence relation between $n$-cocycles is that 
\begin{equation}
    \omega \sim \omega' \quad \text{iff} \quad \omega - \omega' \in B^n,
\end{equation}
and the set of equivalence classes is 
\begin{equation}
    H^n = Z^n / B^n.
\end{equation}
If \eqref{eq:cohomology-chain} is exact, then $H^n$'s are trivial. Cohomology is a tool to measure how 
\emph{inexact} \eqref{eq:cohomology-chain} is.

For groups, one possible way to obtain cohomology is to define 
\begin{equation}
    C^n(G, N) \coloneqq C^n \to N,
\end{equation}
and 
\begin{equation}
    \begin{aligned}
        (\dd_n \omega)(g_1, \ldots, g_{n+1}) &\coloneqq g_1 \cdot \omega(g_2, \ldots, g_{n+1}) + \sum_{i=1}^{n} (-1)^i \omega(g_1, \ldots, g_i g_{i+1}, \ldots, g_{n+1})  \\
        &\quad \quad - (-1)^n \omega(g_1, \ldots, g_n).
    \end{aligned}
    \label{eq:group-cohomology-def-generic}
\end{equation}
We also assume that $\dd$ and $g \cdot$ commute.
Now we verify the $\dd^2 = 0$ condition. We have 
\[
    \begin{aligned}
        &\quad\dd_{n+1} (\{g_i\}_{i=1}^{n+1} \mapsto g_1 \cdot \omega(g_2, \ldots, g_{n+1})) (g_1', \ldots, g_{n+2}') \\
        &= g_1' g_2' \cdot \omega(g_3', \ldots, g_{n+2}') + \sum_{i=1}^{n+1} (-1)^i g_1' \cdot \omega(g_2', \ldots, g_i' g_{i+1}', \ldots, g_{n+2}') - (-1)^{n+1} g_1' \cdot \omega(g_2', \ldots, g_{n+1}'),
    \end{aligned}
\]
\[
    \begin{aligned}
        \dd_{n+1} (\{g_i\}_{i=1}^{n+1} \mapsto \omega(g_1, \ldots, g_n)) = 
    \end{aligned}
\]
\begin{equation}
    \cdots \to C^{n-1}(G, N) \stackrel{\dd^{n-1}}{\longrightarrow} C^n(G, N) \stackrel{\dd^n}{\longrightarrow} C^{n+1}(G, N) \to \cdots ,
\end{equation}
Specifically, we have 
\begin{equation}
    \dd{\omega}(g_1, g_2, g_3) = g_1 \cdot \omega(g_2, g_3) - \omega(g_1 g_2, g_3) + \omega(g_1, g_2 g_3) - \omega(g_2, g_3),
\end{equation}
and this means the self-consistent constraint \eqref{eq:omega-consistent-condition} on $\omega_2$ 
appearing in \eqref{eq:generic-central-extension} is just equivalent to 
\begin{equation}
    \dd{\omega_2} = 0 \quad \text{or in other words} \quad \omega_2 \in Z^2(Q, N).
\end{equation}
The fact $\omega_2$ in \eqref{eq:generic-central-extension} being a 2-cocycle hints us that 
classification of possible $\omega_2$'s -- and therefore possible group extensions -- can also be 
done in terms of group cohomology. Note that \eqref{eq:omega-2-prime-relation} can now be written as 
\begin{equation}
    \omega_2' = \omega_2 + \dd{\nu}, \quad \nu \in C^1(Q, N),
\end{equation}
because 
\begin{equation}
    \dd{\nu}(g_1, g_2) = g_1 \cdot \nu(g_2) - \nu(g_1 g_2) + \nu(g_1),
\end{equation}
so the \eqref{eq:omega-2-prime-relation}-equivalence classes are exactly shown in $H^2(Q, N)$.

So we arrive at a beautiful conclusion that possible equivalent group extensions have one-to-one 
correspondence with elements in $H^2(Q, N)$, and from one element $\omega_2$ in $H^2(Q, N)$ we can construct 
a group extension $G$ according to \eqref{eq:generic-central-extension}, and by replacing $\omega_2$
by $\omega_2 + \dd{\nu}$, we can construct \emph{all} group extensions equivalent to $G$. This completely 
classifies all group extensions with a given action of $Q$ on $N$.

\subsection{Central extensions}

A narrower class of group extensions is called \concept{central extension}, in which $f(N)$ is in the 
center of $G$, or in other words, we have 
\begin{equation}
    \tilde{g} b \tilde{g}^{-1} = b.
\end{equation}
There is no nontrivial group action of $Q$ on $N$, and in this case, we can replace the $g_1 \cdot \omega$
term in \eqref{eq:group-cohomology-def-generic} by just $\omega$. This results in a more familiar form 
of group cohomology which is only dependent on the structure of $Q$. Central extension corresponds to 
the trivial group homomorphism from $Q$ to $\mathrm{Aut}(N)$. (See the end of \prettyref{sec:direct-product-semi-direct}.)

\section{Groups and their representations in condensed matter physics}

\subsection{Symmetries in condensed matter physics}

Let's first briefly review the role of group theory in quantum mechanics.
We are usually interested in Lie group symmetries and discrete symmetries, the latter being more important in 
condensed matter physics because in this field we have to deal with lattices with point group symmetries, 
and many symmetries that are important for topological states of matter are associated with discrete symmetries 
like parity symmetry and a special symmetry for fermions named the \concept{fermion-parity symmetry}, which 
exists in all fermionic systems and arises from the fact that each term in the Hamiltonian always contains 
even fermionic operators.

So we will just work with discrete groups hereafter. Actually we have the continuous spin rotational symmetry,
but since spin-orbital coupling exists in all realistic materials, operations on the spin degrees of freedom 
are just a part of \emph{doubled} space groups.

A \concept{linear representation} is a group homomorphism from a symmetry group $G$ to $\mathrm{GL}(\mathcal{H})$,
where $\mathcal{H}$ is the Hilbert space. Since the wave function of the system can differ a phase factor 
after a symmetric operation, we can also have \concept{projective representation}. 
Representation theory gives very generic results for studying symmetries.

Let $\varphi(\cdot)$ be the mapping from $G$ to $\mathrm{GL}(\mathcal{H})$. If $\varphi$ is a linear representation,
then it's easy to see 
\begin{equation}
    \comm*{H}{\varphi(g)} = 0,
\end{equation}
for any group element $g$. We often say that $\varphi(g)$'s \emph{label} the energy eigenstates. 
For Abelian symmetric group $G$, the labels of $\ket*{n}$ are simply given by $\varphi(g_i) \ket*{n}$, where $\{g_i\}$ 
are generators of $G$. If $G$ is non-Abelian, we need to work with its irreducible representations, and 
energy eigenstates are classified into several irreducible representations of $G$, and group elements turn one 
state into another state in the same irreducible representation. The degeneracy of energy eigenstates is 
always the dimension of \emph{one} representation. Since a reducible representation can always be split into 
two irreducible representations by a perturbation, from then on we only investigate energy degeneracy protected 
by irreducible representations.

% TODO: time reversal, particle-anti particle

\subsection{Projective representations}

The necessity of projective representations in condensed matter physics can be seen from several aspects.
Suppose $G$ is an extension of $Q$ over $N$, and the Hilbert space $\mathcal{H}$ carries a linear representation of $G$.
The question is what's the relation between $Q$ and the linear representation. 
We only have the following diagram:
\input{group-extension-and-projective-representation.tex}
The mapping from $Q$ to $G$ is not a group homomorphism, and therefore there is no group homomorphism from 
$Q$ to $\mathrm{GL}(V)$. In other words, the representation of $G$ on $\mathcal{H}$ doesn't naturally induce 
a representation of $Q$. However, since if $s(g) = g' \in G$, $s(h) = h' \in G$, then $\pi(g' h') = gh$, 
we can actually construct a \emph{projective representation} of $Q$ according to the data given by the group 
extension -- we just need to interpret $\omega_2$ as a phase factor, and everything is settled well. 

\section{Space groups and their representations}

\subsection{Space groups as group extensions}

In this section we are not going to show that there are 230 space groups in $\mathbb{R}^3$. Nor will we 
enumerate 17 $\mathbb{R}^2$ space groups -- actually we usually call 2D space groups as \concept{wallpaper groups}. 
A group element of a space group is in the form of the following affine transformation
\begin{equation}
    \{R| \vb*{t}\} : \vb*{v} \mapsto R \vb*{v} + \vb*{t},
\end{equation}
or in the form of 
\begin{equation}
    \{R | \vb*{t}\} : \tilde{\vb*{v}} \coloneqq \pmqty{\vb*{v} \\ 1} \mapsto \underbrace{\pmqty{R & \vb*{t} \\ 0 & 1 }}_{\coloneqq \tilde{R}} \tilde{\vb*{v}},
\end{equation}
which is the preferred form of space group operation in numerical calculations.

Detailed discussion on the structure of space groups can be found in 
Section.~\ref{solid-sec:space-group-structure-classification} in \soliddoc.
Here we list some of the elements. First we discuss point groups. 
We have $C_n$ axises, the generator of which is labeled as $n$: 
we have 1, 2, 3, 4, 6 axises, the first being the identity. We also have rotation-reflection axises
$\bar{1}, \bar{2}, \bar{3}, \bar{4}, \bar{6}$, the first being the inversion operation and the second 
being the mirror reflection. $\bar{3}$ is not an independent generator because we have 
\[
    (\bar{3})^3 = \bar{1}, \quad \bar{3} \bar{1} = 3.
\]
Similarly, $\bar{6}$ is also not an independent generator.

There are also \concept{nonsymmorphic} operations, which involve fraction translation. There are two 
types of nonsymmorphic generators: \concept{screw axis} $\{c_n | n \vb*{R} / m\}$, where $m = 1, 2, 3, \ldots$,
and \concept{glide plane} $\{\sigma | \vb*{R} / 2\}$.

Now since we have already know how to systematically classify group extensions, we can find the ``deep'' reason 
of the emergence of nonsymmorphic operations. It's easy to find the translation group $\mathbb{T}$ is a normal
group of an arbitrary space group $G$, so $K = G / \mathbb{T}$ is a well-define group, and since there is no 
translation operation in it, it's actually a point group, which we define as 
\concept{the point group of a space group $G$}. Note that if $G$ is nonsymmorphic, $K$ is \emph{not} a subgroup of $G$.
A question to ask is whether in this case $K$ is really a point group, since we have fractional 
translation, and the answer is ``yes'', as is demonstrated in the following example. 
Consider there is a $2_1$ screw axis, and this introduces infinite space group elements 
\[
    \{ c_2 | \vb*{a} / 2 + m_1 \vb*{a}_1 + m_2 \vb*{a}_2 + m_3 \vb*{a}_3 \}.
\]
After throwing away all (integer) translations, we have \emph{two} remaining elements:
\[
    \{ c_2 | \vb*{a} / 2 \}, \quad \{ c_2 | - \vb*{a} / 2 \},
\]
instead of one $\{c_2 | 0\}$, raising the concern whether there is only one corresponding element in $G / \mathbb{T}$.
But again they are connected by an integer translation $\vb*{a}$, and these two elements -- together with  
other elements with translation operations -- form \emph{one} equivalence class, which is just $c_2$ in $G / \mathbb{T}$. 
To see whether the multiplication rules are the same as those in ``authentic'' point groups, just note that fact 
that a lattice vector after the action of a point group element becomes another lattice vector, and 
therefore, for example, 
\[
    \begin{matrix}
        \{ c_2 | - \vb*{a} / 2 \} & \stackrel{ \{ c_3 | \vb*{a}' / 3 \} \circ }{\longrightarrow} & \{ c_3 c_2 | - c_3(\vb*{a} / 2) + \vb*{a}' / 3 \} \\
        \downarrow \  \simeq &  & \downarrow \ \simeq \\
        \{ c_2 | \vb*{a} / 2 \} & \stackrel{\{ c_3 | - 2 \vb*{a}' / 3 \} \circ}{\longrightarrow} & \{ c_3 c_2 | - c_3(\vb*{a} / 2) \underbrace{+ c_3(\vb*{a}) - \vb*{a}'}_{\text{lattice vector}} + \vb*{a}' / 3 \}
    \end{matrix}
\]
So we find there is well defined multiplication rule between the equivalence class of $c_2$, $c_3$ and $c_3 c_2$,
just the same as the multiplication rule between $c_2$, $c_3$ and $c_3 c_2$. So we can establish a 
group isomorphism between $G / \mathbb{T}$ and the point group part of all operations in $G$. 

The groups $\mathbb{T}$ and $K$ can be defined for every space group, and we have $K = G / \mathbb{T}$, 
so every space group can be constructed as a group extension of $K$ by $\mathbb{T}$. Still, we need to 
ensure the group extension constructed can really by embedded into the 3D or 2D Euclidean group. 
This means the multiplication rules between $K$ and $\mathbb{T}$ are not arbitrary. In other words, 
the group action of $K$ on $\mathbb{T}$ is derived by considering their counterparts in the 3D or 2D 
Euclidean group. It's also obvious that a group extension of $K$ by $\mathbb{T}$ where the group action 
of $K$ on $\mathbb{T}$ is the same as is in the Euclidean group is a space group. because in this case 
we can assign concrete affine transformation representations to elements in $K$ and $\mathbb{T}$. 
So our conclusion is that a space group is a group extension of $K$ by $\mathbb{T}$ where the group action 
of $K$ on $\mathbb{T}$, and vice versa. So the task to find all space groups is just to find $H^2(K, \mathbb{T})$.
Possible point groups and lattice translation groups have already been constructed in 
Section~\ref{solid-sec:lattice-group} and \ref{solid-sec:classification-point-groups} in \soliddoc,
and we just need to find those $H^2$'s. Well, in practice this is not very feasible, but still, group 
cohomology is a good language to show and understand what really happens in space groups.

For symmorphic space groups, $G$ is \emph{semidirect}
product of $K$ and $\mathbb{T}$. We have 
\begin{equation}
    G = \mathbb{T} \rtimes K.
\end{equation}
For nonsymmorphic space groups, the fractional translation is part of $s(g)$. Going back to the 
example of a $2_1$ screw axis. In this case we have two equivalent definition of $s(g)$:
\[
    s(c_2) = (0, c_2) = \{ c_2 | \vb*{a} / 2 \},
\]
and 
\[
    s(c_2) = (0, c_2) = \{ c_2 | - \vb*{a} / 2 \},
\]
differing with
\[
    \nu(c_2) = \vb*{a}.
\]
The fractional translation vectors $\pm \vb*{a} / 2$ are not in $\mathbb{T}$, and indeed they are not 
shown in any algebraic data in group extension. We can find the nonsymmorphic nature of the space group 
by noticing, for example, 
\[
    \{c_2 | - \vb*{a} / 2 \} ^2 = \{ c_2^2 | - \vb*{a} / 2 + c_2 (- \vb*{a}) / 2 \} = \{ e | \underbrace{- \vb*{a}}_{\in \mathbb{T}} \},
\]
which means 
\[
    (0, c_2)^2 = (0, e) + (- \vb*{a}, 0),
\]
so with the presence of a $2_1$ axis, 
\begin{equation}
    \omega_2(c_2, c_2) = - \vb*{a} \neq 0.
\end{equation}
This ``external'' property which can be seen in the algebraic data of group extension reveals the fact 
that $2_1$ is nonsymmorphic. 

\subsection{Wave vector star and little group}

We define the \concept{little group} of $G$ to be the subgroup of $G$ where every group element keeps 
the wave vector invariant, i.e. 
\begin{equation}
    LG_{\vb*{k}} = \{g \in S | g \vb*{k} \simeq \vb*{k} \},
\end{equation}
where $\simeq$ means two wave vectors being equivalent, i.e. differ with a $\vb*{R}_m$.
Though we are only working in the first Brillouin zone, it's possible that $g$ turns a wave vector at one 
boundary face of the first Brillouin zone to another face, so it's possible that $\vb*{R}_m \neq 0$. 
We define $\vb*{k}^*$ to be the set of wave vectors that can be obtained by acting $G$ on $\vb*{k}$, and we have 
\begin{equation}
    \abs*{\vb*{k}^*} = \frac{\abs*{G}}{\abs*{LG}}.
\end{equation}
Since $T$ is a normal subgroup of $LG_{\vb*{k}}$, we define the \concept{little cogroup} 
\begin{equation}
    P G_{\vb*{k}} = \{ g \in \underbrace{ G / \mathbb{T}}_K | g \vb*{k} \simeq \vb*{k} \} = LG_{\vb*{k}} / \mathbb{T}.
\end{equation}
This gives a short exact sequence: 
\begin{equation}
    1 \to \mathbb{T} \to LG_{\vb*{k}} \to PG_{\vb*{k}} \to 1.
\end{equation}
The little cogroup $PG_{\vb*{k}}$ only contains point group operations and therefore is conceptually 
simpler than the little group, because the latter may contain nonsymmorphic operations. 

If we know all irreducible representations of $LG_{\vb*{k}}$, then we can easily construct the representation
of $G$ 
\begin{equation}
    \bigotimes_{\vb*{k}' \in \vb*{k}^*} V_{\vb*{k}'}.
\end{equation}
The irreducible representations of $LG_{\vb*{k}}$ are in turn given by the projective representations of $PG_{\vb*{k}}$.
In practice, since it's hard to find all projective representations, people still work with $LG_{\vb*{k}}$.
So here we also work inversely, to see how a linear representation of $LG_{\vb*{k}}$ becomes a 
projective representation in $PG_{\vb*{k}}$. In this case the 2-cocycle $\omega_2$ is in $H^2(PG_{\vb*{k}}, \mathbb{T})$.
Since $\omega_2(g, h)$ is always in $\mathbb{T}$, its action on a Bloch state is just a phase factor $\ee^{- \ii \vb*{k} \cdot \vb*{n}}$, where $\vb*{n}$ is the translation vector corresponding to $\omega_2(g, h)$.
Note that this phase factor is independent on degrees of freedom like band index -- it's only about translational symmetry.

Representations of space groups can be found in \href{https://www.cryst.ehu.es/}{Bilbao Server}. 

\subsection{Double groups}

When we do spacial rotation, the spins translate as well. This means actually fermions in condensed matter 
systems carry representations of the space \emph{double} group, which is introduced in 
Section~\ref{solid-sec:double-group} in \soliddoc. Note that fermions also have fermion parity symmetry, 
and we have the following group extension:
\begin{equation}
    1 \to \mathbb{Z}_2^f \to \prescript{d}{}{SG} \to SG \to 1.
\end{equation}
Since $\mathbb{Z}_2^f$ doesn't have quite nontrivial self homomorphism, the group extension must be central.
But again, calculating possible group extensions from $H_2(SG, \mathbb{Z}_2^f)$ is not very convenient 
and here we derive the extension with physical meaning.

All point group parts of operations in $SG$ are in $O(3)$, and we have 
\begin{equation}
    O(3) = SO(3) \cup T \ SO(3),
\end{equation}
where $T$ is the spacial inversion, and since angular momentum is conserved under spacial inversion, 
we have 
\begin{equation}
    T = \underbrace{\pmqty{\dmat{-1, -1, -1}}}_{\text{coordinate}} \otimes \underbrace{\pmqty{\dmat{1, 1}}}_\text{spin}.
\end{equation}
So from then on, we can just concentrate on the rotation part of the space group, which is a subgroup of $SO(3)$.
Since the space double group is the symmetry of fermions, we know it's a subgroup of $SU(2)$.
A translation operation is natural lifted as 
\begin{equation}
    R \to R \otimes \phi_R, \quad \phi_R = \ee^{\frac{\ii \theta}{2} \vb*{n} \cdot \vb*{\sigma}},
    \label{eq:double-lift-1}
\end{equation}
where $\vb*{n}$ is the axis of $R$, and we have 
\begin{equation}
    \phi_{2\pi} = \pmqty{\dmat{-1, -1}} \coloneqq -1.
\end{equation}
This naturally induces another way to lift $R$ to $SU(2)$: 
\begin{equation}
    R \to - R \otimes \phi_R = R \otimes \ee^{\ii \frac{\theta + 2\pi}{2} \vb*{n} \cdot \vb*{\sigma}}.
    \label{eq:double-lift-2}
\end{equation}
Specifically, we have 
\begin{equation}
    \{ e | 0 \} \to - \{ e | 0 \} \otimes \sigma^0 \eqqcolon P_f,
\end{equation}
which is just the fermion parity operator. The two kind of lift here are of course \emph{not} group isomorphism,
so the multiplication rules for the space double group are also to be calculated separately.

Now we go on to study the representations of double groups. Note that $P_f$ commutes with other group elements,
and by Schur's lemma, its representation matrix is either constantly $1$ or constantly $-1$ in an irreducible representation 
of a double group. Naturally, we call the former \concept{bosonic representations}, and the latter \concept{fermionic representations}.
It can be easily found that bosonic representations doesn't distinguish between \eqref{eq:double-lift-1} 
and \eqref{eq:double-lift-2}, and are essentially representations of $SG$, and naturally, a space double 
group inherits all irreducible representation of its space group as bosonic representations, and 
fermionic representations are ``additional'' representations. 

Note that when there is no spin-orbital coupling, electrons \emph{still} carry fermionic representations,
but in this case, we can ``recombine'' two fermionic representations into a bosonic representation times something else.
Suppose, for example, a 2 axis. We have $c_2^2 = P_f$, and a band with spin-orbital coupling just splits 
into two, one of them carrying the following representation:
\[
    e = 1, \quad c_2 = \ii, \quad \prescript{d}{}{c_2} = - \ii, \quad P_f = -1,
\]
and another 
\[
    e = 1, \quad c_2 = - \ii, \quad \prescript{d}{}{c_2} = \ii, \quad P_f = -1.
\]
Now suppose we have some other symmetry operation that acts on the spin degree of freedom, say,
spin flip symmetry, and this switches between the two representations and glues the two representations back into degeneracy. 
In this case, by redefining 
\begin{equation}
    \tilde{c}_2 = c_2 \ee^{\ii \pi \sigma^x / 2},
\end{equation}
we find the fermion have \emph{bosonic} spacial rotation symmetry without any operation on the spin,
and we can say the fermion carries a bosonic representation -- and an additional operation switches between two spin directions.
Another way to protect the degeneracy is to place this 2 axis into a space group with some ``fine tuning'' 
operation on the spin degree of freedom, say, $\prescript{d}{}{D_2}$.
In essence, since a $\phi_R$ operation separate from any spacial operation is also a group member of $SU(2)$,
a pure spacial rotation is a real symmetry operation, and in this case of course the fermion carries 
a bosonic representation -- while it \emph{must} carries something else.

\section{Time reversal symmetry and symmetry in magnetism}

\subsection{Subtlety in the definition of time reversal operation}

Time reversal symmetry has no action on coordinates, and therefore commutes with all space group operations.
We often denote it by $\mathbb{Z}_2^T$, but for fermions it's actually $\mathbb{Z}_4^T$. The most nontrivial aspect about this symmetry is that it's \emph{antiunitary}
when acted on physical states. An abstract group can't be unitary or antiunitary, but representations can.
The point here is, for forward time evolution, naively we have 
\[
    \ket*{\psi(0)} \to \ket*{\psi(t)} = \ee^{- \ii H t} \ket*{0},
\]
and therefore 
\[
    \ket*{\psi(0)} \to \mathcal{T} \ket*{\psi(0)} = \ket*{\psi(0)},
\]
\[
    \ket*{\psi(t)} \to \mathcal{T} \ket*{\psi(t)} = \ket*{\psi(-t)} = \ee^{\ii H t} \ket*{\psi(t)}.
\]
Here the antiunitary nature of time reversal has already emerged, and to be consistent we immediately have 
\emph{anti}-linearity:
\begin{equation}
    \mathcal{T} (\lambda \ket*{\psi}) = \lambda^* \mathcal{T} \ket*{\psi}.
\end{equation}
This also means the usual basis transformation rules don't apply here, and nor can we write down a matrix 
representation of it. Also, if $\ket*{\psi}$ is time reversal invariant, then this is \emph{not} the case 
for $\ee^{\ii \theta} \ket*{\psi}$. 

The most widely seen antilinear operation is complex conjugate. Note that the definition of the complex 
conjugate of a vector depends on what vector is considered as purely real. 
The definition of time reversal on a degree of freedom, therefore, can be written as
\begin{equation}
    \mathcal{T} = U_{\mathcal{T}} \mathcal{K},
\end{equation}
where $\mathcal{K}$ is the complex conjugate operation and $U_\mathcal{T}$ the matrix. We can decide the 
matrix element by 
\begin{equation}
    \mathcal{T} \ket*{\alpha} = \sum_\beta (U_\mathcal{T})_{\alpha \beta }\ket*{\beta}.
\end{equation}
where $\{\ket*{\alpha}\}$ is the chosen basis. 
In mathematical terms, to perform time reversal operation, we need to define a \emph{real structure} on a 
complex vector space $V$, the data of which is an antilinear operator $\mathcal{K}$ such that $\mathcal{K}^2 = 1$.
Vectors invariant under $\mathcal{K}$ form a real vector space $V_r$, and we can do decomposition 
\begin{equation}
    V = V_r \oplus \ii V_r.
\end{equation}
There is no canonical choice of the real structure in a generic complex vector space.
Therefore, $\mathcal{T}$ can be said to be basis dependent, since we need to specify what states are 
considered as ``real'', but not \emph{that} basis dependent because a linear combination of 
vectors considered as ``real'' with purely real coefficients is also real.

The designation of $\mathcal{K}$ is usually defined in the free theory of the degree of freedom involved.
Sometimes it's convenient to redefine time reversal symmetry. In some topological superconductors, for example, 
we have 
\begin{equation}
    \mathcal{T} \Delta = - \Delta, 
\end{equation}
so time reversal symmetry is broken, but we also have a $U(1)$ symmetry, so the combination of $\mathcal{T}$
and $\ee^{\ii \pi / 2}$ gives an operation $\mathcal{T}'$ that looks like a time reversal symmetry in 
other aspects but 
\begin{equation}
    \mathcal{T}'^2 = 1.
\end{equation}
This so-called ``time reversal symmetry'' leads to a different topological classification.

For fermions we can verify that 
\begin{equation}
    \mathcal{T} = - \ii \sigma^y \mathcal{K}
    \label{eq:fermion-time-reversal}
\end{equation}
is a good choice. Under this operation, 
\[
    \vb*{\mu} \to - \vb*{\mu}, \quad \vb*{B} \to - \vb*{B}, \quad \vb*{\sigma} \to - \vb*{\sigma}.
\]
The last equation is because 
\[
    \begin{aligned}
        \mathcal{T} \sigma^i \mathcal{T}^{-1} &= \sigma^y \mathcal{K} \sigma^i \mathcal{K}^{-1} \sigma^y = \sigma^y \mathcal{K} \sigma^i \mathcal{K} \sigma^y  \\
        &= 
    \end{aligned}
\]
Under \eqref{eq:fermion-time-reversal}, since $\mathcal{T}^2 = -1$, we find the group formed by generator $\mathcal{T}$
is actually $\mathbb{Z}_4$. 
Again, $\mathcal{T}^2$ is the fermion parity operator.

\subsection{Magnetic groups}

When the temperature is high, the 2D or 3D Heisenberg model is in a PM phase, while in the low temperature 
region it has an FM or AFM order. This results in an expansion of the unit cell. Note that in an AFM
phase, a $\vu*{x}$-translation turns a $\uparrow$ spin into $\downarrow$, but after doing a time reversal 
transformation, again $\downarrow$ is flipped back into $\uparrow$. Similarly, when placed on a square lattice, 
$c_4$ translation times $\mathcal{T}$ is still a symmetry operation, but not $c_4$ along.

So for magnetic orders, the symmetry breaking is not simply reducing the original space group to a smaller 
one, but assigning a $\mathcal{T}$ operation to some group elements. The resulting group is called 
a \concept{magnetic group}. 

We use $s(g)$ to denote whether $g$ is unitary in a magnetic group: $+1$ means unitary, $-1$ means antiunitary.
It's easy to verify that 
\begin{equation}
    s(g_1) s(g_2) = s(g_1 g_2),
\end{equation}
because the product of two antiunitary is unitary, and therefore $s: MSG \to \mathbb{Z}_2$ is a 
group homomorphism. Since the group elements don't know whether they are unitary, a magnetic group 
is actually to be represented by $(MSG, s)$, and we have the following short exact sequence: 
\begin{equation}
    1 \to MSG_0 \to MSG \stackrel{s}{\to} \mathbb{Z}_2 \to 1,
\end{equation}
where $MSG_0$ is the unitary subgroup, and of course it is a space group. 

\end{document}