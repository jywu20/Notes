\documentclass[hyperref, UTF8, a4paper, oneside]{ctexbook}

\usepackage{geometry}
\usepackage{titling}
\usepackage{titlesec}
\usepackage{paralist}
\usepackage{footnote}
\usepackage{enumerate}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{mathtools}
\usepackage{cite}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{physics}
\usepackage{siunitx}
\usepackage[compat=1.1.0]{tikz-feynhand}
\usepackage{xr-hyper}
\usepackage[colorlinks, linkcolor=black, anchorcolor=black, citecolor=black, filecolor=black]{hyperref}
\usepackage[most]{tcolorbox}
\usepackage{caption}
\usepackage{prettyref}

\externaldocument[qft-]{../relativistic-qft/relativistic-qft}[relativistic-qft.pdf]
\externaldocument[solid-]{../solid/solid}[solid.pdf]

\geometry{left=3.28cm,right=3.28cm,top=2.54cm,bottom=2.54cm}
\titlespacing{\paragraph}{0pt}{1pt}{10pt}[20pt]
\setlength{\droptitle}{-5em}
\preauthor{\vspace{-10pt}\begin{center}}
\postauthor{\par\end{center}}

\newcommand*{\ee}{\mathrm{e}}
\newcommand*{\ii}{\mathrm{i}}
\newcommand*{\const}{\mathrm{const}}
\newcommand*{\natnums}{\mathbb{N}}
\newcommand*{\reals}{\mathbb{R}}
\newcommand*{\complexes}{\mathbb{C}}
\DeclareMathOperator{\timeorder}{T}
\newcommand*{\ogroup}[1]{\mathrm{O}(#1)}
\newcommand*{\sogroup}[1]{\mathrm{SO}(#1)}
\DeclareMathOperator{\legpoly}{P}

\newrefformat{sec}{第\ref{#1}节}
\newrefformat{note}{注\ref{#1}}
\newrefformat{fig}{图\ref{#1}}
\newrefformat{part}{第\ref{#1}部分}
\newrefformat{chap}{第\ref{#1}章}
\newrefformat{tbl}{表\ref{#1}}
\newrefformat{back}{背景知识\ref{#1}}
\newrefformat{info}{资料框\ref{#1}}
\newrefformat{warn}{注意事项\ref{#1}}
\renewcommand{\autoref}{\prettyref}

\newcommand{\concept}[1]{\underline{#1}}
\renewcommand{\emph}{\textbf}

% Support for tensor double arrows.
\newcommand{\tensor}[1]{ \stackrel{\leftrightarrow}{\vb*{#1}}}

\usetikzlibrary{arrows,shapes,positioning}
\usetikzlibrary{arrows.meta}
\usetikzlibrary{decorations.markings}
\tikzstyle arrowstyle=[scale=1]
\tikzstyle directed=[postaction={decorate,decoration={markings,
    mark=at position .5 with {\arrow[arrowstyle]{stealth}}}}]
\tikzstyle ray=[directed, thick]

\tikzfeynhandset{
    every boldphoton@@/.style={
    /tikz/draw=none,
    /tikz/postaction={
            /tikz/draw,
            /tikz/double,
            /tikz/line width = \feynhandlinesize,
            /tikz/decoration={
                complete sines,
                amplitude=3\feynhandlinesize,
                segment length=7.5\feynhandlinesize,
            },
            /tikz/decorate=true,
        },
    },
    every boldphoton/.style={/tikzfeynhand/every boldphoton@@/.append style={#1}},
    boldphoton/.style={
    /tikzfeynhand/every boldphoton@@,
    },
}

\tikzfeynhandset{
    every extphoton@@/.style={
        /tikz/draw=none,
        /tikz/decoration={name=none},
        /tikz/postaction={
          /tikz/draw,
          /tikz/line width = \feynhandlinesize,
          /tikzfeynhand/with arrow=0.9,
        }
    },
    every extphoton/.style={/tikzfeynhand/every extphoton@@/.append style={#1}},
    extphoton/.style={
    /tikzfeynhand/every extphoton@@,
    }
}

\tikzfeynhandset{
    every outphoton@@/.style={
    /tikz/draw=none,
    /tikzfeynhand/with arrow=0.9,
    /tikz/postaction={
            /tikz/draw,
            /tikz/line width = \feynhandlinesize,
            /tikz/decoration={
                complete sines,
                amplitude=3\feynhandlinesize,
                segment length=7.5\feynhandlinesize,
            },
            /tikz/decorate=true,
        },
    },
    every outphoton/.style={/tikzfeynhand/every outphoton@@/.append style={#1}},
    outphoton/.style={
    /tikzfeynhand/every outphoton@@,
    },
}

\tcbuselibrary{skins, breakable, theorems}

\newtcbtheorem[number within=chapter]{back}{背景知识}%
  {colback=blue!5,colframe=blue!65,fonttitle=\bfseries, breakable}{back}
\newtcbtheorem[number within=chapter]{info}{资料框}%
  {colback=blue!5,colframe=blue!65,fonttitle=\bfseries, breakable}{info}
\newtcbtheorem[number within=chapter]{warning}{注意事项}%
  {colback=orange!5,colframe=orange!65,fonttitle=\bfseries, breakable}{warn}

\newenvironment{bigcase}{\left\{\quad\begin{aligned}}{\end{aligned}\right.}

\numberwithin{equation}{chapter}

\newcommand{\qftdoc}{\href{../relativistic-qft/relativistic-qft.pdf}{相对论性量子场论笔记}}
\newcommand{\soliddoc}{\href{../solid/solid.pdf}{固体物理笔记}}

\title{电磁场，电磁波，光学}
\author{吴晋渊}

\begin{document}

\maketitle

\part{介质的电动力学性能}

\input{first-principles.tex}

\part{静态和准静态情况}

\input{static.tex}

\input{circulate.tex}

\input{radiation.tex}

\part{线性介质中光的传播}

\input{linear-planewave.tex}

\input{classical-wave.tex}

\input{structure.tex}

\part{光源}\label{part:source}

\input{source.tex}

\part{非线性光学}

\input{nonlinear-origin.tex}

\input{classical-nonlinear.tex}

\input{fast.tex}

\part{光的量子性质}

\input{quantum.tex}

\bibliographystyle{plain}
\bibliography{optics,../formalism/classical-feyn,quantum-state} 

\end{document}